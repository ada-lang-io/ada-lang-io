<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-arm/AA-4/AA-4.3">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">4.3 Aggregates | Ada Programming Language</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ada-lang.io/img/ada_saw_coin.svg"><meta data-rh="true" name="twitter:image" content="https://ada-lang.io/img/ada_saw_coin.svg"><meta data-rh="true" property="og:url" content="https://ada-lang.io/docs/arm/AA-4/AA-4.3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="4.3 Aggregates | Ada Programming Language"><meta data-rh="true" name="description" content="This Reference Manual output has not been verified,"><meta data-rh="true" property="og:description" content="This Reference Manual output has not been verified,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ada-lang.io/docs/arm/AA-4/AA-4.3"><link data-rh="true" rel="alternate" href="https://ada-lang.io/docs/arm/AA-4/AA-4.3" hreflang="en"><link data-rh="true" rel="alternate" href="https://ada-lang.io/docs/arm/AA-4/AA-4.3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://L84ZBWQFIW-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Ada Programming Language" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.fa38249f.css">
<link rel="preload" href="/assets/js/runtime~main.f14fed81.js" as="script">
<link rel="preload" href="/assets/js/main.e3b285d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_PsUX">Skip to main content</a></div><div class="announcementBar_WkpO" style="background-color:#fcb316;color:#fafbfc" role="banner"><div class="content_MaPt announcementBarContent_FZov">Please thank Jay on HN or lobsters for announcing this website, which is still work in progress! Thanks Jay! ðŸ˜‚</div></div><nav class="navbar navbar--fixed-top navbarHideable_mNCz navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--light_fir_" height="32" width="32"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--dark_Yb8R" height="32" width="32"></div><b class="navbar__title text--truncate">Ada</b></a><a class="navbar__item navbar__link" href="/docs/getting-started/why-ada">Getting Started</a><a class="navbar__item navbar__link" href="/docs/arm/AA-Title">Reference Manual</a><a class="navbar__item navbar__link" href="/docs/style-guide/Ada_Style_Guide">Style Guide</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ada-lang-io/ada-lang-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fa-icon header__image header-github-link" aria-label="GitHub repository"></a><div class="toggle_f6mK colorModeToggle_A14r"><button class="clean-btn toggleButton_sBaH toggleButtonDisabled_zX9s" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_laRG"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_LmdW"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_HudF"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_CTK3 docsWrapper_pj5o"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_pq8e" type="button"></button><div class="docPage_Dex0"><aside class="theme-doc-sidebar-container docSidebarContainer_H9tl"><div class="sidebar_MIOj sidebarWithHideableNavbar_aL0W"><a tabindex="-1" class="sidebarLogo_l99H" href="/"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--light_fir_" height="32" width="32"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--dark_Yb8R" height="32" width="32"><b>Ada</b></a><nav class="menu thin-scrollbar menu_OcSK menuWithAnnouncementBar_WQFG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-Title">Annotated Ada Reference Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-TOC">Table of Contents</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-1/">1 General</a><button aria-label="Toggle the collapsible sidebar category &#x27;1 General&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-2/">2 Lexical Elements</a><button aria-label="Toggle the collapsible sidebar category &#x27;2 Lexical Elements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-3/">3 Declarations and Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;3 Declarations and Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/arm/AA-4/">4 Names and Expressions</a><button aria-label="Toggle the collapsible sidebar category &#x27;4 Names and Expressions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.1">4.1 Names</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.2">4.2 Literals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/arm/AA-4/AA-4.3">4.3 Aggregates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.4">4.4 Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.5">4.5 Operators and Expression Evaluation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.6">4.6 Type Conversions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.7">4.7 Qualified Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.8">4.8 Allocators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.9">4.9 Static Expressions and Static Subtypes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-4/AA-4.10">4.10 Image Attributes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-5/">5 Statements</a><button aria-label="Toggle the collapsible sidebar category &#x27;5 Statements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-6/">6 Subprograms</a><button aria-label="Toggle the collapsible sidebar category &#x27;6 Subprograms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-7/">7 Packages</a><button aria-label="Toggle the collapsible sidebar category &#x27;7 Packages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-8/">8 Visibility Rules</a><button aria-label="Toggle the collapsible sidebar category &#x27;8 Visibility Rules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-9/">9 Tasks and Synchronization</a><button aria-label="Toggle the collapsible sidebar category &#x27;9 Tasks and Synchronization&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-10/">10 Program Structure and Compilation Issues</a><button aria-label="Toggle the collapsible sidebar category &#x27;10 Program Structure and Compilation Issues&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-11/">11 Exceptions</a><button aria-label="Toggle the collapsible sidebar category &#x27;11 Exceptions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-12/">12 Generic Units</a><button aria-label="Toggle the collapsible sidebar category &#x27;12 Generic Units&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-13/">13 Representation Issues</a><button aria-label="Toggle the collapsible sidebar category &#x27;13 Representation Issues&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-A/">Annex A Predefined Language Environment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex A Predefined Language Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-B/">Annex B Interface to Other Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex B Interface to Other Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-C/">Annex C Systems Programming</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex C Systems Programming&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-D/">Annex D Real-Time Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex D Real-Time Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-E/">Annex E Distributed Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex E Distributed Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-F/">Annex F Information Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex F Information Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-G/">Annex G Numerics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex G Numerics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-H/">Annex H High Integrity Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex H High Integrity Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-J/">Annex J Obsolescent Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex J Obsolescent Features&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-K/">Annex K Language-Defined Aspects and Attributes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex K Language-Defined Aspects and Attributes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-L/">Annex L Language-Defined Pragmas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-M/">Annex M Summary of Documentation Requirements</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex M Summary of Documentation Requirements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-N/">Annex N Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-P/">Annex P Syntax Summary</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex P Syntax Summary&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-Q/">Annex Q Language-Defined Entities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex Q Language-Defined Entities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_i4lj"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Akqt"><div class="docItemContainer__SRs"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_d3kZ" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_wED1"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/arm/AA-4/"><span itemprop="name">4 Names and Expressions</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">4.3 Aggregates</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_BdTe theme-doc-toc-mobile tocMobile_ZDJO"><button type="button" class="clean-btn tocCollapsibleButton_AJTt">On this page</button></div><div class="theme-doc-markdown markdown"><h1>4.3 Aggregates</h1><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_a8rJ"><p>This Reference Manual output has not been verified,
and may contain omissions or errors.
Report any problems on the <a href="https://github.com/ada-lang-io/ada-lang-io/issues/20" target="_blank" rel="noopener noreferrer">tracking issue</a></p></div></div><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1</small></a></div><p>[ An <em>aggregate</em> combines component values into a composite value of an array type, record type, or record extension.] <br></p><div class="wrapper_ab13"><a id="p1.a.1" href="#p1.a.1" class="text_WcJ3"><small>1.a.1/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>glossary entry</div><div class="admonitionContent_a8rJ"><strong></strong>An aggregate is a construct used to define a value of a composite type by specifying the values of the components of the type.<br></div></div></div><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2</small></a></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax">Syntax<a class="hash-link" href="#syntax" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br><code>aggregate</code><a id="S0106"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code><br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code><br></code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/5</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0307-1</em>}<!-- --> <br>The expected type for an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> shall be a single array type, a single type with the Aggregate aspect specified, or a single descendant of a record type or of a record extension. <br></p><div class="wrapper_ab13"><a id="p4.a" href="#p4.a" class="text_WcJ3"><small>4.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>See <a href="/docs/arm/AA-8/AA-8.6">8.6</a>, &quot;<a href="/docs/arm/AA-8/AA-8.6">The Context of Overload Resolution</a>&quot; for the meaning of &quot;shall be a single ... type&quot;. <br></div></div></div><div class="wrapper_ab13"><a id="p4.b" href="#p4.b" class="text_WcJ3"><small>4.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0005-1</em>}<!-- --> <br>There are additional rules for each kind of aggregate. These aggregate rules are additive; a legal expression needs to satisfy all of the applicable rules. That means the rule given here must be satisfied even when it is syntactically possible to tell which specific kind of aggregate is being used. <br></div></div></div><div class="wrapper_ab13"><a id="p4.c" href="#p4.c" class="text_WcJ3"><small>4.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0005-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0307-1</em>}<!-- --> <br>Generally, we don&#x27;t want to look in <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s to resolve them. For instance, Ada 95 allowed array types to match <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>s, even though those have to be record types. Thus, we allow any record type with any visible (nondiscriminant) components to match an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, even though only <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>s allow private types or private extensions. Similarly, we allow any container type to match an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, even though only <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code>s allow container types. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules">Legality Rules<a class="hash-link" href="#legality-rules" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> or <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> shall not be of a class-wide type. <br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3"><small>5.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>When the expected type in some context is class-wide, an aggregate has to be explicitly qualified by the specific type of value to be created, so that the expected type for the aggregate itself is specific. <br></div></div></div><div class="wrapper_ab13"><a id="p5.b" href="#p5.b" class="text_WcJ3"><small>5.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>We used to disallow <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s of a type with unknown discriminants. However, that was unnecessarily restrictive in the case of an extension aggregate, and irrelevant to a record aggregate (since a type that is legal for a record aggregate could not possibly have unknown discriminants) and to an array aggregate (the only specific types that can have unknown discriminants are private types, private extensions, and types derived from them). <br></div></div></div><div class="wrapper_ab13"><a id="p5.c" href="#p5.c" class="text_WcJ3"><small>5.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0127-1</em>}<!-- --> <br>We don&#x27;t mention <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>s, as those can get the specific type from the object represented by the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> (possibly at run time). We don&#x27;t mention <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>s, as those cannot even be of a tagged type, so being class-wide is impossible. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6</small></a></div><p>For the evaluation of an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, an anonymous object is created and values for the components or ancestor part are obtained (as described in the subsequent subclause for each kind of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>) and assigned into the corresponding components or ancestor part of the anonymous object. Obtaining the values and the assignments occur in an arbitrary order. The value of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is the value of this object. <br></p><div class="wrapper_ab13"><a id="p6.a" href="#p6.a" class="text_WcJ3"><small>6.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>The ancestor part is the set of components inherited from the ancestor type. The syntactic category <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> or <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> that specifies how the ancestor part of the anonymous object should be initialized. <br></div></div></div><div class="wrapper_ab13"><a id="p6.b" href="#p6.b" class="text_WcJ3"><small>6.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The assignment operations do the necessary value adjustment, as described in <a href="/docs/arm/AA-7/AA-7.6">7.6</a>. Note that the value as a whole is not adjusted - just the subcomponents (and ancestor part, if any). <a href="/docs/arm/AA-7/AA-7.6">7.6</a> also describes when this anonymous object is finalized.<br></div></div></div><div class="wrapper_ab13"><a id="p6.c" href="#p6.c" class="text_WcJ3"><small>6.c</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> the Initialize procedure for the ancestor type is applied to the ancestor part after default-initializing it, unless the procedure is abstract, as described in <a href="/docs/arm/AA-7/AA-7.6">7.6</a>. The Adjust procedure for the ancestor type is not called in this case, since there is no assignment to the ancestor part as a whole. <br></div></div></div><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7</small></a></div><p>If an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is of a tagged type, a check is made that its value belongs to the first subtype of the type. Constraint_Error is raised if this check fails. <br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3"><small>7.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This check ensures that no values of a tagged type are ever outside the first subtype, as required for inherited dispatching operations to work properly (see <a href="/docs/arm/AA-3/AA-3.4">3.4</a>). This check will always succeed if the first subtype is unconstrained. This check is not extended to untagged types to preserve upward compatibility. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-83">Extensions to Ada 83<a class="hash-link" href="#extensions-to-ada-83" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7.b" href="#p7.b" class="text_WcJ3"><small>7.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">We now allow <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>s. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-83">Wording Changes from Ada 83<a class="hash-link" href="#wording-changes-from-ada-83" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7.c" href="#p7.c" class="text_WcJ3"><small>7.c</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">We have adopted new wording for expressing the rule that the type of an aggregate shall be determinable from the outside, though using the fact that it is nonlimited record (extension) or array.<br></div></div></div><div class="wrapper_ab13"><a id="p7.d" href="#p7.d" class="text_WcJ3"><small>7.d</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">An <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> now creates an anonymous object. This is necessary so that controlled types will work (see <a href="/docs/arm/AA-7/AA-7.6">7.6</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-95">Incompatibilities With Ada 95<a class="hash-link" href="#incompatibilities-with-ada-95" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7.e" href="#p7.e" class="text_WcJ3"><small>7.e/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>In Ada 95, a limited type is not considered when resolving an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>. Since Ada 2005 now allows limited <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s, we can have incompatibilities. For example: <br></div></div></div><div class="wrapper_ab13"><a id="p7.f" href="#p7.f" class="text_WcJ3"><small>7.f/2</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">type Lim is limited<!-- -->
<!-- -->   record<!-- -->
<!-- -->      Comp: Integer;<!-- -->
<!-- -->   end record;<!-- -->
<div class="wrapper_ab13"><a id="p7.g" href="#p7.g" class="text_WcJ3"><small>7.g/2</small></a></div>type Not_Lim is<!-- -->
<!-- -->   record<!-- -->
<!-- -->      Comp: Integer;<!-- -->
<!-- -->   end record;<!-- -->
<div class="wrapper_ab13"><a id="p7.h" href="#p7.h" class="text_WcJ3"><small>7.h/2</small></a></div>procedure P(X: Lim);<!-- -->
<!-- -->procedure P(X: Not_Lim);<!-- -->
<div class="wrapper_ab13"><a id="p7.i" href="#p7.i" class="text_WcJ3"><small>7.i/2</small></a></div>P((Comp =<!-- -->&gt;<!-- --> 123)); -- Illegal in Ada 2005, legal in Ada 95<!-- -->
<div class="wrapper_ab13"><a id="p7.j" href="#p7.j" class="text_WcJ3"><small>7.j/2</small></a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The call to P is ambiguous in Ada 2005, while it would not be ambiguous in Ada 95 as the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> could not have a limited type. Qualifying the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> will eliminate any ambiguity. This construction would be rather confusing to a maintenance programmer, so it should be avoided, and thus we expect it to be rare. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-95">Extensions to Ada 95<a class="hash-link" href="#extensions-to-ada-95" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7.k" href="#p7.k" class="text_WcJ3"><small>7.k/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br><code><a href="/docs/arm/AA-4/AA-4.3#S0106">Aggregate</a></code>s can be of a limited type. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-2012">Incompatibilities With Ada 2012<a class="hash-link" href="#incompatibilities-with-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7.l" href="#p7.l" class="text_WcJ3"><small>7.l/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0005-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br>We now allow types with the Aggregate aspect specified (&quot;container types&quot;), as well as private types and extensions descended from a record type or extension, to match all forms of <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>. These types are only allowed for new types of <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> (<code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code>s for the Aggregate aspect, and <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>s for private types), but, consistent with other forms of <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, we do not look at the form of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> to determine resolution. This can be incompatible in usually unlikely cases, where overloading of a container or private type with a type that was previously allowed in <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s makes an existing call ambiguous. Unfortunately, Ada.Containers.Vectors has a number of such overloadings for Insert, Append, Prepend, and &quot;&amp;&quot;, so the problem may appear for any element type of a Vector that allows aggregates. For instance, if My_Vector is an instance of Ada.Containers.Vectors with an element type of Not_Lim as defined above, and V is an object of My_Vector.Vector, then My_Vector.Append (V, (Comp =<!-- -->&gt;<!-- --> 123)); will be illegal in Ada 2022 and legal in Ada 2012. This can easily be fixed by qualifying the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> with the correct type. <br></div></div></div><a id="Subclause_4.3.1"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="431--record-aggregates">4.3.1  Record Aggregates<a class="hash-link" href="#431--record-aggregates" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1</small></a></div><p>[In a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>, a value is specified for each component of the record or record extension value, using either a named or a positional association.] <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax-1">Syntax<a class="hash-link" href="#syntax-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep"><code>record_aggregate</code><a id="S0107"></a><code> ::= </code>(<code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>)<br><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep"><code>record_component_association_list</code><a id="S0108"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code>}<br>  | <strong>null record</strong><br><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/2</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI95-00287-01</em>}<!-- --> <br><code>record_component_association</code><a id="S0109"></a><code> ::= </code><br>    [<code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code> =<!-- -->&gt;<!-- -->] <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br>   | <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<br><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>component_choice_list</code><a id="S0110"></a><code> ::= </code><br>     <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code> <!-- -->{<!-- -->&#x27;|&#x27; <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code>}<br>   | <strong>others</strong><br><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6</small></a></div></code></pre><p>A <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> is a <em>named component association</em> if it has a <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code>; otherwise, it is a <em>positional component association</em>. Any positional component associations shall precede any named component associations. If there is a named association with a <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code> of <strong>others</strong>, it shall come last. <br></p><div class="wrapper_ab13"><a id="p6.a" href="#p6.a" class="text_WcJ3"><small>6.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>These rules were implied by the BNF in an early version of the RM9X, but it made the grammar harder to read, and was inconsistent with how we handle discriminant constraints. Note that for array aggregates we still express some of the rules in the grammar, but array aggregates are significantly different because an array aggregate is either all positional (with a possible <strong>others</strong> at the end), or all named. <br></div></div></div><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7</small></a></div><p>In the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> for a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>, if there is only one association, it shall be a named association. <br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3"><small>7.a/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0264-1</em>}<!-- --> <br>Otherwise, the construct would be interpreted as a parenthesized expression. This is considered a syntax rule, since it is relevant to overload resolution. We choose not to express it with BNF so we can share the definition of <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> in both <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> and <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p7.b" href="#p7.b" class="text_WcJ3"><small>7.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> does not have such a restriction. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-1">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3"><small>8/2</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <br>The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> shall be a single record type or record extension. <br></p><div class="wrapper_ab13"><a id="p8.a" href="#p8.a" class="text_WcJ3"><small>8.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This rule is used to resolve whether an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> or a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>. The presence of a <strong>with</strong> is used to resolve between a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> and an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3"><small>9/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>, all components of the composite value defined by the aggregate are <em>needed</em>[; for the association list of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, only those components not determined by the ancestor expression or subtype are needed (see <a href="/docs/arm/AA-4/AA-4.3#Subclause_4.3.2">4.3.2</a>).] Each <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code> in a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> or <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> shall denote a needed component [(including possibly a discriminant)]. Each <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code> in a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> (see <a href="/docs/arm/AA-4/AA-4.3#Subclause_4.3.4">4.3.4</a>) shall denote a nondiscriminant component of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>.<br></p><div class="wrapper_ab13"><a id="p9.a" href="#p9.a" class="text_WcJ3"><small>9.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>For the association list of a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>, &quot;needed components&quot; includes every component of the composite value, but does not include those in unchosen <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code>s (see AI83-309). If there are <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code>s, then the value specified for the discriminant that governs them determines which <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code> is chosen, and hence which components are needed.<br></div></div></div><div class="wrapper_ab13"><a id="p9.b" href="#p9.b" class="text_WcJ3"><small>9.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If an extension defines a new <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code>, then all of its discriminants are needed in the component association list of an extension aggregate for that type, even if the discriminants have the same names and types as discriminants of the type of the ancestor expression. This is necessary to ensure that the positions in the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> are well defined, and that discriminants that govern <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code>s can be given by static expressions. <br></div></div></div><div class="wrapper_ab13"><a id="p9.c" href="#p9.c" class="text_WcJ3"><small>9.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We don&#x27;t define &quot;needed&quot; for <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>s so that there is no completeness requirement. But that means that we need to ensure that the rules using &quot;needed&quot; doesn&#x27;t appear to apply to <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>s, and we also need Legality Rules to prevent giving the same component twice and giving components from two different variants. <br></div></div></div><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3"><small>10</small></a></div><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3"><small>11</small></a></div><p>The expected type for the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> is the type of the <em>associated</em> component(s); the associated component(s) are as follows: <br></p><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3"><small>12</small></a></div><ul><li>For a positional association, the component [(including possibly a discriminant)] in the corresponding relative position (in the declarative region of the type), counting only the needed components; <br></li><div class="wrapper_ab13"><a id="p12.a" href="#p12.a" class="text_WcJ3"><small>12.a</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This means that for an association list of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, only noninherited components are counted to determine the position.<br></div></div></div><div class="wrapper_ab13"><a id="p12.b" href="#p12.b" class="text_WcJ3"><small>12.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0005-1</em>}<!-- --> <br>For a derived type (including type extensions), the order of declaration is defined in <a href="/docs/arm/AA-3/AA-3.4">3.4</a>, &quot;<a href="/docs/arm/AA-3/AA-3.4">Derived Types and Classes</a>&quot;. In particular, all discriminants come first, regardless of whether they are defined for the parent type or are newly added to the derived type. <br></div></div></div><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3"><small>13</small></a></div><ul><li>For a named association with one or more <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code>s, the named component(s);<br></li><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3"><small>14</small></a></div><li>For a named association with the reserved word <strong>others</strong>, all needed components that are not associated with some previous association. <br></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-1">Legality Rules<a class="hash-link" href="#legality-rules-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3"><small>15</small></a></div><p>If the type of a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> is a record extension, then it shall be a descendant of a record type, through one or more record extensions (and no private extensions).<br></p><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3"><small>16/5</small></a></div><p>{<em>AI05-0016-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> shall be <strong>null record</strong> only if the list occurs in a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> or <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, and there are no components needed for that list.<br></p><div class="wrapper_ab13"><a id="p16.a" href="#p16.a" class="text_WcJ3"><small>16.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>For example, &quot;(<strong>null record</strong>)&quot; is a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> for a null record type. Similarly, &quot;(T&#x27;(A) <strong>with null record</strong>)&quot; is an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> for a type defined as a null record extension of T.<br></div></div></div><div class="wrapper_ab13"><a id="p16.b" href="#p16.b" class="text_WcJ3"><small>16.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0016-1</em>}<!-- --> <br>If no components are needed and <strong>null record</strong> is not used, the <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> must necessarily be <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- -->, as that is the only <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> that does not require an associated component. <br></div></div></div><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3"><small>17/5</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <!-- -->{<em>AI05-0199-1</em>}<!-- --> <!-- -->{<em>AI12-0046-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> or <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, each <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> other than an <strong>others</strong> choice with a <!-- -->&lt;<!-- -->&gt;<!-- --> shall have at least one associated component, and each needed component shall be associated with exactly one <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code>. For a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>, each <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code> of each <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code> shall denote a distinct nondiscriminant component of the type of the aggregate.<br></p><div class="wrapper_ab13"><a id="p17.a" href="#p17.a" class="text_WcJ3"><small>17.a/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00287-01</em>}<!-- --> <br>These rules apply to an association with an <strong>others</strong> choice with an expression. An <strong>others</strong> choice with a <!-- -->&lt;<!-- -->&gt;<!-- --> can match zero components or several components with different types. <br></div></div></div><div class="wrapper_ab13"><a id="p17.b" href="#p17.b" class="text_WcJ3"><small>17.b/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00287-01</em>}<!-- --> <br>Without these rules, there would be no way to know what was the expected type for the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of the association. Note that some of the rules do not apply to <!-- -->&lt;<!-- -->&gt;<!-- --> associations, as we do not need to resolve anything. We allow <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- --> to match no components as this is similar to array aggregates. That means that (<strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- -->) always represents a default-initialized record or array value. <br></div></div></div><div class="wrapper_ab13"><a id="p17.c" href="#p17.c" class="text_WcJ3"><small>17.c/4</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><em>This paragraph was deleted.</em>{<em>AI12-0046-1</em>}<!-- --> <br></div></div></div><div class="wrapper_ab13"><a id="p17.d" href="#p17.d" class="text_WcJ3"><small>17.d</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The rule that requires at least one associated component for each <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> implies that there can be no extra associations for components that don&#x27;t exist in the composite value, or that are already determined by the ancestor expression or subtype of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>.<br></div></div></div><div class="wrapper_ab13"><a id="p17.e" href="#p17.e" class="text_WcJ3"><small>17.e</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The second part of the first sentence ensures that no needed components are left out, nor specified twice. <br></div></div></div><div class="wrapper_ab13"><a id="p17.1" href="#p17.1" class="text_WcJ3"><small>17.1/5</small></a></div><p>{<em>AI12-0046-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <br>If a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> with an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> has two or more associated components, all of them shall be of the same type, or all of them shall be of anonymous access types whose subtypes statically match. In addition, Legality Rules are enforced separately for each associated component.<br></p><div class="wrapper_ab13"><a id="p17.f" href="#p17.f" class="text_WcJ3"><small>17.f/4</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0046-1</em>}<!-- --> <br>AI83-00244 also requires that the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> shall be legal for each associated component. Ada 95 omitted this wording, as it was thought that all cases of difference had been eliminated. That probably was true, but Ada 2005 reintroduced cases where the types match but the legality differs. For example:<br></div></div></div><div class="wrapper_ab13"><a id="p17.g" href="#p17.g" class="text_WcJ3"><small>17.g/4</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">type Rec (D : access Integer) is record<!-- -->
<!-- -->          F : access Integer;<!-- -->
<!-- -->end record;<!-- -->
<div class="wrapper_ab13"><a id="p17.h" href="#p17.h" class="text_WcJ3"><small>17.h/5</small></a></div>begin<!-- -->
<!-- -->   declare<!-- -->
<!-- -->      X : aliased Integer;<!-- -->
<!-- -->      R : Rec := (D | F =<!-- -->&gt;<!-- --> X&#x27;Access); -- Legal for D, illegal for F<!-- -->
<div class="wrapper_ab13"><a id="p17.i" href="#p17.i" class="text_WcJ3"><small>17.i/4</small></a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">There are additional ways for this to happen; because of cases like the above we require that the Legality Rules are checked individually for each associated component. <br></div></div></div><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3"><small>18/5</small></a></div><p>{<em>AI05-0220-1</em>}<!-- --> <!-- -->{<em>AI12-0086-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> or <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, if a <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code> <em>P</em> is nested within a <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code> <em>V</em> that is not selected by the discriminant value governing the <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code> enclosing <em>V</em>, then there is no restriction on the discriminant governing <em>P</em>. Otherwise, the value of the discriminant that governs <em>P</em> shall be given by a static expression, or by a nonstatic expression having a constrained static nominal subtype. In this latter case of a nonstatic expression, there shall be exactly one <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> of <em>P</em> that covers each value that belongs to the nominal subtype and satisfies the predicates of the subtype, and there shall be at least one such value. <br></p><div class="wrapper_ab13"><a id="p18.a" href="#p18.a" class="text_WcJ3"><small>18.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This expression might either be given within the aggregate itself, or in a constraint on the parent subtype in a <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code> for some ancestor of the type of the aggregate.<br></div></div></div><div class="wrapper_ab13"><a id="p18.a.1" href="#p18.a.1" class="text_WcJ3"><small>18.a.1/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0086-1</em>}<!-- --> <br>This means that in the nonstatic value case, the (static) subtype cannot have a null range. <br></div></div></div><div class="wrapper_ab13"><a id="p18.1" href="#p18.1" class="text_WcJ3"><small>18.1/2</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> for a discriminant without a <code><a href="/docs/arm/AA-3/AA-3.7#S0063">default_expression</a></code> shall have an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> rather than <!-- -->&lt;<!-- -->&gt;<!-- -->. <br></p><div class="wrapper_ab13"><a id="p18.b" href="#p18.b" class="text_WcJ3"><small>18.b/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>A discriminant must always have a defined value, but <!-- -->&lt;<!-- -->&gt;<!-- --> means uninitialized for a discrete type unless the component has a default value. <br></div></div></div><div class="wrapper_ab13"><a id="p18.2" href="#p18.2" class="text_WcJ3"><small>18.2/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> of the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> shall not:<br></p><div class="wrapper_ab13"><a id="p18.3" href="#p18.3" class="text_WcJ3"><small>18.3/5</small></a></div><ul><li>{<em>AI12-0418-1</em>}<!-- --> <br>use the box compound delimiter <!-- -->&lt;<!-- -->&gt;<!-- --> rather than an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>;<br></li><div class="wrapper_ab13"><a id="p18.4" href="#p18.4" class="text_WcJ3"><small>18.4/5</small></a></div><li>have an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a limited type;<br></li><div class="wrapper_ab13"><a id="p18.5" href="#p18.5" class="text_WcJ3"><small>18.5/5</small></a></div><li>omit the <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code>; or<br></li><div class="wrapper_ab13"><a id="p18.c" href="#p18.c" class="text_WcJ3"><small>18.c/5</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0127-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> cannot use positional notation; all choices shall be named choices. <br></div></div></div><div class="wrapper_ab13"><a id="p18.6" href="#p18.6" class="text_WcJ3"><small>18.6/5</small></a></div><ul><li>have a <code><a href="/docs/arm/AA-4/AA-4.3#S0110">component_choice_list</a></code> that is an <strong>others</strong> choice. <br></li><div class="wrapper_ab13"><a id="p18.7" href="#p18.7" class="text_WcJ3"><small>18.7/5</small></a></div></ul><p>{<em>AI12-0127-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>, no two <em>component_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0099">selector_name</a></code>s shall denote components declared within different <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code>s of the same <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code>.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-1">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3"><small>19</small></a></div><p>The evaluation of a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> consists of the evaluation of the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>.<br></p><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3"><small>20/5</small></a></div><p>{<em>AI12-0086-1</em>}<!-- --> <br>For the evaluation of a <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>, any per-object constraints (see <a href="/docs/arm/AA-3/AA-3.8">3.8</a>) for components specified in the association list are elaborated and any <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s are evaluated and converted to the subtype of the associated component. Any constraint elaborations and <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> evaluations (and conversions) occur in an arbitrary order, except that the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> for a discriminant is evaluated (and converted) prior to the elaboration of any per-object constraint that depends on it, which in turn occurs prior to the evaluation and conversion of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> for the component with the per-object constraint. If the value of a discriminant that governs a selected <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code>  <em>P</em> is given by a nonstatic <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, and the evaluation of that <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> yields a value that does not belong to the nominal subtype of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, then Constraint_Error is raised.<br></p><div class="wrapper_ab13"><a id="p20.a" href="#p20.a" class="text_WcJ3"><small>20.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The conversion in the first rule might raise Constraint_Error. <br></div></div></div><div class="wrapper_ab13"><a id="p20.b" href="#p20.b" class="text_WcJ3"><small>20.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>This check in the first rule presumably happened as part of the dependent compatibility check in Ada 83. <br></div></div></div><div class="wrapper_ab13"><a id="p20.c" href="#p20.c" class="text_WcJ3"><small>20.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0086-1</em>}<!-- --> <br>The test on the value of the discriminant can only fail if the value is outside the base range of its type, does not satisfy the (static) predicates of the subtype (possible when the predicate is disabled), or is an invalid representation. This is a rule similar to that used for case statements. As with case statements, this is not a &quot;check&quot;; it cannot be Suppressed. <br></div></div></div><div class="wrapper_ab13"><a id="p20.1" href="#p20.1" class="text_WcJ3"><small>20.1/2</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> with an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> defines the value for the associated component(s). For a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> with <!-- -->&lt;<!-- -->&gt;<!-- -->, if the <code><a href="/docs/arm/AA-3/AA-3.8#S0070">component_declaration</a></code> has a <code><a href="/docs/arm/AA-3/AA-3.7#S0063">default_expression</a></code>, that <code><a href="/docs/arm/AA-3/AA-3.7#S0063">default_expression</a></code> defines the value for the associated component(s); otherwise, the associated component(s) are initialized by default as for a stand-alone object of the component subtype (see <a href="/docs/arm/AA-3/AA-3.3#Subclause_3.3.1">3.3.1</a>).<br></p><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3"><small>21</small></a></div><p>The <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> is evaluated (and converted) once for each associated component.<br></p><div class="wrapper_ab13"><a id="p21.a" href="#p21.a" class="text_WcJ3"><small>21.a/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0005-1</em>}<!-- --> <br>We don&#x27;t need similar language for <!-- -->&lt;<!-- -->&gt;<!-- -->, as we&#x27;re considering the value of <!-- -->&lt;<!-- -->&gt;<!-- --> for each individual component. Each component has its own default expression or its own default initialization (they can be different for each component; the components even could have different types), and each one has to be evaluated. So there is no need to repeat that. <br></div></div></div><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3"><small>22</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   For a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code> with positional associations, expressions specifying discriminant values appear first since the <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code> is given first in the declaration of the type; they have to be in the same order as in the <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3"><small>23</small></a></div><p><em>Example of a record aggregate with positional associations:</em> <br></p><div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3"><small>24</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">(4, July, 1776)                                       --  see <a href="/docs/arm/AA-3/AA-3.8">3.8</a> <!-- -->
<div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3"><small>25</small></a></div></code></pre><p><em>Examples of record aggregates with named associations:</em> <br></p><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3"><small>26</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">(Day =<!-- -->&gt;<!-- --> 4, Month =<!-- -->&gt;<!-- --> July, Year =<!-- -->&gt;<!-- --> 1776)<!-- -->
<!-- -->(Month =<!-- -->&gt;<!-- --> July, Day =<!-- -->&gt;<!-- --> 4, Year =<!-- -->&gt;<!-- --> 1776)<!-- -->
<div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3"><small>27</small></a></div>(Disk, Closed, Track =<!-- -->&gt;<!-- --> 5, Cylinder =<!-- -->&gt;<!-- --> 12)            --  see <a href="/docs/arm/AA-3/AA-3.8#Subclause_3.8.1">3.8.1</a>
<!-- -->(Unit =<!-- -->&gt;<!-- --> Disk, Status =<!-- -->&gt;<!-- --> Closed, Cylinder =<!-- -->&gt;<!-- --> 9, Track =<!-- -->&gt;<!-- --> 1)<!-- -->
<div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3"><small>28/2</small></a></div></code></pre><p>{<em>AI95-00287-01</em>}<!-- --> <em><br>Examples of component associations with several choices:</em> <br></p><div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3"><small>29</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">(Value =<!-- -->&gt;<!-- --> 0, Succ|Pred =<!-- -->&gt;<!-- --> new Cell&#x27;(0, null, null)) 	--  see <a href="/docs/arm/AA-3/AA-3.10#Subclause_3.10.1">3.10.1</a>
<div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3"><small>30</small></a></div>--  The allocator is evaluated twice: Succ and Pred designate different cells<!-- -->
<div class="wrapper_ab13"><a id="p30.1" href="#p30.1" class="text_WcJ3"><small>30.1/2</small></a></div>(Value =<!-- -->&gt;<!-- --> 0, Succ|Pred =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- -->) 	--  see <a href="/docs/arm/AA-3/AA-3.10#Subclause_3.10.1">3.10.1</a>
<div class="wrapper_ab13"><a id="p30.2" href="#p30.2" class="text_WcJ3"><small>30.2/2</small></a></div>--  Succ and Pred will be set to null<!-- -->
<div class="wrapper_ab13"><a id="p31" href="#p31" class="text_WcJ3"><small>31</small></a></div></code></pre><p><em>Examples of record aggregates for tagged types (see <a href="/docs/arm/AA-3/AA-3.9">3.9</a> and <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.1">3.9.1</a>):</em> <br></p><div class="wrapper_ab13"><a id="p32" href="#p32" class="text_WcJ3"><small>32</small></a></div><div class="language-ada codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Okxd"><pre tabindex="0" class="prism-code language-ada codeBlock_UMHK thin-scrollbar"><code class="codeBlockLines_njep"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">Expression</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">record</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">Literal</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">Value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">Painted_Point</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">Pi</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">Paint</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">Red</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_L83P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eOAr" aria-hidden="true"><svg class="copyButtonIcon_uNeV" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_dQTy" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-83-1">Extensions to Ada 83<a class="hash-link" href="#extensions-to-ada-83-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.a" href="#p32.a" class="text_WcJ3"><small>32.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Null record aggregates may now be specified, via &quot;(<strong>null record</strong>)&quot;. However, this syntax is more useful for null record extensions in extension aggregates. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-83-1">Wording Changes from Ada 83<a class="hash-link" href="#wording-changes-from-ada-83-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.b" href="#p32.b" class="text_WcJ3"><small>32.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Various AIs have been incorporated (AI83-00189, AI83-00244, and AI83-00309). In particular, Ada 83 did not explicitly disallow extra values in a record aggregate. Now we do. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-95-1">Extensions to Ada 95<a class="hash-link" href="#extensions-to-ada-95-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.c" href="#p32.c" class="text_WcJ3"><small>32.c/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>&lt;<!-- -->&gt;<!-- --> can be used in place of an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in a <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>, default initializing the component. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-95">Wording Changes from Ada 95<a class="hash-link" href="#wording-changes-from-ada-95" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.d" href="#p32.d" class="text_WcJ3"><small>32.d/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>Limited <code><a href="/docs/arm/AA-4/AA-4.3#S0107">record_aggregate</a></code>s are allowed (since all kinds of aggregates can now be limited, see <a href="/docs/arm/AA-4/AA-4.3">4.3</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-2005">Incompatibilities With Ada 2005<a class="hash-link" href="#incompatibilities-with-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.e" href="#p32.e" class="text_WcJ3"><small>32.e/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0220-1</em>}<!-- --> <strong><br></strong> Corrected wording so that the rule for discriminants governing <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code>s was not effectively circular. The change makes a few <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s where a nonstatic discriminant governs an empty <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code> illegal. However, most Ada implementations already enforce some version of the new rule and already reject these <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s. So it is unlikely that any incompatibility will be noticed in practice. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2005">Extensions to Ada 2005<a class="hash-link" href="#extensions-to-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.f" href="#p32.f" class="text_WcJ3"><small>32.f/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0016-1</em>}<!-- --> <strong><br></strong> Fixed the wording so that <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- --> can be used in place of <strong>null record</strong>. This is needed to avoid a generic contract issue for generic bodies: we do not want to have to assume the worst to disallow <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- --> if the record type <em>might</em> be a null record.<br></div></div></div><div class="wrapper_ab13"><a id="p32.g" href="#p32.g" class="text_WcJ3"><small>32.g/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0199-1</em>}<!-- --> <strong><br></strong> We now allow multiple components with anonymous access types to be specified with a single component association. This is to be consistent with the capabilities of a named access type. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.h" href="#p32.h" class="text_WcJ3"><small>32.h/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0086-1</em>}<!-- --> <br>The value of a discriminant that governs a <code><a href="/docs/arm/AA-3/AA-3.8#S0071">variant_part</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> can be nonstatic if the nominal subtype of the discriminant expression is static and all possible values select a single <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2012">Wording Changes from Ada 2012<a class="hash-link" href="#wording-changes-from-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32.i" href="#p32.i" class="text_WcJ3"><small>32.i/4</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0046-1</em>}<!-- --> <strong><br>Corrigendum:</strong> We explicitly say that the Legality Rules have to be rechecked for each component individually. This <em>seems</em> obvious, but as the AARM note <a href="/docs/arm/AA-4/AA-4.3#Subclause_4.3.1">4.3.1</a> (16.c) appeared to say that this was not necessary, and since we explicitly state this sort of thing for generic instances, it seemed better to be explicit.<br></div></div></div><div class="wrapper_ab13"><a id="p32.j" href="#p32.j" class="text_WcJ3"><small>32.j/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0127-1</em>}<!-- --> <br>Made wording changes for <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>s.<br></div></div></div><a id="Subclause_4.3.2"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="432--extension-aggregates">4.3.2  Extension Aggregates<a class="hash-link" href="#432--extension-aggregates" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1</small></a></div><p>[An <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> specifies a value for a type that is a record extension by specifying a value or subtype for an ancestor of the type, followed by associations for any components not determined by the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code>.] <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="language-design-principles">Language Design Principles<a class="hash-link" href="#language-design-principles" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p1.a" href="#p1.a" class="text_WcJ3"><small>1.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The model underlying this syntax is that a record extension can also be viewed as a regular record type with an ancestor &quot;prefix&quot;. The <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> corresponds to exactly what would be needed if there were no ancestor/prefix type. The <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> determines the value of the ancestor/prefix. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax-2">Syntax<a class="hash-link" href="#syntax-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep"><code>extension_aggregate</code><a id="S0111"></a><code> ::= </code><br>    (<code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> <strong>with</strong> <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>)<br><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep"><code>ancestor_part</code><a id="S0112"></a><code> ::= </code><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> | <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code><br></code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-2">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/2</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <br>The expected type for an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> shall be a single type that is a record extension. If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, it is expected to be of any tagged type. <br></p><div class="wrapper_ab13"><a id="p4.a" href="#p4.a" class="text_WcJ3"><small>4.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We could have made the expected type <em>T&#x27;</em>Class where <em>T</em> is the ultimate ancestor of the type of the aggregate, or we could have made it even more specific than that. However, if the overload resolution rules get too complicated, the implementation gets more difficult and it becomes harder to produce good error messages. <br></div></div></div><div class="wrapper_ab13"><a id="p4.b" href="#p4.b" class="text_WcJ3"><small>4.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0005-1</em>}<!-- --> <br>This rule is additive with the rule given in <a href="/docs/arm/AA-4/AA-4.3">4.3</a>. That means the <a href="/docs/arm/AA-4/AA-4.3">4.3</a> rule must be satisfied even though it is always syntactically possible to tell that something is an extension aggregate rather than another kind of aggregate. Specifically, that means that an extension aggregate is ambiguous if the context is overloaded on array and/or untagged record types, even though those are never legal contexts for an extension aggregate. Thus, this rule acts more like a Legality Rule than a Name Resolution Rule. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-2">Legality Rules<a class="hash-link" href="#legality-rules-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/3</small></a></div><p>{<em>AI95-00306-01</em>}<!-- --> <!-- -->{<em>AI05-0115-1</em>}<!-- --> <br>If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code>, it shall denote a specific tagged subtype. If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, it shall not be dynamically tagged. The type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> shall be a descendant of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> (the <em>ancestor</em> type), through one or more record extensions (and no private extensions). If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code>, the view of the ancestor type from which the type is descended (see <a href="/docs/arm/AA-7/AA-7.3#Subclause_7.3.1">7.3.1</a>) shall not have unknown discriminants. <br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3"><small>5.a/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00306-01</em>}<!-- --> <br>The expression cannot be dynamically tagged to prevent implicit &quot;truncation&quot; of a dynamically-tagged value to the specific ancestor type. This is similar to the rules in <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.2">3.9.2</a>. <br></div></div></div><div class="wrapper_ab13"><a id="p5.1" href="#p5.1" class="text_WcJ3"><small>5.1/5</small></a></div><p>{<em>AI05-0067-1</em>}<!-- --> <!-- -->{<em>AI05-0244-1</em>}<!-- --> <!-- -->{<em>AI12-0236-1</em>}<!-- --> <!-- -->{<em>AI12-0317-1</em>}<!-- --> <br>If the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is limited and at least one component is needed in the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>, then the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> shall not have an operative constituent expression (see <a href="/docs/arm/AA-4/AA-4.4">4.4</a>) that is a call to a function with an unconstrained result subtype. <br></p><div class="wrapper_ab13"><a id="p5.b" href="#p5.b" class="text_WcJ3"><small>5.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0067-1</em>}<!-- --> <!-- -->{<em>AI05-0244-1</em>}<!-- --> <br>This restriction simplifies implementation, because it ensures that either the caller or the callee knows the size to allocate for the aggregate. Without this restriction, information from both caller and callee would have to be combined to determine the appropriate size.<br></div></div></div><div class="wrapper_ab13"><a id="p5.c" href="#p5.c" class="text_WcJ3"><small>5.c/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0067-1</em>}<!-- --> <br>The (F(...) with null record) case is exempt from this rule, because such extension aggregates are created internally for inherited functions returning null-extension types - we can&#x27;t very well make those illegal. Moreover, we don&#x27;t need the rule for null extensions, as the result can simply use the space returned by the function call.<br></div></div></div><div class="wrapper_ab13"><a id="p5.d" href="#p5.d" class="text_WcJ3"><small>5.d/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0317-1</em>}<!-- --> <br>The mention of &quot;operative constituents&quot; means that constructs like parenthesized expressions, <code><a href="/docs/arm/AA-4/AA-4.7#S0163">qualified_expression</a></code>s, and <code><a href="/docs/arm/AA-4/AA-4.5#S0148">conditional_expression</a></code>s are ignored when enforcing this rule. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics">Static Semantics<a class="hash-link" href="#static-semantics" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6</small></a></div><p>For the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, the only components <em>needed</em> are those of the composite value defined by the aggregate that are not inherited from the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code>, plus any inherited discriminants if the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> that denotes an unconstrained subtype. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-2">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7</small></a></div><p>For the evaluation of an <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>, the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> is evaluated. If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, it is also evaluated; if the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code>, the components of the value of the aggregate not given by the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> are initialized by default as for an object of the ancestor type. Any implicit initializations or evaluations are performed in an arbitrary order, except that the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> for a discriminant is evaluated prior to any other evaluation or initialization that depends on it.<br></p><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3"><small>8/3</small></a></div><p>{<em>AI05-0282-1</em>}<!-- --> <br>If the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> has discriminants and the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is not a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> that denotes an unconstrained subtype, then a check is made that each discriminant determined by the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> has the value specified for a corresponding discriminant, if any, either in the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>, or in the <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code> for some ancestor of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>. Constraint_Error is raised if this check fails. <br></p><div class="wrapper_ab13"><a id="p8.a" href="#p8.a" class="text_WcJ3"><small>8.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Corresponding and specified discriminants are defined in <a href="/docs/arm/AA-3/AA-3.7">3.7</a>. The rules requiring static compatibility between new discriminants of a derived type and the parent discriminant(s) they constrain ensure that at most one check is required per discriminant of the ancestor expression.<br></div></div></div><div class="wrapper_ab13"><a id="p8.b" href="#p8.b" class="text_WcJ3"><small>8.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0282-1</em>}<!-- --> <br>The check needs to be made any time that the ancestor is constrained; the source of the discriminants or the constraints is irrelevant. <br></div></div></div><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3"><small>9</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   If all components of the value of the <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> are determined by the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code>, then the <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code> is required to be simply <strong>null record</strong>.<br></div></div></div><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3"><small>10</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 2   If the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> is a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code>, then its type can be abstract. If its type is controlled, then as the last step of evaluating the aggregate, the Initialize procedure of the ancestor type is called, unless the Initialize procedure is abstract (see <a href="/docs/arm/AA-7/AA-7.6">7.6</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3"><small>11</small></a></div><p><em>Examples of extension aggregates (for types defined in <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.1">3.9.1</a>):</em> <br></p><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3"><small>12</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">Painted_Point&#x27;(Point with Red)<!-- -->
<!-- -->(Point&#x27;(P) with Paint =<!-- -->&gt;<!-- --> Black)<!-- -->
<div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3"><small>13/5</small></a></div>--  <!-- -->{<!-- -->AI12-0178-1<!-- -->}<!-- -->
<!-- --> (Expression with Left =<!-- -->&gt;<!-- -->  new Literal&#x27;(Value =<!-- -->&gt;<!-- --> 1.2),<!-- -->
<!-- -->                 Right =<!-- -->&gt;<!-- --> new Literal&#x27;(Value =<!-- -->&gt;<!-- --> 3.4))<!-- -->
<!-- -->Addition&#x27;(Binop with null record)<!-- -->
<!-- -->             -- presuming Binop is of type Binary_Operation<!-- -->
</code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-83-2">Extensions to Ada 83<a class="hash-link" href="#extensions-to-ada-83-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.a" href="#p13.a" class="text_WcJ3"><small>13.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The extension aggregate syntax is new. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-95-1">Incompatibilities With Ada 95<a class="hash-link" href="#incompatibilities-with-ada-95-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.b" href="#p13.b" class="text_WcJ3"><small>13.b/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI95-00306-01</em>}<!-- --> <strong><br>Amendment </strong> Eliminated implicit &quot;truncation&quot; of a dynamically tagged value when it is used as an ancestor <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>. If an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> includes such an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, it is illegal in Ada 2005. Such <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s are thought to be rare; the problem can be fixed with a type conversion to the appropriate specific type if it occurs. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-95-1">Wording Changes from Ada 95<a class="hash-link" href="#wording-changes-from-ada-95-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.c" href="#p13.c" class="text_WcJ3"><small>13.c/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>Limited <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code>s are allowed (since all kinds of aggregates can now be limited, see <a href="/docs/arm/AA-4/AA-4.3">4.3</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="inconsistencies-with-ada-2005">Inconsistencies With Ada 2005<a class="hash-link" href="#inconsistencies-with-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.d" href="#p13.d" class="text_WcJ3"><small>13.d/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0282-1</em>}<!-- --> <strong><br></strong> An <code><a href="/docs/arm/AA-4/AA-4.3#S0111">extension_aggregate</a></code> with an <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> whose discriminants are constrained and inherited might now raise Constraint_Error if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>&#x27;s type is constrained, while it was OK in Ada 2005. In almost all cases, this will make no difference as the constraint will be checked by the immediately following use of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, but it is possible to compare such an aggregate for equality; in this case, no exception would be raised by Ada 2005, while Ada 2012 will raise Constraint_Error. This should be very rare, and having the possibility means that the representation of the aggregate type has to be able to support unconstrained values of the type, even if the first subtype is constrained and no such objects can be created any other way. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-2005-1">Incompatibilities With Ada 2005<a class="hash-link" href="#incompatibilities-with-ada-2005-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.e" href="#p13.e" class="text_WcJ3"><small>13.e/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0067-1</em>}<!-- --> <strong><br></strong> A limited unconstrained ancestor expression that is a function call is now illegal unless the extension part is null. Such <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s were first introduced in Ada 2005 and are very complex to implement as they must be built-in-place with an unknown size; as such, it is unlikely that they are implemented correctly in existing compilers and thus not often used in existing code.<br></div></div></div><div class="wrapper_ab13"><a id="p13.f" href="#p13.f" class="text_WcJ3"><small>13.f/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0115-1</em>}<!-- --> <strong><br></strong> An <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> that is a subtype with unknown discriminants is now explicitly illegal. Such a subtype should not be used to declare an object, and the <code><a href="/docs/arm/AA-4/AA-4.3#S0112">ancestor_part</a></code> acts like an object. The Ada 95 rules did not disallow such cases, so it is possible that code exists that uses such an ancestor, but this should be rare. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2012-1">Wording Changes from Ada 2012<a class="hash-link" href="#wording-changes-from-ada-2012-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.g" href="#p13.g" class="text_WcJ3"><small>13.g/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0317-1</em>}<!-- --> <br>Rewrote a Legality Rule to use the new term &quot;operative constituent&quot; in order to reduce duplication of text about ignoring parenthesized expressions and similar constructs. <br></div></div></div><a id="Subclause_4.3.3"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="433--array-aggregates">4.3.3  Array Aggregates<a class="hash-link" href="#433--array-aggregates" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1</small></a></div><p>[In an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>, a value is specified for each component of an array, either positionally or by its index.] For a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code>, the components are given in increasing-index order, with a final <strong>others</strong>, if any, representing any remaining components. For a <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code>, the components are identified by the values covered by the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>s.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="language-design-principles-1">Language Design Principles<a class="hash-link" href="#language-design-principles-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p1.a" href="#p1.a" class="text_WcJ3"><small>1.a/1</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The rules in this subclause are based on terms and rules for <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code>s defined in <a href="/docs/arm/AA-3/AA-3.8#Subclause_3.8.1">3.8.1</a>, &quot;<a href="/docs/arm/AA-3/AA-3.8#Subclause_3.8.1">Variant Parts and Discrete Choices</a>&quot;. For example, the requirements that <strong>others</strong> come last and stand alone are found there. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax-3">Syntax<a class="hash-link" href="#syntax-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0306-1</em>}<!-- --> <br><code>array_aggregate</code><a id="S0113"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0115">null_array_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code><br><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI95-00287-01</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0306-1</em>}<!-- --> <br><code>positional_array_aggregate</code><a id="S0114"></a><code> ::= </code><br>    (<code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- -->)<br>  | (<code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- -->, <strong>others</strong> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>)<br>  | (<code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- -->, <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- -->)<br>  | &#x27;[&#x27; <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- -->[, <strong>others</strong> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>] &#x27;]&#x27;<br>  | &#x27;[&#x27; <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- -->, <strong>others</strong> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- --> &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p3.1" href="#p3.1" class="text_WcJ3"><small>3.1/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0306-1</em>}<!-- --> <br><code>null_array_aggregate</code><a id="S0115"></a><code> ::= </code>&#x27;[&#x27; &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br><code>named_array_aggregate</code><a id="S0116"></a><code> ::= </code><br>    (<code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code>)<br>  | &#x27;[&#x27; <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code> &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p4.1" href="#p4.1" class="text_WcJ3"><small>4.1/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <br><code>array_component_association_list</code><a id="S0117"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code>}<br><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI95-00287-01</em>}<!-- --> <!-- -->{<em>AI12-0061-1</em>}<!-- --> <br><code>array_component_association</code><a id="S0118"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br>  | <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code><br><div class="wrapper_ab13"><a id="p5.1" href="#p5.1" class="text_WcJ3"><small>5.1/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0061-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br><code>iterated_component_association</code><a id="S0119"></a><code> ::= </code><br>    <strong>for</strong> <code><a href="/docs/arm/AA-3/AA-3.1#S0022">defining_identifier</a></code> <strong>in</strong> <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br>  | <strong>for</strong> <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6</small></a></div></code></pre><p>An <em>n-dimensional</em> <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> is one that is written as n levels of nested <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>s (or at the bottom level, equivalent <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code>s). For the multidimensional case (n <!-- -->&gt;<!-- -->= 2) the <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>s (or equivalent <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code>s) at the n1 lower levels are called <em>subaggregate</em>s of the enclosing n-dimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>. The <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s of the bottom level subaggregates (or of the <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> itself if one-dimensional) are called the <em>array component expressions</em> of the enclosing n-dimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>. <br></p><div class="wrapper_ab13"><a id="p6.a" href="#p6.a" class="text_WcJ3"><small>6.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Subaggregates do not have a type. They correspond to part of an array. For example, with a matrix, a subaggregate would correspond to a single row of the matrix. The definition of &quot;n-dimensional&quot; <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> applies to subaggregates as well as <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s that have a type. <br></div></div></div><div class="wrapper_ab13"><a id="p6.b" href="#p6.b" class="text_WcJ3"><small>6.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>An <em><strong>others</strong> choice</em> is the reserved word <strong>others</strong> as it appears in a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> or as the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> of the <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p6.1" href="#p6.1" class="text_WcJ3"><small>6.1/5</small></a></div><p>{<em>AI12-0061-1</em>}<!-- --> <br>The <code><a href="/docs/arm/AA-3/AA-3.1#S0022">defining_identifier</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> declares an <em>index parameter</em>, an object of the corresponding index type.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-3">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7/2</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <br>The expected type for an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> (that is not a subaggregate) shall be a single array type. The component type of this array type is the expected type for each array component expression of the <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>. <br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3"><small>7.a/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00287-01</em>}<!-- --> <br>We already require a single array or record type or record extension for an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>. The above rule requiring a single array type (and similar ones for record and extension aggregates) resolves which kind of aggregate you have. <br></div></div></div><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3"><small>8</small></a></div><p>The expected type for each <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> in any <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code> is the type of the <em>corresponding index</em>; the corresponding index for an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> that is not a subaggregate is the first index of its type; for an (nm)-dimensional subaggregate within an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> of an n-dimensional type, the corresponding index is the index in position m+1. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-3">Legality Rules<a class="hash-link" href="#legality-rules-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3"><small>9/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>An <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> of an n-dimensional array type shall be written as an n-dimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>, or as a <code><a href="/docs/arm/AA-4/AA-4.3#S0115">null_array_aggregate</a></code>. <br></p><div class="wrapper_ab13"><a id="p9.a" href="#p9.a" class="text_WcJ3"><small>9.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>In an m-dimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> [(including a subaggregate)], where m <!-- -->&gt;<!-- -->= 2, each of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s has to be an (m1)-dimensional subaggregate. <br></div></div></div><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3"><small>10/5</small></a></div><p>{<em>AI12-0418-1</em>}<!-- --> <br>An <strong>others</strong> choice is allowed for an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> only if an <em>applicable index constraint</em> applies to the <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>. [An applicable index constraint is a constraint provided by certain contexts that can be used to determine the bounds of the array value specified by an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>.] Each of the following contexts (and none other) defines an applicable index constraint: <br></p><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3"><small>11/4</small></a></div><ul><li>{<em>AI95-00318-02</em>}<!-- --> <!-- -->{<em>AI12-0157-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-6/AA-6.4#S0221">explicit_actual_parameter</a></code>, an <code><a href="/docs/arm/AA-12/AA-12.3#S0318">explicit_generic_actual_parameter</a></code>, the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a return statement, the return expression of an expression function, the initialization expression in an <code><a href="/docs/arm/AA-3/AA-3.3#S0032">object_declaration</a></code>, or a <code><a href="/docs/arm/AA-3/AA-3.7#S0063">default_expression</a></code> [(for a parameter or a component)], when the nominal subtype of the corresponding formal parameter, generic formal parameter, function return object, expression function return object, object, or component is a constrained array subtype, the applicable index constraint is the constraint of the subtype;<br></li><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3"><small>12</small></a></div><li>For the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of an <code><a href="/docs/arm/AA-5/AA-5.2#S0173">assignment_statement</a></code> where the <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> denotes an array variable, the applicable index constraint is the constraint of the array variable; <br></li><div class="wrapper_ab13"><a id="p12.a" href="#p12.a" class="text_WcJ3"><small>12.a</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This case is broken out because the constraint comes from the actual subtype of the variable (which is always constrained) rather than its nominal subtype (which might be unconstrained). <br></div></div></div><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3"><small>13</small></a></div><ul><li>For the operand of a <code><a href="/docs/arm/AA-4/AA-4.7#S0163">qualified_expression</a></code> whose <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> denotes a constrained array subtype, the applicable index constraint is the constraint of the subtype;<br></li><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3"><small>14</small></a></div><li>For a component <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, if the component&#x27;s nominal subtype is a constrained array subtype, the applicable index constraint is the constraint of the subtype; <br></li><div class="wrapper_ab13"><a id="p14.a" href="#p14.a" class="text_WcJ3"><small>14.a</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>Here, the <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> with <strong>others</strong> is being used within a larger aggregate. <br></div></div></div><div class="wrapper_ab13"><a id="p14.1" href="#p14.1" class="text_WcJ3"><small>14.1/5</small></a></div><ul><li>{<em>AI12-0127-1</em>}<!-- --> <br>For the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>, if the nominal subtype of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> is a constrained array subtype, the applicable index constraint is the constraint of the subtype;<br></li><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3"><small>15/3</small></a></div><li>{<em>AI05-0147-1</em>}<!-- --> <br>For a parenthesized <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, the applicable index constraint is that, if any, defined for the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>; <br></li><div class="wrapper_ab13"><a id="p15.a" href="#p15.a" class="text_WcJ3"><small>15.a</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>RM83 omitted this case, presumably as an oversight. We want to minimize situations where an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> becomes illegal if parenthesized. <br></div></div></div><div class="wrapper_ab13"><a id="p15.1" href="#p15.1" class="text_WcJ3"><small>15.1/5</small></a></div><ul><li>{<em>AI05-0147-1</em>}<!-- --> <!-- -->{<em>AI12-0236-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.5#S0148">conditional_expression</a></code> (see <a href="/docs/arm/AA-4/AA-4.5#Subclause_4.5.7">4.5.7</a>), the applicable index constraint for each <em>dependent_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is that, if any, defined for the <code><a href="/docs/arm/AA-4/AA-4.5#S0148">conditional_expression</a></code>;<br></li><div class="wrapper_ab13"><a id="p15.2" href="#p15.2" class="text_WcJ3"><small>15.2/5</small></a></div><li>{<em>AI05-0147-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.5#S0156">declare_expression</a></code> (see <a href="/docs/arm/AA-4/AA-4.5#Subclause_4.5.9">4.5.9</a>), the applicable index constraint for the <em>body_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is that, if any, defined for the <code><a href="/docs/arm/AA-4/AA-4.5#S0156">declare_expression</a></code>. <br></li><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3"><small>16</small></a></div></ul><p>The applicable index constraint <em>applies</em> to an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> that appears in such a context, as well as to any subaggregates thereof. In the case of an <code><a href="/docs/arm/AA-6/AA-6.4#S0221">explicit_actual_parameter</a></code> (or <code><a href="/docs/arm/AA-3/AA-3.7#S0063">default_expression</a></code>) for a call on a generic formal subprogram, no applicable index constraint is defined. <br></p><div class="wrapper_ab13"><a id="p16.a" href="#p16.a" class="text_WcJ3"><small>16.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This avoids generic contract model problems, because only mode conformance is required when matching actual subprograms with generic formal subprograms. <br></div></div></div><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3"><small>17/5</small></a></div><p>{<em>AI05-0153-3</em>}<!-- --> <!-- -->{<em>AI12-0061-1</em>}<!-- --> <!-- -->{<em>AI12-0127-1</em>}<!-- --> <br>The <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> (including an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>) is allowed to have a <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> that is a nonstatic <code><a href="/docs/arm/AA-4/AA-4.4#S0133">choice_expression</a></code> or that is a <code><a href="/docs/arm/AA-3/AA-3.2#S0027">subtype_indication</a></code> or <code><a href="/docs/arm/AA-3/AA-3.5#S0037">range</a></code> that defines a nonstatic or null range, only if it is the single <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> of its <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code>, and either there is only one <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> in the enclosing <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code> or the enclosing <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>[, not an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>].<br></p><div class="wrapper_ab13"><a id="p17.a" href="#p17.a" class="text_WcJ3"><small>17.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>We now allow a nonstatic <strong>others</strong> choice even if there are other array component expressions as well. <br></div></div></div><div class="wrapper_ab13"><a id="p17.b" href="#p17.b" class="text_WcJ3"><small>17.b/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0127-1</em>}<!-- --> <br>We allow multiple dynamic choices in <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>s, but only one dynamic choice per association even in that case. <br></div></div></div><div class="wrapper_ab13"><a id="p17.1" href="#p17.1" class="text_WcJ3"><small>17.1/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>Either all or none of the <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code>s of an <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code> shall be <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>s with an <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>.<br></p><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3"><small>18/3</small></a></div><p>{<em>AI05-0262-1</em>}<!-- --> <br>In a <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code> where all <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>s are static, no two <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>s are allowed to cover the same value (see <a href="/docs/arm/AA-3/AA-3.8#Subclause_3.8.1">3.8.1</a>); if there is no <strong>others</strong> choice, the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>s taken together shall exactly cover a contiguous sequence of values of the corresponding index type. <br></p><div class="wrapper_ab13"><a id="p18.a" href="#p18.a" class="text_WcJ3"><small>18.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This implies that each component must be specified exactly once. See AI83-309. <br></div></div></div><div class="wrapper_ab13"><a id="p18.b" href="#p18.b" class="text_WcJ3"><small>18.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0262-1</em>}<!-- --> <br>This has to apply even if there is only one static <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>; a single choice has to represent a contiguous range (a <code><a href="/docs/arm/AA-3/AA-3.2#S0028">subtype_mark</a></code> with a static predicate might represent a discontiguous set of values). If the (single) choice is a dynamic subtype, we don&#x27;t need to make this check as no predicates are allowed (see <a href="/docs/arm/AA-3/AA-3.2#Subclause_3.2.4">3.2.4</a>) and thus the range has to be contiguous. <br></div></div></div><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3"><small>19</small></a></div><p>A bottom level subaggregate of a multidimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> of a given array type is allowed to be a <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code> only if the component type of the array type is a character type; each character of such a <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code> shall correspond to a <code><a href="/docs/arm/AA-3/AA-3.5#S0040">defining_character_literal</a></code> of the component type. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-1">Static Semantics<a class="hash-link" href="#static-semantics-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3"><small>20</small></a></div><p>A subaggregate that is a <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code> is equivalent to one that is a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> of the same length, with each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> being the <code><a href="/docs/arm/AA-2/AA-2.5#S0015">character_literal</a></code> for the corresponding character of the <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code>.<br></p><div class="wrapper_ab13"><a id="p20.a" href="#p20.a" class="text_WcJ3"><small>20.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>{<em>AI12-0306-1</em>}<!-- --> <br>This is true even in cases where there is no corresponding legal <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p20.1" href="#p20.1" class="text_WcJ3"><small>20.1/5</small></a></div><p>{<em>AI12-0061-1</em>}<!-- --> <br>The subtype (and nominal subtype) of an index parameter is the corresponding index subtype. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-3">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20.2" href="#p20.2" class="text_WcJ3"><small>20.2/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> that contains only <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code>s that are <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>s with <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>s, evaluation proceeds in two steps: <br></p><div class="wrapper_ab13"><a id="p20.3" href="#p20.3" class="text_WcJ3"><small>20.3/5</small></a></div><dt><br>a)</dt><dl><dd>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>Each <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code> is elaborated (in an arbitrary order) and an iteration is performed solely to determine a maximum count for the number of values produced by the iteration; all of these counts are combined to determine the overall length of the array, and ultimately the limits on the bounds of the array (defined below);<br></dd><div class="wrapper_ab13"><a id="p20.4" href="#p20.4" class="text_WcJ3"><small>20.4/5</small></a></div><dt><br>b)</dt><dd>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <!-- -->{<em>AI12-0327-1</em>}<!-- --> <br>A second iteration is performed for each of the <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>s, in the order given in the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, and for each value conditionally produced by the iteration (see <a href="/docs/arm/AA-5/AA-5.5">5.5</a> and <a href="/docs/arm/AA-5/AA-5.5#Subclause_5.5.2">5.5.2</a>), the associated <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is evaluated, its value is converted to the component subtype of the array type, and used to define the value of the next component of the array starting at the low bound and proceeding sequentially toward the high bound. A check is made that the second iteration results in an array length no greater than the maximum determined by the first iteration; Constraint_Error is raised if this check fails.<br></dd><div class="wrapper_ab13"><a id="p20.b" href="#p20.b" class="text_WcJ3"><small>20.b/5</small></a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>Constraint_Error should be raised no later than when the iterations exceed the maximum array length; memory that doesn&#x27;t belong to the aggregate temporary should not be overwritten. <br></div></div></div><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3"><small>21/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The evaluation of any other <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> of a given array type proceeds in two steps: <br></p><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3"><small>22</small></a></div><dt><br>a)</dt><dl><dd>Any <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code>s of this aggregate and of its subaggregates are evaluated in an arbitrary order, and converted to the corresponding index type; <br></dd><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3"><small>23</small></a></div><dt><br>b)</dt><dd>The array component expressions of the aggregate are evaluated in an arbitrary order and their values are converted to the component subtype of the array type; an array component expression is evaluated once for each associated component. <br></dd><div class="wrapper_ab13"><a id="p23.a" href="#p23.a" class="text_WcJ3"><small>23.a</small></a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Subaggregates are not separately evaluated. The conversion of the value of the component expressions to the component subtype might raise Constraint_Error.<br></div></div></div><div class="wrapper_ab13"><a id="p23.b" href="#p23.b" class="text_WcJ3"><small>23.b/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0005-1</em>}<!-- --> <br>We don&#x27;t need to say that <!-- -->&lt;<!-- -->&gt;<!-- --> is evaluated once for each component, as <!-- -->&lt;<!-- -->&gt;<!-- --> means that each component is <em>initialized by default</em>. That means that the actions defined for default initialization are applied to each component individually. Initializing one component by default and copying that to the others would be an incorrect implementation in general (although it might be OK if the default initialization is known to be constant). <br></div></div></div><div class="wrapper_ab13"><a id="p23.1" href="#p23.1" class="text_WcJ3"><small>23.1/4</small></a></div><p>{<em>AI95-00287-01</em>}<!-- --> <!-- -->{<em>AI12-0084-1</em>}<!-- --> <br>Each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> defines the value for the associated component(s). For an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> with <!-- -->&lt;<!-- -->&gt;<!-- -->, the associated component(s) are initialized to the Default_Component_Value of the array type if this aspect has been specified for the array type; otherwise, they are initialized by default as for a stand-alone object of the component subtype (see <a href="/docs/arm/AA-3/AA-3.3#Subclause_3.3.1">3.3.1</a>).<br></p><div class="wrapper_ab13"><a id="p23.2" href="#p23.2" class="text_WcJ3"><small>23.2/5</small></a></div><p>{<em>AI12-0061-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br>During an evaluation of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> with a <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code>, the value of the corresponding index parameter is that of the corresponding index of the corresponding array component. During an evaluation of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> with an <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>, the value of the loop parameter of the <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code> is the value produced by the iteration (as described in <a href="/docs/arm/AA-5/AA-5.5#Subclause_5.5.2">5.5.2</a>).<br></p><div class="wrapper_ab13"><a id="p23.c" href="#p23.c" class="text_WcJ3"><small>23.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Taken together with the preceding rule that &quot;The array component expressions of the aggregate are evaluated in an arbitrary order&quot;, this implies that an index parameter of an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> can take on its values in an arbitrary order. This is different from other constructs, such as a <code><a href="/docs/arm/AA-5/AA-5.5#S0178">loop_statement</a></code>. In contrast, a loop parameter of an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> takes its values in the order defined by the iteration, the same as a <code><a href="/docs/arm/AA-5/AA-5.5#S0178">loop_statement</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3"><small>24</small></a></div><p>The bounds of the index range of an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> [(including a subaggregate)] are determined as follows: <br></p><div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3"><small>25</small></a></div><ul><li>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> with an <strong>others</strong> choice, the bounds are those of the corresponding index range from the applicable index constraint;<br></li><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3"><small>26</small></a></div><li>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> [(or equivalent <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code>)] without an <strong>others</strong> choice, the lower bound is that of the corresponding index range in the applicable index constraint, if defined, or that of the corresponding index subtype, if not; in either case, the upper bound is determined from the lower bound and the number of <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s [(or the length of the <code><a href="/docs/arm/AA-2/AA-2.6#S0016">string_literal</a></code>)];<br></li><div class="wrapper_ab13"><a id="p26.1" href="#p26.1" class="text_WcJ3"><small>26.1/5</small></a></div><li>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0306-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0115">null_array_aggregate</a></code>, bounds for each dimension are determined as for a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> without an <strong>others</strong> choice that has no expressions for each dimension;<br></li><div class="wrapper_ab13"><a id="p26.a" href="#p26.a" class="text_WcJ3"><small>26.a/5</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We need a separate rule to describe what happens for a multidimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0115">null_array_aggregate</a></code>; we could&#x27;ve combined the single-dimension case with the <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> rule. <br></div></div></div><div class="wrapper_ab13"><a id="p26.2" href="#p26.2" class="text_WcJ3"><small>26.2/5</small></a></div><ul><li>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code> containing only <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>s with an <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>, the lower bound is determined as for a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code> without an <strong>others</strong> choice, and the upper bound is determined from the lower bound and the total number of values produced by the second set of iterations;<br></li><div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3"><small>27/5</small></a></div><li>{<em>AI12-0212-1</em>}<!-- --> <br>For any other <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code> without an <strong>others</strong> choice, the bounds are determined by the smallest and largest index values covered by any <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code>. <br></li><div class="wrapper_ab13"><a id="p27.a" href="#p27.a" class="text_WcJ3"><small>27.a</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We don&#x27;t need to say that each index value has to be covered exactly once, since that is a ramification of the general rule on <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s that each component&#x27;s value has to be specified exactly once. <br></div></div></div><div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3"><small>28</small></a></div><p>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>, a check is made that the index range defined by its bounds is compatible with the corresponding index subtype. <br></p><div class="wrapper_ab13"><a id="p28.a" href="#p28.a" class="text_WcJ3"><small>28.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>In RM83, this was phrased more explicitly, but once we define &quot;compatibility&quot; between a range and a subtype, it seems to make sense to take advantage of that definition. <br></div></div></div><div class="wrapper_ab13"><a id="p28.b" href="#p28.b" class="text_WcJ3"><small>28.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The definition of compatibility handles the special case of a null range, which is always compatible with a subtype. See AI83-00313. <br></div></div></div><div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3"><small>29/3</small></a></div><p>{<em>AI05-0037-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> with an <strong>others</strong> choice, a check is made that no <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> or <!-- -->&lt;<!-- -->&gt;<!-- --> is specified for an index value outside the bounds determined by the applicable index constraint. <br></p><div class="wrapper_ab13"><a id="p29.a" href="#p29.a" class="text_WcJ3"><small>29.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>RM83 omitted this case, apparently through an oversight. AI83-00309 defines this as a dynamic check, even though other Ada 83 rules ensured that this check could be performed statically. We now allow an <strong>others</strong> choice to be dynamic, even if it is not the only choice, so this check now needs to be dynamic, in some cases. Also, within a generic unit, this would be a nonstatic check in some cases. <br></div></div></div><div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3"><small>30</small></a></div><p>For a multidimensional <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>, a check is made that all subaggregates that correspond to the same index have the same bounds. <br></p><div class="wrapper_ab13"><a id="p30.a" href="#p30.a" class="text_WcJ3"><small>30.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>No array bounds &quot;sliding&quot; is performed on subaggregates. <br></div></div></div><div class="wrapper_ab13"><a id="p30.b" href="#p30.b" class="text_WcJ3"><small>30.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>If sliding were performed, it would not be obvious which subaggregate would determine the bounds of the corresponding index. <br></div></div></div><div class="wrapper_ab13"><a id="p31" href="#p31" class="text_WcJ3"><small>31</small></a></div><p>The exception Constraint_Error is raised if any of the above checks fail. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="implementation-permissions">Implementation Permissions<a class="hash-link" href="#implementation-permissions" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32" href="#p32" class="text_WcJ3"><small>32/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>When evaluating <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>s for an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> that contains only <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code>s with <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>s, the first step of evaluating an <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> can be omitted if the implementation can determine the maximum number of values by some other means.<br></p><div class="wrapper_ab13"><a id="p32.a" href="#p32.a" class="text_WcJ3"><small>32.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>For instance, if the type of the aggregate is constrained, the implementation can (but does not have to) calculate the expected length from the constraint. <br></div></div></div><div class="wrapper_ab13"><a id="p33" href="#p33" class="text_WcJ3"><small>33/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   <!-- -->{<em>AI05-0004-1</em>}<!-- --> <!-- -->{<em>AI12-0306-1</em>}<!-- --> <!-- -->{<em>AI12-0440-1</em>}<!-- --> <br>In an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> delimited by parentheses, positional notation can only be used with two or more <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s; a single <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in parentheses is interpreted as a parenthesized expression. An <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> delimited by square brackets can be used to specify an array with a single component.<br></div></div></div><div class="wrapper_ab13"><a id="p34" href="#p34" class="text_WcJ3"><small>34/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 2   <!-- -->{<em>AI12-0061-1</em>}<!-- --> <br>An index parameter is a constant object (see <a href="/docs/arm/AA-3/AA-3.3">3.3</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-2">Examples<a class="hash-link" href="#examples-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p35" href="#p35" class="text_WcJ3"><small>35</small></a></div><p><em>Examples of array aggregates with positional associations:</em> <br></p><div class="wrapper_ab13"><a id="p36" href="#p36" class="text_WcJ3"><small>36</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">(7, 9, 5, 1, 3, 2, 4, 8, 6, 0)<!-- -->
<!-- -->Table&#x27;(5, 8, 4, 1, others =<!-- -->&gt;<!-- --> 0)  --  see <a href="/docs/arm/AA-3/AA-3.6">3.6</a> <!-- -->
<div class="wrapper_ab13"><a id="p37" href="#p37" class="text_WcJ3"><small>37</small></a></div></code></pre><p><em>Examples of array aggregates with named associations:</em> <br></p><div class="wrapper_ab13"><a id="p38" href="#p38" class="text_WcJ3"><small>38/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">--  <!-- -->{<!-- -->AI12-0306-1<!-- -->}<!-- -->
<!-- --> (1 .. 5 =<!-- -->&gt;<!-- --> (1 .. 8 =<!-- -->&gt;<!-- --> 0.0))      --  two-dimensional<!-- -->
<!-- -->[1 .. N =<!-- -->&gt;<!-- --> new Cell]             --  N new cells, in particular for N = 0<!-- -->
<div class="wrapper_ab13"><a id="p39" href="#p39" class="text_WcJ3"><small>39/5</small></a></div>--  <!-- -->{<!-- -->AI12-0306-1<!-- -->}<!-- -->
<!-- --> Table&#x27;(2 | 4 | 10 =<!-- -->&gt;<!-- --> 1, others =<!-- -->&gt;<!-- --> 0)<!-- -->
<!-- -->Schedule&#x27;(Mon .. Fri =<!-- -->&gt;<!-- --> True,  others =<!-- -->&gt;<!-- --> False)  --  see <a href="/docs/arm/AA-3/AA-3.6">3.6</a>
<!-- -->Schedule&#x27;[Wed | Sun  =<!-- -->&gt;<!-- --> False, others =<!-- -->&gt;<!-- --> True]<!-- -->
<!-- -->Vector&#x27;(1 =<!-- -->&gt;<!-- --> 2.5)                                --  single-component vector<!-- -->
<div class="wrapper_ab13"><a id="p40" href="#p40" class="text_WcJ3"><small>40</small></a></div></code></pre><p><em>Examples of two-dimensional array aggregates:</em> <br></p><div class="wrapper_ab13"><a id="p41" href="#p41" class="text_WcJ3"><small>41</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">-- Three aggregates for the same value of subtype Matrix(1..2,1..3) (see <a href="/docs/arm/AA-3/AA-3.6">3.6</a>):<!-- -->
<div class="wrapper_ab13"><a id="p42" href="#p42" class="text_WcJ3"><small>42/5</small></a></div>--  <!-- -->{<!-- -->AI12-0306-1<!-- -->}<!-- -->
<!-- --> ((1.1, 1.2, 1.3), (2.1, 2.2, 2.3))<!-- -->
<!-- -->(1 =<!-- -->&gt;<!-- --> [1.1, 1.2, 1.3], 2 =<!-- -->&gt;<!-- --> [2.1, 2.2, 2.3])<!-- -->
<!-- -->[1 =<!-- -->&gt;<!-- --> (1 =<!-- -->&gt;<!-- --> 1.1, 2 =<!-- -->&gt;<!-- --> 1.2, 3 =<!-- -->&gt;<!-- --> 1.3), 2 =<!-- -->&gt;<!-- --> (1 =<!-- -->&gt;<!-- --> 2.1, 2 =<!-- -->&gt;<!-- --> 2.2, 3 =<!-- -->&gt;<!-- --> 2.3)]<!-- -->
<div class="wrapper_ab13"><a id="p43" href="#p43" class="text_WcJ3"><small>43</small></a></div></code></pre><p><em>Examples of aggregates as initial values:</em> <br></p><div class="wrapper_ab13"><a id="p44" href="#p44" class="text_WcJ3"><small>44</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">A : Table := (7, 9, 5, 1, 3, 2, 4, 8, 6, 0);        -- A(1)=7, A(10)=0<!-- -->
<!-- -->B : Table := (2 | 4 | 10 =<!-- -->&gt;<!-- --> 1, others =<!-- -->&gt;<!-- --> 0);        -- B(1)=0, B(10)=1<!-- -->
<!-- -->C : constant Matrix := (1 .. 5 =<!-- -->&gt;<!-- --> (1 .. 8 =<!-- -->&gt;<!-- --> 0.0)); -- C&#x27;Last(1)=5, C&#x27;Last(2)=8<!-- -->
<div class="wrapper_ab13"><a id="p45" href="#p45" class="text_WcJ3"><small>45</small></a></div>D : Bit_Vector(M .. N) := (M .. N =<!-- -->&gt;<!-- --> True);         -- see <a href="/docs/arm/AA-3/AA-3.6">3.6</a>
<!-- -->E : Bit_Vector(M .. N) := (others =<!-- -->&gt;<!-- --> True);<!-- -->
<!-- -->F : String(1 .. 1) := (1 =<!-- -->&gt;<!-- --> &#x27;F&#x27;);  -- a one component aggregate: same as &quot;F&quot;<!-- -->
<div class="wrapper_ab13"><a id="p46" href="#p46" class="text_WcJ3"><small>46/5</small></a></div>--  <!-- -->{<!-- -->AI12-0061-1<!-- -->}<!-- -->
<!-- --> G : constant Matrix :=<!-- -->
<!-- -->    (for I in 1 .. 4 =<!-- -->&gt;<!-- -->
<!-- -->       (for J in 1 .. 4 =<!-- -->&gt;<!-- -->
<!-- -->          (if I=J then 1.0 else 0.0))); -- Identity matrix<!-- -->
<div class="wrapper_ab13"><a id="p47" href="#p47" class="text_WcJ3"><small>47/5</small></a></div>--  <!-- -->{<!-- -->AI12-0312-1<!-- -->}<!-- -->
<!-- --> Empty_Matrix : constant Matrix := []; -- A matrix without elements<!-- -->
<div class="wrapper_ab13"><a id="p48" href="#p48" class="text_WcJ3"><small>48/2</small></a></div></code></pre><p>{<em>AI95-00433-01</em>}<!-- --> <em><br>Example of an array aggregate with defaulted others choice and with an applicable index constraint provided by an enclosing record aggregate:</em><br></p><div class="wrapper_ab13"><a id="p49" href="#p49" class="text_WcJ3"><small>49/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">--  <!-- -->{<!-- -->AI12-0178-1<!-- -->}<!-- -->
<!-- --> Buffer&#x27;(Size =<!-- -->&gt;<!-- --> 50, Pos =<!-- -->&gt;<!-- --> 1, Value =<!-- -->&gt;<!-- --> (&#x27;x&#x27;, others =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<!-- -->))  -- see <a href="/docs/arm/AA-3/AA-3.7">3.7</a>
</code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-83">Incompatibilities With Ada 83<a class="hash-link" href="#incompatibilities-with-ada-83" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.a.1" href="#p49.a.1" class="text_WcJ3"><small>49.a.1/1</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">In Ada 95, no applicable index constraint is defined for a parameter in a call to a generic formal subprogram; thus, some aggregates that are legal in Ada 83 are illegal in Ada 95. For example: <br></div></div></div><div class="wrapper_ab13"><a id="p49.a.2" href="#p49.a.2" class="text_WcJ3"><small>49.a.2/1</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">subtype S3 is String (1 .. 3);<!-- -->
<!-- -->...<!-- -->
<!-- -->generic<!-- -->
<!-- -->   with function F (The_S3 : in S3) return Integer;<!-- -->
<!-- -->package Gp is<!-- -->
<!-- -->   I : constant Integer := F ((1 =<!-- -->&gt;<!-- --> &#x27;!&#x27;, others =<!-- -->&gt;<!-- --> &#x27;?&#x27;));<!-- -->
<!-- -->       -- The aggregate is legal in Ada 83, illegal in Ada 95.<!-- -->
<!-- -->end Gp;<!-- -->
<div class="wrapper_ab13"><a id="p49.a.3" href="#p49.a.3" class="text_WcJ3"><small>49.a.3/1</small></a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">This change eliminates generic contract model problems. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-83-3">Extensions to Ada 83<a class="hash-link" href="#extensions-to-ada-83-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.a" href="#p49.a" class="text_WcJ3"><small>49.a</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">We now allow &quot;named with others&quot; aggregates in all contexts where there is an applicable index constraint, effectively eliminating what was RM83-4.3.2(6). Sliding never occurs on an aggregate with others, because its bounds come from the applicable index constraint, and therefore already match the bounds of the target.<br></div></div></div><div class="wrapper_ab13"><a id="p49.b" href="#p49.b" class="text_WcJ3"><small>49.b</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The legality of an <strong>others</strong> choice is no longer affected by the staticness of the applicable index constraint. This substantially simplifies several rules, while being slightly more flexible for the user. It obviates the rulings of AI83-00244 and AI83-00310, while taking advantage of the dynamic nature of the &quot;extra values&quot; check required by AI83-00309.<br></div></div></div><div class="wrapper_ab13"><a id="p49.c" href="#p49.c" class="text_WcJ3"><small>49.c</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Named array aggregates are permitted even if the index type is descended from a formal scalar type. See <a href="/docs/arm/AA-4/AA-4.9">4.9</a> and AI83-00190. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-83-2">Wording Changes from Ada 83<a class="hash-link" href="#wording-changes-from-ada-83-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.d" href="#p49.d" class="text_WcJ3"><small>49.d</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">We now separate named and positional array aggregate syntax, since, unlike other aggregates, named and positional associations cannot be mixed in array aggregates (except that an <strong>others</strong> choice is allowed in a positional array aggregate).<br></div></div></div><div class="wrapper_ab13"><a id="p49.e" href="#p49.e" class="text_WcJ3"><small>49.e</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">We have also reorganized the presentation to handle multidimensional and one-dimensional aggregates more uniformly, and to incorporate the rulings of AI83-00019, AI83-00309, etc. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-95-2">Extensions to Ada 95<a class="hash-link" href="#extensions-to-ada-95-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.f" href="#p49.f" class="text_WcJ3"><small>49.f/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>&lt;<!-- -->&gt;<!-- --> can be used in place of an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>, default-initializing the component. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-95-2">Wording Changes from Ada 95<a class="hash-link" href="#wording-changes-from-ada-95-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.g" href="#p49.g" class="text_WcJ3"><small>49.g/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>Limited <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code>s are allowed (since all kinds of aggregates can now be limited, see <a href="/docs/arm/AA-4/AA-4.3">4.3</a>).<br></div></div></div><div class="wrapper_ab13"><a id="p49.h" href="#p49.h" class="text_WcJ3"><small>49.h/2</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00318-02</em>}<!-- --> <br>Fixed <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s to use the subtype of the return object of a function, rather than the result subtype, because they can be different for an <code><a href="/docs/arm/AA-6/AA-6.5#S0225">extended_return_statement</a></code>, and we want to use the subtype that&#x27;s explicitly in the code at the point of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="inconsistencies-with-ada-2005-1">Inconsistencies With Ada 2005<a class="hash-link" href="#inconsistencies-with-ada-2005-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.i" href="#p49.i" class="text_WcJ3"><small>49.i/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0037-1</em>}<!-- --> <strong><br></strong> Fixed so the check for components outside of the array applies to both <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s and <!-- -->&lt;<!-- -->&gt;<!-- -->s. As <!-- -->&lt;<!-- -->&gt;<!-- --> was a new feature in Ada 2005, there should be little existing code that depends on a <!-- -->&lt;<!-- -->&gt;<!-- --> component that is specified outside of the array (and that is nonsense anyway, that a compiler is likely to detect even without an explicit language rule disallowing it). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2005">Wording Changes from Ada 2005<a class="hash-link" href="#wording-changes-from-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.j" href="#p49.j" class="text_WcJ3"><small>49.j/3</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0147-1</em>}<!-- --> <br>Added a definition of the applicable index constraint for <code><a href="/docs/arm/AA-4/AA-4.5#S0148">conditional_expression</a></code>s (which are new). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="inconsistencies-with-ada-2012">Inconsistencies With Ada 2012<a class="hash-link" href="#inconsistencies-with-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.k" href="#p49.k" class="text_WcJ3"><small>49.k/4</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0084-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Fixed so that the Default_Component_Value (if any) is used to initialize components specified with <!-- -->&lt;<!-- -->&gt;<!-- -->. This is what users would expect, and all Ada 2012 implementation known at the time of this writing initialize with the Default_Component_Value, so it is unlikely that anyone will be affected by this inconsistency. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012-1">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.l" href="#p49.l" class="text_WcJ3"><small>49.l/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0061-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>The <code><a href="/docs/arm/AA-4/AA-4.3#S0119">iterated_component_association</a></code> is new (more than 25 years after it was originally proposed). It has been extended to allow container iterators as well as the basic index iterators.<br></div></div></div><div class="wrapper_ab13"><a id="p49.m" href="#p49.m" class="text_WcJ3"><small>49.m/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0212-1</em>}<!-- --> <br>An <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> can be surrounded by brackets rather than parentheses. This allows consistent writing of zero- and one-component positional array aggregates, and is consistent with the syntax for writing container aggregates.<br></div></div></div><div class="wrapper_ab13"><a id="p49.n" href="#p49.n" class="text_WcJ3"><small>49.n/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0306-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0115">null_array_aggregate</a></code> is new. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2012-2">Wording Changes from Ada 2012<a class="hash-link" href="#wording-changes-from-ada-2012-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p49.o" href="#p49.o" class="text_WcJ3"><small>49.o/4</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0157-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Added expression functions to the contexts that provide an applicable index constraint, because expression functions are handled separately in static semantics and legality rules.<br></div></div></div><div class="wrapper_ab13"><a id="p49.p" href="#p49.p" class="text_WcJ3"><small>49.p/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0127-1</em>}<!-- --> <br>Made syntax and wording changes for <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>s.<br></div></div></div><div class="wrapper_ab13"><a id="p49.q" href="#p49.q" class="text_WcJ3"><small>49.q/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0236-1</em>}<!-- --> <br>Added a definition of the applicable index constraint for <code><a href="/docs/arm/AA-4/AA-4.5#S0156">declare_expression</a></code>s (which are new). This allows <strong>others</strong> in array aggregates inside of <code><a href="/docs/arm/AA-4/AA-4.5#S0156">declare_expression</a></code>s. <br></div></div></div><a id="Subclause_4.3.4"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="434--delta-aggregates">4.3.4  Delta Aggregates<a class="hash-link" href="#434--delta-aggregates" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <br>Evaluating a (record or array) delta aggregate yields a composite value that starts with a copy of another value of the same type and then assigns to some (but typically not all) components of the copy. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax-4">Syntax<a class="hash-link" href="#syntax-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <br><code>delta_aggregate</code><a id="S0120"></a><code> ::= </code><code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> | <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code><br><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <br><code>record_delta_aggregate</code><a id="S0121"></a><code> ::= </code><br>    (<em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <strong>with</strong> <strong>delta</strong> <code><a href="/docs/arm/AA-4/AA-4.3#S0108">record_component_association_list</a></code>)<br><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0212-1</em>}<!-- --> <br><code>array_delta_aggregate</code><a id="S0122"></a><code> ::= </code><br>    (<em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <strong>with</strong> <strong>delta</strong> <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code>)<br>  | &#x27;[&#x27; <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> <strong>with</strong> <strong>delta</strong> <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code> &#x27;]&#x27;<br></code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-4">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> shall be a single descendant of a record type or record extension.<br></p><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>The expected type for an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code> shall be a single array type.<br></p><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>The expected type for the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of any <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> is the type of the enclosing <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>. <br></p><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3"><small>8/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>[The Name Resolution Rules and Legality Rules for each <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> are as defined in <a href="/docs/arm/AA-4/AA-4.3#Subclause_4.3.1">4.3.1</a>.]<br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3"><small>9/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>, the expected type for each <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> is the index type of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>.<br></p><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3"><small>10/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>The expected type of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> is defined as for an <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> occurring within an <code><a href="/docs/arm/AA-4/AA-4.3#S0113">array_aggregate</a></code> of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-4">Legality Rules<a class="hash-link" href="#legality-rules-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3"><small>11/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>, the <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> shall not use the box symbol <!-- -->&lt;<!-- -->&gt;<!-- -->, and the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> shall not be <strong>others</strong>.<br></p><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3"><small>12/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>, the dimensionality of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> shall be 1.<br></p><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3"><small>13/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>, the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> and each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in every <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> shall be of a nonlimited type.<br></p><div class="wrapper_ab13"><a id="p13.a" href="#p13.a" class="text_WcJ3"><small>13.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> may be of a limited type (for example a record with limited components), as it is not restricted. A rule in <a href="/docs/arm/AA-4/AA-4.3#Subclause_4.3.1">4.3.1</a> ensures that we do not assign to a limited component. We do not allow any part of an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code> to be of a limited type, even the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, as this is a useless construct (you would not be able to update anything because the components necessarily are also limited except in pathological cases). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-4">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3"><small>14/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <!-- -->{<em>AI12-0381-1</em>}<!-- --> <br>The evaluation of a <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> begins with the evaluation of the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code>; then that value is used to create and initialize the anonymous object of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>. The bounds of the anonymous object of an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code> and the discriminants (if any) of the anonymous object of a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> are those of the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>. If a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code> is of a specific tagged type, its tag is that of the specific type; if it is of a class-wide type, its tag is that of the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>.<br></p><div class="wrapper_ab13"><a id="p14.a" href="#p14.a" class="text_WcJ3"><small>14.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>This is the same anonymous object as described in <a href="/docs/arm/AA-7/AA-7.6">7.6</a>, &quot;<a href="/docs/arm/AA-7/AA-7.6">Assignment and Finalization</a>&quot;; in particular, it might be required to be built in place.<br></div></div></div><div class="wrapper_ab13"><a id="p14.b" href="#p14.b" class="text_WcJ3"><small>14.b/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">For a specific tagged type, any extension components that the actual object underlying the <em>base_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> might have are not used to initialize the anonymous object, which is critical if the aggregate is required to be built-in-place. <br></div></div></div><div class="wrapper_ab13"><a id="p14.c" href="#p14.c" class="text_WcJ3"><small>14.c/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>The anonymous object associated with the evaluation of a <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> begins its life as a variable, not a constant (<a href="/docs/arm/AA-3/AA-3.3">3.3</a> notwithstanding). This must be the case because the object is initialized and then subsequently modified. After evaluation of the <code><a href="/docs/arm/AA-4/AA-4.3#S0120">delta_aggregate</a></code> is complete, the object is a constant object. This is similar to the way that an extended return statement can provide a variable view of an object that will eventually be a constant object after the function returns its result. <br></div></div></div><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3"><small>15/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>, for each component associated with each <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> (in an unspecified order): <br></p><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3"><small>16/5</small></a></div><ul><li>if the associated component belongs to a <code><a href="/docs/arm/AA-3/AA-3.8#S0072">variant</a></code>, a check is made that the values of the discriminants are such that the anonymous object has this component. The exception Constraint_Error is raised if this check fails.<br></li><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3"><small>17/5</small></a></div><li>the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of the <code><a href="/docs/arm/AA-4/AA-4.3#S0109">record_component_association</a></code> is evaluated, converted to the nominal subtype of the associated component, and assigned to the component of the anonymous object.<br></li><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3"><small>18/5</small></a></div></ul><p>{<em>AI12-0127-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code>, for each <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> of each <code><a href="/docs/arm/AA-4/AA-4.3#S0118">array_component_association</a></code> (in the order given in the enclosing <code><a href="/docs/arm/AA-3/AA-3.8#S0073">discrete_choice_list</a></code> and <code><a href="/docs/arm/AA-4/AA-4.3#S0117">array_component_association_list</a></code>, respectively) the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> is evaluated; for each represented index value (in ascending order, if the <code><a href="/docs/arm/AA-3/AA-3.8#S0074">discrete_choice</a></code> represents a range): <br></p><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3"><small>19/5</small></a></div><ul><li>the index value is converted to the index type of the array type.<br></li><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3"><small>20/5</small></a></div><li>a check is made that the index value belongs to the index range of the anonymous object of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>; Constraint_Error is raised if this check fails.<br></li><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3"><small>21/5</small></a></div><li>the component <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is evaluated, converted to the array component subtype, and assigned to the component of the anonymous object identified by the index value. <br></li><div class="wrapper_ab13"><a id="p21.a" href="#p21.a" class="text_WcJ3"><small>21.a/5</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Unlike other <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s, an <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code> is evaluated in the order that it is written. This is necessary to get deterministic behavior, as (unlike other <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s, including <code><a href="/docs/arm/AA-4/AA-4.3#S0121">record_delta_aggregate</a></code>s) there is no requirement that the specified components be distinct. As such, the order requirement ensures that every <code><a href="/docs/arm/AA-4/AA-4.3#S0122">array_delta_aggregate</a></code> has a well-defined result, even if the same component is specified multiple times. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-3">Examples<a class="hash-link" href="#examples-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3"><small>22/5</small></a></div><p>{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Examples of use of delta aggregates in a postcondition:</em><br></p><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3"><small>23/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">procedure Twelfth (D : in out Date) -- see <a href="/docs/arm/AA-3/AA-3.8">3.8</a> for type Date<!-- -->
<!-- -->   with Post =<!-- -->&gt;<!-- --> D = (D&#x27;Old with delta Day =<!-- -->&gt;<!-- --> 12);<!-- -->
<div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3"><small>24/5</small></a></div>procedure The_Answer (V : in out Vector;<!-- -->
<!-- -->                      A, B : in Integer) -- see <a href="/docs/arm/AA-3/AA-3.6">3.6</a> for type Vector<!-- -->
<!-- -->   with Post =<!-- -->&gt;<!-- --> V = (V&#x27;Old with delta A .. B =<!-- -->&gt;<!-- --> 42.0, V&#x27;First =<!-- -->&gt;<!-- --> 0.0);<!-- -->
<div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3"><small>25/5</small></a></div></code></pre><p>{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <!-- -->{<em>AI12-0379-1</em>}<!-- --> <!-- -->{<em>AI12-0386-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Examples where the base expression is nontrivial:</em><br></p><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3"><small>26/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">New_Cell : Cell := (Min_Cell (Head) with delta Value =<!-- -->&gt;<!-- --> 42);<!-- -->
<!-- -->   -- see <a href="/docs/arm/AA-3/AA-3.10#Subclause_3.10.1">3.10.1</a> for Cell and Head; <a href="/docs/arm/AA-6/AA-6.1">6.1</a> for Min_Cell<!-- -->
<div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3"><small>27/5</small></a></div>A1 : Vector := ((0 =<!-- -->&gt;<!-- --> 1.0, 1 =<!-- -->&gt;<!-- --> 2.0, 2 =<!-- -->&gt;<!-- --> 3.0)<!-- -->
<!-- -->       with delta Integer(Random * 2.0) =<!-- -->&gt;<!-- --> 14.2);<!-- -->
<!-- -->   -- see <a href="/docs/arm/AA-3/AA-3.6">3.6</a> for declaration of type Vector<!-- -->
<!-- -->   -- see <a href="/docs/arm/AA-6/AA-6.1">6.1</a> for declaration of Random<!-- -->
<div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3"><small>28/5</small></a></div>Tomorrow := ((Yesterday with delta Day =<!-- -->&gt;<!-- --> 12)<!-- -->
<!-- -->                  with delta Month =<!-- -->&gt;<!-- --> April); -- see <a href="/docs/arm/AA-3/AA-3.8">3.8</a>
<div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3"><small>29/5</small></a></div></code></pre><p>{<em>AI12-0127-1</em>}<!-- --> <!-- -->{<em>AI12-0379-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Example where the base expression is class-wide:</em><br></p><div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3"><small>30/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">function Translate (P : Point&#x27;Class; X, Y : Real) return Point&#x27;Class is<!-- -->
<!-- -->   (P with delta X =<!-- -->&gt;<!-- --> P.X + X,<!-- -->
<!-- -->                 Y =<!-- -->&gt;<!-- --> P.Y + Y); -- see <a href="/docs/arm/AA-3/AA-3.9">3.9</a> for declaration of type Point<!-- -->
</code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012-2">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p30.a" href="#p30.a" class="text_WcJ3"><small>30.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0127-1</em>}<!-- --> <br>Delta aggregates are new. <br></div></div></div><a id="Subclause_4.3.5"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="435--container-aggregates">4.3.5  Container Aggregates<a class="hash-link" href="#435--container-aggregates" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3"><small>1/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>In a <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code>, values are specified for elements of a container; for a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code>, the elements are given sequentially; for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code>, the elements are specified by a sequence of key/value pairs, or using an iterator. The Aggregate aspect of the type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> determines how the elements are combined to form the container.<br></p><div class="wrapper_ab13"><a id="p1.a.1" href="#p1.a.1" class="text_WcJ3"><small>1.a.1/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>glossary entry</div><div class="admonitionContent_a8rJ"><strong></strong>A container aggregate is a construct used to define a value of a type that represents a collection of elements, by explicitly specifying the elements in the collection.<br></div></div></div><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3"><small>2</small></a></div><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3"><small>3/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>For a type other than an array type, the following type-related operational aspect may be specified:<br></p><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3"><small>4/5</small></a></div><dt><br>Aggregate</dt><dl><dd>This aspect is an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> of the form:<br></dd><div class="wrapper_ab13"><a id="p4.a" href="#p4.a" class="text_WcJ3"><small>4.a/5</small></a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Aggregate: </strong>Mechanism to define user-defined aggregates.<br></div></div></div><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3"><small>5/5</small></a></div><p>   (Empty =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>[,<br>    Add_Named =<!-- -->&gt;<!-- --> <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>][,<br>    Add_Unnamed =<!-- -->&gt;<!-- --> <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>][,<br>    New_Indexed =<!-- -->&gt;<!-- --> <em>function_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>,<br>    Assign_Indexed =<!-- -->&gt;<!-- --> <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>])<br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3"><small>5.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI22-0020-1</em>}<!-- --> <br>As this aspect is described with syntax, it has to be given exactly as specified here. That means it cannot be given as a positional aggregate, nor can the order of the elements be changed. For instance, New_Indexed always has to occur before Assign_Indexed, and Empty always has to be first. <br></div></div></div><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3"><small>6/5</small></a></div><dl><dd>{<em>AI12-0212-1</em>}<!-- --> <br>The type for which this aspect is specified is known as the <em>container type</em> of the Aggregate aspect. A <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> shall be specified for at least one of Add_Named, Add_Unnamed, or Assign_Indexed. If Add_Named is specified, neither Add_Unnamed nor Assign_Indexed shall be specified. Either both or neither of New_Indexed and Assign_Indexed shall be specified.<br></dd></dl><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-5">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-5" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3"><small>7/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> specified for Empty for an Aggregate aspect shall denote a constant of the container type, or denote exactly one function with a result type of the container type that has no parameters, or that has one <strong>in</strong> parameter of a signed integer type.<br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3"><small>7.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>In the function case, the parameter, if present may be used to specify an initial size for the container, in anticipation of adding elements to it. For a positional aggregate, or a named aggregate that doesn&#x27;t use an iterator, it will be initialized with the number of elements. For a named aggregate that uses an iterator, the implementation is permitted to estimate the number of elements that the iterator will produce, but it is not required to do so. <br></div></div></div><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3"><small>8/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0437-1</em>}<!-- --> <br>The <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> specified for Add_Unnamed for an Aggregate aspect shall denote exactly one procedure that has two parameters, the first an <strong>in out</strong> parameter of the container type, and the second an <strong>in</strong> parameter of some nonlimited type, called the <em>element type</em> of the container type.<br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3"><small>9/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0437-1</em>}<!-- --> <br>The <em>function_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> specified for New_Indexed for an Aggregate aspect shall denote exactly one function with a result type of the container type, and two parameters of the same discrete type, with that type being the <em>key type</em> of the container type.<br></p><div class="wrapper_ab13"><a id="p9.a" href="#p9.a" class="text_WcJ3"><small>9.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>The New_Indexed function is used instead of Empty as the first step of creating an aggregate that is initialized using the Assign_Indexed procedure. <br></div></div></div><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3"><small>10/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0437-1</em>}<!-- --> <br>The <em>procedure_</em><code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> specified for Add_Named or Assign_Indexed for an Aggregate aspect shall denote exactly one procedure that has three parameters, the first an <strong>in out</strong> parameter of the container type, the second an <strong>in</strong> parameter of a nonlimited type (the <em>key type</em> of the container type), and the third, an <strong>in</strong> parameter of a nonlimited type that is called the <em>element type</em> of the container type.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-5">Legality Rules<a class="hash-link" href="#legality-rules-5" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3"><small>11/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>If the container type of an Aggregate aspect is a private type, the full type of the container type shall not be an array type. If the container type is limited, the name specified for Empty shall denote a function rather than a constant object.<br></p><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3"><small>12/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>For an Aggregate aspect, the key type of Assign_Indexed shall be the same type as that of the parameters of New_Indexed. Additionally, if both Add_Unnamed and Assign_Indexed are specified, the final parameters shall be of the same type - the element type of the container type.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-2">Static Semantics<a class="hash-link" href="#static-semantics-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3"><small>13/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0388-1</em>}<!-- --> <br>The Aggregate aspect is nonoverridable (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>). <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax-5">Syntax<a class="hash-link" href="#syntax-5" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3"><small>14/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>container_aggregate</code><a id="S0123"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0124">null_container_aggregate</a></code><br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code><br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code><br><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3"><small>15/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>null_container_aggregate</code><a id="S0124"></a><code> ::= </code>&#x27;[&#x27; &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3"><small>16/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>positional_container_aggregate</code><a id="S0125"></a><code> ::= </code>&#x27;[&#x27; <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>}<!-- --> &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3"><small>17/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>named_container_aggregate</code><a id="S0126"></a><code> ::= </code>&#x27;[&#x27; <code><a href="/docs/arm/AA-4/AA-4.3#S0127">container_element_association_list</a></code> &#x27;]&#x27;<br><div class="wrapper_ab13"><a id="p17.a" href="#p17.a" class="text_WcJ3"><small>17.a/5</small></a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0212-1</em>}<!-- --> <br>Unlike other <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s, container aggregates have to be surrounded with brackets rather than parentheses. Using brackets allows writing zero- and one-element positional <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>s. (Were we to use parentheses, a one-element positional aggregate would look the same as and would always be interpreted as a parenthesized expression.) Unlike the case for arrays, where it is always possible to give bounds to work around this gap, such an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> could not be written at all for a sequence type (such as a list) where there is no index or key to use. <br></div></div></div><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3"><small>18/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>container_element_association_list</code><a id="S0127"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> <!-- -->{<!-- -->, <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>}<br><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3"><small>19/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>container_element_association</code><a id="S0128"></a><code> ::= </code><br>    <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code> =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code> =<!-- -->&gt;<!-- --> <!-- -->&lt;<!-- -->&gt;<br>  | <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code><br><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3"><small>20/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>key_choice_list</code><a id="S0129"></a><code> ::= </code><code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code> <!-- -->{<!-- -->&#x27;|&#x27; <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>}<br><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3"><small>21/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>key_choice</code><a id="S0130"></a><code> ::= </code><em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> | <code><a href="/docs/arm/AA-3/AA-3.6#S0058">discrete_range</a></code><br><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3"><small>22/5</small></a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI12-0212-1</em>}<!-- --> <br><code>iterated_element_association</code><a id="S0131"></a><code> ::= </code><br>    <strong>for</strong> <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code>[ <strong>use</strong> <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>] =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br>  | <strong>for</strong> <code><a href="/docs/arm/AA-5/AA-5.5#S0183">iterator_specification</a></code>[ <strong>use</strong> <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>] =<!-- -->&gt;<!-- --> <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code><br></code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-6">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-6" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3"><small>23/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0437-1</em>}<!-- --> <br>The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code> shall be a single type for which the Aggregate aspect has been specified. The expected type for each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code> is the element type of the expected type.<br></p><div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3"><small>24/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The expected type for a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, or a <code><a href="/docs/arm/AA-3/AA-3.6#S0058">discrete_range</a></code> of a <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>, is the key type of the expected type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-6">Legality Rules<a class="hash-link" href="#legality-rules-6" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3"><small>25/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code> shall have an Aggregate aspect that includes a specification for an Add_Unnamed procedure or an Assign_Indexed procedure. The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> that contains one or more <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>s with a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> shall have an Aggregate aspect that includes a specification for the Add_Named procedure. The expected type for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> that contains one or more <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code>s shall have an Aggregate aspect that includes a specification for the Add_Named or Assign_Indexed procedure. [A <code><a href="/docs/arm/AA-4/AA-4.3#S0124">null_container_aggregate</a></code> can be of any type with an Aggregate aspect.]<br></p><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3"><small>26/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>A non-null container aggregate is called an <em>indexed aggregate</em> if the expected type <em>T</em> of the aggregate specifies an Assign_Indexed procedure in its Aggregate aspect, and either there is no Add_Unnamed procedure specified for the type, or the aggregate is a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> with a <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> that contains a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code> or a <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code>. The key type of an indexed aggregate is also called the <em>index type</em> of the aggregate.<br></p><div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3"><small>27/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>A <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> with a <!-- -->&lt;<!-- -->&gt;<!-- --> rather than an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, or with a <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code> that is a <code><a href="/docs/arm/AA-3/AA-3.6#S0058">discrete_range</a></code>, is permitted only in an indexed aggregate.<br></p><div class="wrapper_ab13"><a id="p27.a" href="#p27.a" class="text_WcJ3"><small>27.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Only an element of an indexed aggregate can be left uninitialized, because the compiler can simply omit producing an Assign_Indexed operation for the given index. For other kinds of aggregates, there are no operations that add an element without giving it a value. We could have defined such (optional) operations, but they would have added significant complication to an already complex feature without adding much additional expressive power. Note that, to be consistent with array aggregates, we do not support specifying <!-- -->&lt;<!-- -->&gt;<!-- --> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3"><small>28/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>For an <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code> without a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is an indexed aggregate or the expected type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> specifies an Add_Named procedure in its Aggregate aspect, then the type of the loop parameter of the <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code> shall be the same as the key type of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>.<br></p><div class="wrapper_ab13"><a id="p28.a" href="#p28.a" class="text_WcJ3"><small>28.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>If there is a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> in an <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>, it determines the key of each added key/value pair, rather than the loop parameter. But if there is no <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, the loop parameter itself is used as the key. <br></div></div></div><div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3"><small>29/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0250-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> that is an indexed aggregate, all <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>s shall contain either a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code>, or a <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code> without a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> or <code><a href="/docs/arm/AA-5/AA-5.5#S0182">iterator_filter</a></code>. Furthermore, for such an aggregate, either: <br></p><div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3"><small>30/5</small></a></div><ul><li>all <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>s shall be static expressions or static ranges, and every <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code> shall have a <code><a href="/docs/arm/AA-3/AA-3.6#S0055">discrete_subtype_definition</a></code> that defines a non-null static range, and the set of values of the index type covered by the <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>s and the <code><a href="/docs/arm/AA-3/AA-3.6#S0055">discrete_subtype_definition</a></code>s shall form a contiguous range of values with no duplications; or<br></li><div class="wrapper_ab13"><a id="p31" href="#p31" class="text_WcJ3"><small>31/5</small></a></div><li>there shall be exactly one <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>, and if it has a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code>, the list shall have exactly one <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>. <br></li><div class="wrapper_ab13"><a id="p31.a" href="#p31.a" class="text_WcJ3"><small>31.a/5</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>The above is trying to mimic the rules for <code><a href="/docs/arm/AA-4/AA-4.3#S0116">named_array_aggregate</a></code>s, without <strong>others</strong>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-5">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-5" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p32" href="#p32" class="text_WcJ3"><small>32/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The evaluation of a <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code> starts by creating an anonymous object <em>A</em> of the expected type <em>T</em>, initialized as follows:<br></p><div class="wrapper_ab13"><a id="p33" href="#p33" class="text_WcJ3"><small>33/5</small></a></div><ul><li>if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is an indexed aggregate, from the result of a call on the New_Indexed function; the actual parameters in this call represent the lower and upper bound of the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, and are determined as follows: <br></li><div class="wrapper_ab13"><a id="p34" href="#p34" class="text_WcJ3"><small>34/5</small></a></div><li>if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code>, the lower bound is the low bound of the subtype of the key parameter of the Add_Indexed procedure, and the upper bound has a position number that is the sum of the position number of the lower bound and one less than the number of <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s in the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>;<br></li><div class="wrapper_ab13"><a id="p35" href="#p35" class="text_WcJ3"><small>35/5</small></a></div><li>if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code>, the lower bound is the lowest value covered by a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code> or is the low bound of a range defined by a <code><a href="/docs/arm/AA-3/AA-3.6#S0055">discrete_subtype_definition</a></code> of a <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code>; the upper bound is the highest value covered by a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code> or is the high bound of a range defined by a <code><a href="/docs/arm/AA-3/AA-3.6#S0055">discrete_subtype_definition</a></code> of a <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code>. <br></li><div class="wrapper_ab13"><a id="p36" href="#p36" class="text_WcJ3"><small>36/5</small></a></div><li>if the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code> is not an indexed aggregate, by assignment from the Empty constant, or from a call on the Empty function specified in the Aggregate aspect. In the case of an Empty function with a formal parameter, the actual parameter has the following value:<br></li><div class="wrapper_ab13"><a id="p37" href="#p37" class="text_WcJ3"><small>37/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0124">null_container_aggregate</a></code>, the value zero;<br></li><div class="wrapper_ab13"><a id="p38" href="#p38" class="text_WcJ3"><small>38/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code>, the number of <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s;<br></li><div class="wrapper_ab13"><a id="p39" href="#p39" class="text_WcJ3"><small>39/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> without an <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>, the number of <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s;<br></li><div class="wrapper_ab13"><a id="p40" href="#p40" class="text_WcJ3"><small>40/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> where every <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code> contains a <code><a href="/docs/arm/AA-5/AA-5.5#S0181">loop_parameter_specification</a></code>, the total number of elements specified by all of the <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>s;<br></li><div class="wrapper_ab13"><a id="p41" href="#p41" class="text_WcJ3"><small>41/5</small></a></div><li>otherwise, to an implementation-defined value.<br></li><div class="wrapper_ab13"><a id="p41.a" href="#p41.a" class="text_WcJ3"><small>41.a/5</small></a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>implementation note</div><div class="admonitionContent_a8rJ"><strong></strong>This value ought to be an estimate for the number of elements in the <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>, if one is available. If not, it is suggested to use the default value for the parameter if one exists, and zero otherwise. <br></div></div></div><div class="wrapper_ab13"><a id="p41.b" href="#p41.b" class="text_WcJ3"><small>41.b/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>implementation defined</div><div class="admonitionContent_a8rJ"><strong></strong>The value of the parameter to Empty for some <code><a href="/docs/arm/AA-4/AA-4.3#S0123">container_aggregate</a></code>s.<br></div></div></div><div class="wrapper_ab13"><a id="p42" href="#p42" class="text_WcJ3"><small>42/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <br>The evaluation then proceeds as follows:<br></p><div class="wrapper_ab13"><a id="p43" href="#p43" class="text_WcJ3"><small>43/5</small></a></div><ul><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0124">null_container_aggregate</a></code>, the anonymous object <em>A</em> is the result;<br></li><div class="wrapper_ab13"><a id="p44" href="#p44" class="text_WcJ3"><small>44/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code> of a type with a specified Add_Unnamed procedure, each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is evaluated in an arbitrary order, and the Add_Unnamed procedure is invoked in sequence with the anonymous object <em>A</em> as the first parameter and the result of evaluating each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the second parameter, in the order of the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>s;<br></li><div class="wrapper_ab13"><a id="p45" href="#p45" class="text_WcJ3"><small>45/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0125">positional_container_aggregate</a></code> that is an indexed aggregate, each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> is evaluated in an arbitrary order, and the Assign_Indexed procedure is invoked in sequence with the anonymous object <em>A</em> as the first parameter, the key value as the second parameter, computed by starting with the low bound of the subtype of the key formal parameter of the Assign_Indexed procedure and taking the successor of this value for each successive <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, and the result of evaluating each <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the third parameter;<br></li><div class="wrapper_ab13"><a id="p46" href="#p46" class="text_WcJ3"><small>46/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> for a type with an Add_Named procedure in its Aggregate aspect, the <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>s are evaluated in an arbitrary order: <br></li><div class="wrapper_ab13"><a id="p47" href="#p47" class="text_WcJ3"><small>47/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> with a <code><a href="/docs/arm/AA-4/AA-4.3#S0129">key_choice_list</a></code>, for each <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code> of the list in an arbitrary order, the <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code> is evaluated as is the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of the <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> (in an arbitrary order), and the Add_Named procedure is invoked once for each value covered by the <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code>, with the anonymous object <em>A</em> as the first parameter, the value from the <code><a href="/docs/arm/AA-4/AA-4.3#S0130">key_choice</a></code> as the second parameter, and the result of evaluating the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the third parameter;<br></li><div class="wrapper_ab13"><a id="p48" href="#p48" class="text_WcJ3"><small>48/5</small></a></div><li>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0327-1</em>}<!-- --> <br>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> with an <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>, first the <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code> is elaborated, then an iteration is performed, and for each value conditionally produced by the iteration (see <a href="/docs/arm/AA-5/AA-5.5">5.5</a> and <a href="/docs/arm/AA-5/AA-5.5#Subclause_5.5.2">5.5.2</a>) the Add_Named procedure is invoked with the anonymous object <em>A</em> as the first parameter, the result of evaluating the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the third parameter, and:<br></li><div class="wrapper_ab13"><a id="p49" href="#p49" class="text_WcJ3"><small>49/5</small></a></div><li>if there is a <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, the result of evaluating the <em>key_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the second parameter;<br></li><div class="wrapper_ab13"><a id="p50" href="#p50" class="text_WcJ3"><small>50/5</small></a></div><li>otherwise, with the loop parameter as the second parameter;<br></li><div class="wrapper_ab13"><a id="p51" href="#p51" class="text_WcJ3"><small>51/5</small></a></div><li>for a <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code> that is an indexed aggregate, the evaluation proceeds as above for the case of Add_Named, but with the Assign_Indexed procedure being invoked instead of Add_Named; in the case of a <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code> with a <!-- -->&lt;<!-- -->&gt;<!-- --> rather than an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, the corresponding call on Assign_Indexed is not performed, leaving the component as it was upon return from the New_Indexed function;<br></li><div class="wrapper_ab13"><a id="p52" href="#p52" class="text_WcJ3"><small>52/5</small></a></div><li>for any other <code><a href="/docs/arm/AA-4/AA-4.3#S0126">named_container_aggregate</a></code>, the <code><a href="/docs/arm/AA-4/AA-4.3#S0128">container_element_association</a></code>s (which are necessarily <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>s) are evaluated in the order given; each such evaluation comprises two steps: <br></li><div class="wrapper_ab13"><a id="p53" href="#p53" class="text_WcJ3"><small>53/5</small></a></div></ul><dt><br>a)</dt><dl><dd>the <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code> is elaborated;<br></dd><div class="wrapper_ab13"><a id="p54" href="#p54" class="text_WcJ3"><small>54/5</small></a></div><dt><br>b)</dt><dd>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0327-1</em>}<!-- --> <br>an iteration is performed, and for each value conditionally produced by the iteration (see <a href="/docs/arm/AA-5/AA-5.5">5.5</a> and <a href="/docs/arm/AA-5/AA-5.5#Subclause_5.5.2">5.5.2</a>) the Add_Unnamed procedure is invoked, with the anonymous object <em>A</em> as the first parameter and the result of evaluating the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> as the second parameter.<br></dd><div class="wrapper_ab13"><a id="p54.a" href="#p54.a" class="text_WcJ3"><small>54.a/5</small></a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>In this case, the value of the loop parameter is not directly relevant, though presumably it appears within the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> of the <code><a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a></code>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-4">Examples<a class="hash-link" href="#examples-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p55" href="#p55" class="text_WcJ3"><small>55/5</small></a></div><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Examples of specifying the Aggregate aspect for a Set_Type, a Map_Type, and a Vector_Type:</em><br></p><div class="wrapper_ab13"><a id="p56" href="#p56" class="text_WcJ3"><small>56/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">--  Set_Type is a set-like container type.<!-- -->
<!-- -->   type Set_Type is private<!-- -->
<!-- -->      with Aggregate =<!-- -->&gt;<!-- --> (Empty       =<!-- -->&gt;<!-- --> Empty_Set,<!-- -->
<!-- -->                         Add_Unnamed =<!-- -->&gt;<!-- --> Include);<!-- -->
<!-- -->   function Empty_Set return Set_Type;<!-- -->
<div class="wrapper_ab13"><a id="p57" href="#p57" class="text_WcJ3"><small>57/5</small></a></div>subtype Small_Int is Integer range -1000..1000;<!-- -->
<div class="wrapper_ab13"><a id="p58" href="#p58" class="text_WcJ3"><small>58/5</small></a></div>procedure Include (S : in out Set_Type; N : in Small_Int);<!-- -->
<div class="wrapper_ab13"><a id="p59" href="#p59" class="text_WcJ3"><small>59/5</small></a></div>--  Map_Type is a map-like container type.<!-- -->
<!-- -->   type Map_Type is private<!-- -->
<!-- -->      with Aggregate =<!-- -->&gt;<!-- -->  (Empty     =<!-- -->&gt;<!-- --> Empty_Map,<!-- -->
<!-- -->                          Add_Named =<!-- -->&gt;<!-- --> Add_To_Map);<!-- -->
<div class="wrapper_ab13"><a id="p60" href="#p60" class="text_WcJ3"><small>60/5</small></a></div>procedure Add_To_Map (M     : in out Map_Type;<!-- -->
<!-- -->                         Key   : in Integer;<!-- -->
<!-- -->                         Value : in String);<!-- -->
<div class="wrapper_ab13"><a id="p61" href="#p61" class="text_WcJ3"><small>61/5</small></a></div>Empty_Map : constant Map_Type;<!-- -->
<div class="wrapper_ab13"><a id="p62" href="#p62" class="text_WcJ3"><small>62/5</small></a></div>--  Vector_Type is an extensible array-like container type.<!-- -->
<!-- -->   type Vector_Type is private<!-- -->
<!-- -->      with Aggregate =<!-- -->&gt;<!-- --> (Empty          =<!-- -->&gt;<!-- --> Empty_Vector,<!-- -->
<!-- -->                         Add_Unnamed    =<!-- -->&gt;<!-- --> Append_One,<!-- -->
<!-- -->                         New_Indexed    =<!-- -->&gt;<!-- --> New_Vector,<!-- -->
<!-- -->                         Assign_Indexed =<!-- -->&gt;<!-- --> Assign_Element);<!-- -->
<div class="wrapper_ab13"><a id="p63" href="#p63" class="text_WcJ3"><small>63/5</small></a></div>function Empty_Vector (Capacity : Integer := 0) return Vector_Type;<!-- -->
<div class="wrapper_ab13"><a id="p64" href="#p64" class="text_WcJ3"><small>64/5</small></a></div>procedure Append_One (V : in out Vector_Type; New_Item : in String);<!-- -->
<div class="wrapper_ab13"><a id="p65" href="#p65" class="text_WcJ3"><small>65/5</small></a></div>procedure Assign_Element (V     : in out Vector_Type;<!-- -->
<!-- -->                             Index : in Positive;<!-- -->
<!-- -->                             Item  : in String);<!-- -->
<div class="wrapper_ab13"><a id="p66" href="#p66" class="text_WcJ3"><small>66/5</small></a></div>function New_Vector (First, Last : Positive) return Vector_Type<!-- -->
<!-- -->      with Pre =<!-- -->&gt;<!-- --> First = Positive&#x27;First;<!-- -->
<!-- -->      --  Vectors are always indexed starting at the<!-- -->
<!-- -->      --  lower bound of their index subtype.<!-- -->
<div class="wrapper_ab13"><a id="p67" href="#p67" class="text_WcJ3"><small>67/5</small></a></div>-- Private part not shown.<!-- -->
<div class="wrapper_ab13"><a id="p68" href="#p68" class="text_WcJ3"><small>68/5</small></a></div></code></pre><p>{<em>AI12-0212-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Examples of container aggregates for Set_Type, Map_Type, and Vector_Type:</em><br></p><div class="wrapper_ab13"><a id="p69" href="#p69" class="text_WcJ3"><small>69/5</small></a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">--  Example aggregates using Set_Type.<!-- -->
<!-- -->S : Set_Type;<!-- -->
<div class="wrapper_ab13"><a id="p70" href="#p70" class="text_WcJ3"><small>70/5</small></a></div>--  Assign the empty set to S:<!-- -->
<!-- -->S := [];<!-- -->
<div class="wrapper_ab13"><a id="p71" href="#p71" class="text_WcJ3"><small>71/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->S := Empty_Set;<!-- -->
<div class="wrapper_ab13"><a id="p72" href="#p72" class="text_WcJ3"><small>72/5</small></a></div>--  A positional set aggregate:<!-- -->
<!-- -->S := [1, 2];<!-- -->
<div class="wrapper_ab13"><a id="p73" href="#p73" class="text_WcJ3"><small>73/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->S := Empty_Set;<!-- -->
<!-- -->Include (S, 1);<!-- -->
<!-- -->Include (S, 2);<!-- -->
<div class="wrapper_ab13"><a id="p74" href="#p74" class="text_WcJ3"><small>74/5</small></a></div>--  A set aggregate with an <a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a>:<!-- -->
<!-- -->S := [for Item in 1 .. 5 =<!-- -->&gt;<!-- --> Item * 2];<!-- -->
<div class="wrapper_ab13"><a id="p75" href="#p75" class="text_WcJ3"><small>75/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->S := Empty_Set;<!-- -->
<!-- -->for Item in 1 .. 5 loop<!-- -->
<!-- -->   Include (S, Item * 2);<!-- -->
<!-- -->end loop;<!-- -->
<div class="wrapper_ab13"><a id="p76" href="#p76" class="text_WcJ3"><small>76/5</small></a></div>--  A set aggregate consisting of two <a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a>s:<!-- -->
<!-- -->S := [for Item in 1 .. 5 =<!-- -->&gt;<!-- --> Item,<!-- -->
<!-- -->      for Item in 1 .. 5 =<!-- -->&gt;<!-- --> -Item];<!-- -->
<div class="wrapper_ab13"><a id="p77" href="#p77" class="text_WcJ3"><small>77/5</small></a></div>--  <!-- -->{<!-- -->AI12-0379-1<!-- -->}<!-- -->
<!-- --> --  Is equivalent (assuming set semantics) to:<!-- -->
<!-- -->S := Empty_Set;<!-- -->
<!-- -->for Item in 1 .. 5 loop<!-- -->
<!-- -->   Include (S, Item);<!-- -->
<!-- -->end loop;<!-- -->
<!-- -->for Item in -5 .. -1 loop<!-- -->
<!-- -->   Include (S, Item);<!-- -->
<!-- -->end loop;<!-- -->
<div class="wrapper_ab13"><a id="p78" href="#p78" class="text_WcJ3"><small>78/5</small></a></div>--  Example aggregates using Map_Type.<!-- -->
<!-- -->M : Map_Type;<!-- -->
<div class="wrapper_ab13"><a id="p79" href="#p79" class="text_WcJ3"><small>79/5</small></a></div>--  A simple named map aggregate:<!-- -->
<!-- -->M := [12 =<!-- -->&gt;<!-- --> &quot;house&quot;, 14 =<!-- -->&gt;<!-- --> &quot;beige&quot;];<!-- -->
<div class="wrapper_ab13"><a id="p80" href="#p80" class="text_WcJ3"><small>80/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->M := Empty_Map;<!-- -->
<!-- -->Add_To_Map (M, 12, &quot;house&quot;);<!-- -->
<!-- -->Add_To_Map (M, 14, &quot;beige&quot;);<!-- -->
<div class="wrapper_ab13"><a id="p81" href="#p81" class="text_WcJ3"><small>81/5</small></a></div>--  Define a table of pairs:<!-- -->
<!-- -->type Pair is record<!-- -->
<!-- -->   Key : Integer;<!-- -->
<!-- -->   Value : access constant String;<!-- -->
<!-- -->end record;<!-- -->
<div class="wrapper_ab13"><a id="p82" href="#p82" class="text_WcJ3"><small>82/5</small></a></div>Table : constant array(Positive range <!-- -->&lt;<!-- -->&gt;<!-- -->) of Pair :=<!-- -->
<!-- -->   [(Key =<!-- -->&gt;<!-- --> 33, Value =<!-- -->&gt;<!-- --> new String&#x27;(&quot;a nice string&quot;)),<!-- -->
<!-- -->    (Key =<!-- -->&gt;<!-- --> 44, Value =<!-- -->&gt;<!-- --> new String&#x27;(&quot;an even better string&quot;))];<!-- -->
<div class="wrapper_ab13"><a id="p83" href="#p83" class="text_WcJ3"><small>83/5</small></a></div>--  A map aggregate using an <a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a>
<!-- -->--  and a key_<a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a>, built from from a table of key/value pairs:<!-- -->
<!-- -->M := [for P of Table use P.Key =<!-- -->&gt;<!-- --> P.Value.all];<!-- -->
<div class="wrapper_ab13"><a id="p84" href="#p84" class="text_WcJ3"><small>84/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->M := Empty_Map;<!-- -->
<!-- -->for P of Table loop<!-- -->
<!-- -->   Add_To_Map (M, P.Key, P.Value.all);<!-- -->
<!-- -->end loop;<!-- -->
<div class="wrapper_ab13"><a id="p85" href="#p85" class="text_WcJ3"><small>85/5</small></a></div>--  Create an image table for an array of integers:<!-- -->
<!-- -->Keys : constant array(Positive range <!-- -->&lt;<!-- -->&gt;<!-- -->) of Integer := [2, 3, 5, 7, 11];<!-- -->
<div class="wrapper_ab13"><a id="p86" href="#p86" class="text_WcJ3"><small>86/5</small></a></div>--  A map aggregate where the values produced by the<!-- -->
<!-- -->--  <a href="/docs/arm/AA-4/AA-4.3#S0131">iterated_element_association</a> are of the same type as the key<!-- -->
<!-- -->--  (hence a separate key_<a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a> is unnecessary):<!-- -->
<!-- -->M := [for Key of Keys =<!-- -->&gt;<!-- --> Integer&#x27;Image (Key)];<!-- -->
<div class="wrapper_ab13"><a id="p87" href="#p87" class="text_WcJ3"><small>87/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->M := Empty_Map;<!-- -->
<!-- -->for Key of Keys loop<!-- -->
<!-- -->   Add_To_Map (M, Key, Integer&#x27;Image (Key));<!-- -->
<!-- -->end loop;<!-- -->
<div class="wrapper_ab13"><a id="p88" href="#p88" class="text_WcJ3"><small>88/5</small></a></div>--  Example aggregates using Vector_Type.<!-- -->
<!-- -->V : Vector_Type;<!-- -->
<div class="wrapper_ab13"><a id="p89" href="#p89" class="text_WcJ3"><small>89/5</small></a></div>--  A positional vector aggregate:<!-- -->
<!-- -->V := [&quot;abc&quot;, &quot;def&quot;];<!-- -->
<div class="wrapper_ab13"><a id="p90" href="#p90" class="text_WcJ3"><small>90/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->V := Empty_Vector (2);<!-- -->
<!-- -->Append_One (V, &quot;abc&quot;);<!-- -->
<!-- -->Append_One (V, &quot;def&quot;);<!-- -->
<div class="wrapper_ab13"><a id="p91" href="#p91" class="text_WcJ3"><small>91/5</small></a></div>--  An indexed vector aggregate:<!-- -->
<!-- -->V := [1 =<!-- -->&gt;<!-- --> &quot;this&quot;, 2 =<!-- -->&gt;<!-- --> &quot;is&quot;, 3 =<!-- -->&gt;<!-- --> &quot;a&quot;, 4 =<!-- -->&gt;<!-- --> &quot;test&quot;];<!-- -->
<div class="wrapper_ab13"><a id="p92" href="#p92" class="text_WcJ3"><small>92/5</small></a></div>--  Is equivalent to:<!-- -->
<!-- -->V := New_Vector (1, 4);<!-- -->
<!-- -->Assign_Element (V, 1, &quot;this&quot;);<!-- -->
<!-- -->Assign_Element (V, 2, &quot;is&quot;);<!-- -->
<!-- -->Assign_Element (V, 3, &quot;a&quot;);<!-- -->
<!-- -->Assign_Element (V, 4, &quot;test&quot;);<!-- -->
</code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012-3">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p92.a" href="#p92.a" class="text_WcJ3"><small>92.a/5</small></a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0212-1</em>}<!-- --> <br>Container aggregates are new. <br></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/arm/AA-4/AA-4.2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">4.2 Literals</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/arm/AA-4/AA-4.4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">4.4 Expressions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_xYee thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#431--record-aggregates" class="table-of-contents__link toc-highlight">4.3.1  Record Aggregates</a></li><li><a href="#432--extension-aggregates" class="table-of-contents__link toc-highlight">4.3.2  Extension Aggregates</a></li><li><a href="#433--array-aggregates" class="table-of-contents__link toc-highlight">4.3.3  Array Aggregates</a></li><li><a href="#434--delta-aggregates" class="table-of-contents__link toc-highlight">4.3.4  Delta Aggregates</a></li><li><a href="#435--container-aggregates" class="table-of-contents__link toc-highlight">4.3.5  Container Aggregates</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learning</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/why-ada">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/books">Books</a></li><li class="footer__item"><a href="https://learn.adacore.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn Ada (by AdaCore)</a></li><li class="footer__item"><a href="https://learn.adacore.com/courses/intro-to-spark/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn SPARK (by AdaCore)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/arm/AA-Title">Reference Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/style-guide/Ada_Style_Guide">Style Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/ada-lang/Lobby" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-gitter-link">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/ada/" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-reddit-link">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/ada_lang" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-telegram-link">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ada" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-stackoverflow-link">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://arg.adaic.org/community-input" target="_blank" rel="noopener noreferrer" class="footer__link-item">ARG Community Input<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://alire.ada.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alire (Ada package manager)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ohenley/awesome-ada" target="_blank" rel="noopener noreferrer" class="footer__link-item">Awesome Ada<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.laeran.pl/adaplanet/i/" target="_blank" rel="noopener noreferrer" class="footer__link-item">News, by Ada Planet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://arg.adaic.org/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ada Rapporteur Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ada-lang-io/ada-lang-io" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-github-link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/ada_saw_coin.svg" alt="Alt" class="themedImage_ppNZ themedImage--light_fir_ footer__logo" width="128" height="128"><img src="/img/ada_saw_coin.svg" alt="Alt" class="themedImage_ppNZ themedImage--dark_Yb8R footer__logo" width="128" height="128"></div><div class="footer__copyright">Copyright Â© 2022 and licensed under Apache 2.0 unless otherwise noted, by the ada-lang-io developers. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f14fed81.js"></script>
<script src="/assets/js/main.e3b285d5.js"></script>
</body>
</html>