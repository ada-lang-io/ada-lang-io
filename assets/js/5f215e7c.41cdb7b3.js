"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[7933],{52453:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>A,contentTitle:()=>h,default:()=>u,frontMatter:()=>c,metadata:()=>p,toc:()=>x});var t=i(74848),s=i(28453),r=i(13842),a=i(91435),l=i(21432),o=i(79162),d=i(34421);const c={sidebar_position:128},h="A.8 Sequential and Direct Files",p={id:"arm/AA-A/AA-A.8",title:"A.8 Sequential and Direct Files",description:"This Reference Manual output has not been verified,",source:"@site/docs/arm/AA-A/AA-A.8.mdx",sourceDirName:"arm/AA-A",slug:"/arm/AA-A/AA-A.8",permalink:"/docs/arm/AA-A/AA-A.8",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:128,frontMatter:{sidebar_position:128},sidebar:"referenceManualSidebar",previous:{title:"A.7 External Files and File Objects",permalink:"/docs/arm/AA-A/AA-A.7"},next:{title:"A.9 The Generic Package Storage_IO",permalink:"/docs/arm/AA-A/AA-A.9"}},A={},x=[{value:"Static Semantics",id:"static-semantics",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95",level:4},{value:"A.8.1  The Generic Package Sequential_IO",id:"a81--the-generic-package-sequential_io",level:2},{value:"Static Semantics",id:"static-semantics-1",level:4},{value:"Incompatibilities With Ada 83",id:"incompatibilities-with-ada-83",level:4},{value:"Incompatibilities With Ada 95",id:"incompatibilities-with-ada-95",level:4},{value:"Incompatibilities With Ada 2012",id:"incompatibilities-with-ada-2012",level:4},{value:"A.8.2  File Management",id:"a82--file-management",level:2},{value:"Static Semantics",id:"static-semantics-2",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95-1",level:4},{value:"Wording Changes from Ada 2012",id:"wording-changes-from-ada-2012",level:4},{value:"A.8.3  Sequential Input-Output Operations",id:"a83--sequential-input-output-operations",level:2},{value:"Static Semantics",id:"static-semantics-3",level:4},{value:"A.8.4  The Generic Package Direct_IO",id:"a84--the-generic-package-direct_io",level:2},{value:"Static Semantics",id:"static-semantics-4",level:4},{value:"Incompatibilities With Ada 95",id:"incompatibilities-with-ada-95-1",level:4},{value:"Incompatibilities With Ada 2012",id:"incompatibilities-with-ada-2012-1",level:4},{value:"A.8.5  Direct Input-Output Operations",id:"a85--direct-input-output-operations",level:2},{value:"Static Semantics",id:"static-semantics-5",level:4}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h4:"h4",p:"p",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"a8-sequential-and-direct-files",children:"A.8 Sequential and Direct Files"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.p,{children:["This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,t.jsx)(n.a,{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20",children:"tracking issue"})]})}),"\n","\n",(0,t.jsx)(n.h4,{id:"static-semantics",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1/2"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00283-01"]}),"\n",(0,t.jsxs)("p",{children:["Two kinds of access to external files are defined in this subclause: ",(0,t.jsx)("em",{children:"sequential access"})," and ",(0,t.jsx)("em",{children:"direct access"}),". The corresponding file types and the associated operations are provided by the generic packages Sequential","_","IO and Direct","_","IO. A file object to be used for sequential access is called a ",(0,t.jsx)("em",{children:"sequential file"}),", and one to be used for direct access is called a ",(0,t.jsx)("em",{children:"direct file"}),". Access to ",(0,t.jsx)("em",{children:"stream file"}),"s is described in ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.12#Subclause_A.12.1",children:"A.12.1"}),".",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2"}),"\n",(0,t.jsxs)("p",{children:["For sequential access, the file is viewed as a sequence of values that are transferred in the order of their appearance (as produced by the program or by the external environment). When the file is opened with mode In","_","File or Out","_","File, transfer starts respectively from or to the beginning of the file. When the file is opened with mode Append","_","File, transfer to the file starts after the last element of the file. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"2.a"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"Adding stream I/O necessitates a review of the terminology. In Ada 83, ",(0,t.jsx)(n.code,{children:"sequential' implies both the access method (purely sequential &mdash; that is, no indexing or positional access) and homogeneity. Direct access includes purely sequential access and indexed access, as well as homogeneity. In Ada 95, streams allow purely sequential access but also positional access to an individual element, and are heterogeneous. We considered generalizing the notion of "}),"sequential file' to include both Sequential","_","IO and Stream","_","IO files, but since streams allow positional access it seems misleading to call them sequential files. Or, looked at differently, if the criterion for calling something a sequential file is whether it permits (versus requires) purely sequential access, then one could just as soon regard a Direct","_","IO file as a sequential file.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"2.b"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["It seems better to regard ",(0,t.jsx)(n.code,{children:"sequential file' as meaning "}),"only permitting purely sequential access'; hence we have decided to supplement ",(0,t.jsx)(n.code,{children:"sequential access' and "}),"direct access' with a third category, informally called ",(0,t.jsx)(n.code,{children:"access to streams'. (We decided against the term "}),"stream access' because of possible confusion with the Stream","_","Access type declared in one of the stream packages.)",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"3"}),"\n",(0,t.jsxs)("p",{children:["For direct access, the file is viewed as a set of elements occupying consecutive positions in linear order; a value can be transferred to or from an element of the file at any selected position. The position of an element is specified by its ",(0,t.jsx)("em",{children:"index"}),", which is a number, greater than zero, of the implementation-defined integer type Count. The first element, if any, has index one; the index of the last element, if any, is called the ",(0,t.jsx)("em",{children:"current size"}),"; the current size is zero if there are no elements. The current size is a property of the external file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"4"}),"\n",(0,t.jsxs)("p",{children:["An open direct file has a ",(0,t.jsx)("em",{children:"current index"}),", which is the index that will be used by the next read or write operation. When a direct file is opened, the current index is set to one. The current index of a direct file is a property of a file object, not of an external file. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"wording-changes-from-ada-95",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"4.a/2"}),(0,t.jsx)(d.A,{items:["AI95-00283-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["Italicized \u201cstream file\u201d to clarify that this is another kind of file. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_A.8.1"}),"\n",(0,t.jsx)(n.h2,{id:"a81--the-generic-package-sequential_io",children:"A.8.1  The Generic Package Sequential_IO"}),"\n",(0,t.jsx)(n.h4,{id:"static-semantics-1",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1_A.8.1"}),"\n",(0,t.jsxs)("p",{children:["The generic library package Sequential","_","IO has the following declaration: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2/5_A.8.1"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),"\n",(0,t.jsxs)(l.A,{language:"ada",children:[(0,t.jsxs)(n.p,{children:["with Ada.IO","_","Exceptions;","\n","generic","\n","   type Element","_","Type(","<",">",") is private;","\n","package Ada.Sequential","_","IO","\n","   with Global =",">"," in out synchronized is","\n","\n",(0,t.jsx)(o.A,{children:"3_A.8.1"}),"\ntype File","_","Type is limited private;","\n","\n",(0,t.jsx)(o.A,{children:"4_A.8.1"}),"\ntype File","_","Mode is (In","_","File, Out","_","File, Append","_","File);","\n","\n",(0,t.jsx)(o.A,{children:"5_A.8.1"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"6_A.8.1"}),"\nprocedure Create(File : in out File","_","Type;","\n","                    Mode : in File","_","Mode := Out","_","File;","\n",'                    Name : in String := "";',"\n",'                    Form : in String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"7_A.8.1"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                    Mode : in File","_","Mode;","\n","                    Name : in String;","\n",'                    Form : in String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"8_A.8.1"}),"\nprocedure Close (File : in out File","_","Type);","\n","   procedure Delete(File : in out File","_","Type);","\n","   procedure Reset (File : in out File","_","Type; Mode : in File","_","Mode);","\n","   procedure Reset (File : in out File","_","Type);","\n","\n",(0,t.jsx)(o.A,{children:"9_A.8.1"}),"\nfunction Mode   (File : in File","_","Type) return File","_","Mode;","\n","   function Name   (File : in File","_","Type) return String;","\n","   function Form   (File : in File","_","Type) return String;","\n","\n",(0,t.jsx)(o.A,{children:"10_A.8.1"}),"\nfunction Is","_","Open(File : in File","_","Type) return Boolean;","\n","\n",(0,t.jsx)(o.A,{children:"10.1/5_A.8.1"})]}),(0,t.jsx)(d.A,{items:["AI12-0130-1","AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Flush (File : in File","_","Type)","\n","       with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"11_A.8.1"}),"\n-- Input and output operations","\n","\n",(0,t.jsx)(o.A,{children:"12/5_A.8.1"})]}),(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Read  (File : in File","_","Type; Item : out Element","_","Type)","\n","       with Global =",">"," overriding in out File;","\n","   procedure Write (File : in File","_","Type; Item : in Element","_","Type)","\n","       with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"13_A.8.1"}),"\nfunction End","_","Of","_","File(File : in File","_","Type) return Boolean;","\n","\n",(0,t.jsx)(o.A,{children:"14_A.8.1"}),"\n-- Exceptions","\n","\n",(0,t.jsx)(o.A,{children:"15_A.8.1"}),"\nStatus","_","Error : exception renames IO","_","Exceptions.Status","_","Error;","\n","   Mode","_","Error   : exception renames IO","_","Exceptions.Mode","_","Error;","\n","   Name","_","Error   : exception renames IO","_","Exceptions.Name","_","Error;","\n","   Use","_","Error    : exception renames IO","_","Exceptions.Use","_","Error;","\n","   Device","_","Error : exception renames IO","_","Exceptions.Device","_","Error;","\n","   End","_","Error    : exception renames IO","_","Exceptions.End","_","Error;","\n","   Data","_","Error   : exception renames IO","_","Exceptions.Data","_","Error;","\n","\n",(0,t.jsx)(o.A,{children:"15.1/5_A.8.1"})]}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsxs)(n.p,{children:["package Wide","_","File","_","Names is","\n","\n",(0,t.jsx)(o.A,{children:"15.2/5_A.8.1"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"15.3/5_A.8.1"}),"\nprocedure Create(File : in out File","_","Type;","\n","                       Mode : in File","_","Mode := Out","_","File;","\n","                       Name : in Wide","_",'String := "";',"\n","                       Form : in Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"15.4/5_A.8.1"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                       Mode : in File","_","Mode;","\n","                       Name : in Wide","_","String;","\n","                       Form : in Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"15.5/5_A.8.1"}),"\nfunction Name   (File : in File","_","Type) return Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"15.6/5_A.8.1"}),"\nfunction Form   (File : in File","_","Type) return Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"15.7/5_A.8.1"}),"\nend Wide","_","File","_","Names;","\n","\n",(0,t.jsx)(o.A,{children:"15.8/5_A.8.1"})]}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsxs)(n.p,{children:["package Wide","_","Wide","_","File","_","Names is","\n","\n",(0,t.jsx)(o.A,{children:"15.9/5_A.8.1"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"15.10/5_A.8.1"}),"\nprocedure Create(File : in out File","_","Type;","\n","                       Mode : in File","_","Mode := Out","_","File;","\n","                       Name : in Wide","_","Wide","_",'String := "";',"\n","                       Form : in Wide","_","Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"15.11/5_A.8.1"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                       Mode : in File","_","Mode;","\n","                       Name : in Wide","_","Wide","_","String;","\n","                       Form : in Wide","_","Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"15.12/5_A.8.1"}),"\nfunction Name   (File : in File","_","Type) return Wide","_","Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"15.13/5_A.8.1"}),"\nfunction Form   (File : in File","_","Type) return Wide","_","Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"15.14/5_A.8.1"}),"\nend Wide","_","Wide","_","File","_","Names;","\n","\n",(0,t.jsx)(o.A,{children:"16_A.8.1"}),"\nprivate","\n","   ... -- not specified by the language","\n","end Ada.Sequential","_","IO;","\n"]})]}),"\n",(0,t.jsx)(o.A,{children:"17/2_A.8.1"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00360-01"]}),"\n",(0,t.jsxs)("p",{children:["The type File","_","Type needs finalization (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-7/AA-7.6",children:"7.6"}),") in every instantiation of Sequential","_","IO.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"incompatibilities-with-ada-83",children:"Incompatibilities With Ada 83"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17.a_A.8.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["The new enumeration element Append","_","File may introduce upward incompatibilities. It is possible that a program based on the assumption that File","_","Mode'Last = Out","_","File will be illegal (e.g., case statement choice coverage) or execute with a different effect in Ada 95. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17.a.1/2_A.8.1"}),(0,t.jsx)(d.A,{items:["AI95-00115-01","AI95-00344-01"]}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),"{",(0,t.jsx)("em",{children:"8652/0097"}),"}",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"incompatibilities-with-ada-95",children:"Incompatibilities With Ada 95"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17.b/2_A.8.1"}),(0,t.jsx)(d.A,{items:["AI95-00360-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"correction",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{children:"Amendment "})," File","_","Type in an instance of Sequential","_","IO is defined to need finalization. If the restriction No","_","Nested","_","Finalization (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.7",children:"D.7"}),") applies to the partition, and File","_","Type does not have a controlled part, it will not be allowed in local objects in Ada 2005 whereas it would be allowed in original Ada 95. Such code is not portable, as another Ada compiler may have a controlled part in File","_","Type, and thus would be illegal. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"incompatibilities-with-ada-2012",children:"Incompatibilities With Ada 2012"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17.c/5_A.8.1"}),(0,t.jsx)(d.A,{items:["AI05-0005-1","AI12-0130-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{children:"Corrigendum:"})," The Flush procedure is newly added to Ada.Sequential","_","IO. Therefore, a use clause conflict is possible; see the introduction of ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/",children:"Annex A"})," for more on this topic.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17.d/5_A.8.1"}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["The Wide","_","File","_","Names and Wide","_","Wide","_","File","_","Names nested packages are newly added to Ada.Sequential","_","IO. Therefore, a use clause conflict is possible; see the introduction of ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/",children:"Annex A"})," for more on this topic. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_A.8.2"}),"\n",(0,t.jsx)(n.h2,{id:"a82--file-management",children:"A.8.2  File Management"}),"\n",(0,t.jsx)(n.h4,{id:"static-semantics-2",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1/5_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0449-1"]}),"\n",(0,t.jsxs)("p",{children:["The procedures and functions described in this subclause provide for the control of external files; their declarations are repeated in each of the packages for sequential, direct, text, and stream input-output. For text input-output, the procedures Create, Open, and Reset have additional effects described in ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.10#Subclause_A.10.2",children:"A.10.2"}),". ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Create(File : in out File","_","Type;","\n","                 Mode : in File","_","Mode := default","_","mode;","\n",'                 Name : in String := "";',"\n",'                 Form : in String := "");',"\n"]})}),"\n",(0,t.jsx)(o.A,{children:"3/2_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00283-01"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Establishes a new external file, with the given name and form, and associates this external file with the given file. The given file is left open. The current mode of the given file is set to the given access mode. The default access mode is the mode Out","_","File for sequential, stream, and text input-output; it is the mode Inout","_","File for direct input-output. For direct access, the size of the created file is implementation defined.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"3.a/4_A.8.2"}),(0,t.jsx)(d.A,{items:["AI12-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"For a direct file, the initial value of current index is 1 (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.8",children:"A.8"}),"). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"4_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["A null string for Name specifies an external file that is not accessible after the completion of the main program (a temporary file). A null string for Form specifies the use of the default options of the implementation for the external file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"5_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is already open. The exception Name","_","Error is propagated if the string given as Name does not allow the identification of an external file. The exception Use","_","Error is propagated if, for the specified mode, the external environment does not support creation of an external file with the given name (in the absence of Name","_","Error) and form.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"6_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Open(File : in out File","_","Type;","\n","               Mode : in File","_","Mode;","\n","               Name : in String;","\n",'               Form : in String := "");',"\n"]})}),"\n",(0,t.jsx)(o.A,{children:"7_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Associates the given file with an existing external file having the given name and form, and sets the current mode of the given file to the given mode. The given file is left open.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"7.a/4_A.8.2"}),(0,t.jsx)(d.A,{items:["AI12-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"For a direct file, the initial value of current index is 1 (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.8",children:"A.8"}),"). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"8_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is already open. The exception Name","_","Error is propagated if the string given as Name does not allow the identification of an external file; in particular, this exception is propagated if no external file with the given name exists. The exception Use","_","Error is propagated if, for the specified mode, the external environment does not support opening for an external file with the given name (in the absence of Name","_","Error) and form.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"9_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Close(File : in out File","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"10_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Severs the association between the given file and its associated external file. The given file is left closed. In addition, for sequential files, if the file being closed has mode Out","_","File or Append","_","File, then the last element written since the most recent open or reset is the last element that can be read from the file. If no elements have been written and the file mode is Out","_","File, then the closed file is empty. If no elements have been written and the file mode is Append","_","File, then the closed file is unchanged.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"11_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is not open.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"12_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Delete(File : in out File","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"13_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Deletes the external file associated with the given file. The given file is closed, and the external file ceases to exist.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"14_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is not open. The exception Use","_","Error is propagated if deletion of the external file is not supported by the external environment.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"15_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Reset(File : in out File","_","Type; Mode : in File","_","Mode);","\n","procedure Reset(File : in out File","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"16/2_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00085-01"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Resets the given file so that reading from its elements can be restarted from the beginning of the external file (for modes In","_","File and Inout","_","File), and so that writing to its elements can be restarted at the beginning of the external file (for modes Out","_","File and Inout","_","File) or after the last element of the external file (for mode Append","_","File). In particular, for direct access this means that the current index is set to one. If a Mode parameter is supplied, the current mode of the given file is set to the given mode. In addition, for sequential files, if the given file has mode Out","_","File or Append","_","File when Reset is called, the last element written since the most recent open or reset is the last element that can be read from the external file. If no elements have been written and the file mode is Out","_","File, the reset file is empty. If no elements have been written and the file mode is Append","_","File, then the reset file is unchanged.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"17_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the file is not open. The exception Use","_","Error is propagated if the external environment does not support resetting for the external file and, also, if the external environment does not support resetting to the specified mode for the external file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"18_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Mode(File : in File","_","Type) return File","_","Mode;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"19_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Returns the current mode of the given file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"20_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the file is not open.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"21_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Name(File : in File","_","Type) return String;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"22/2_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00248-01"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Returns a string which uniquely identifies the external file currently associated with the given file (and may thus be used in an Open operation).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"22.a/2_A.8.2"}),(0,t.jsx)(d.A,{items:["AI95-00248-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"Retrieving the full path can be accomplished by passing the result of Name to Directories.Full","_","Name (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.16",children:"A.16"}),"). It is important to drop the requirement on Name, as the only way to accomplish this requirement given that the current directory can be changed with package Directories is to store the full path when the file is opened. That's expensive, and it's better for users that need the full path to explicitly request it. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"23_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is not open. The exception Use","_","Error is propagated if the associated external file is a temporary file that cannot be opened by any name.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"24_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Form(File : in File","_","Type) return String;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"25_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Returns the form string for the external file currently associated with the given file. If an external environment allows alternative specifications of the form (for example, abbreviations using default options), the string returned by the function should correspond to a full specification (that is, it should indicate explicitly all options selected, including default options).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"26_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the given file is not open.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"27_A.8.2"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Is","_","Open(File : in File","_","Type) return Boolean;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"28/3_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI05-0264-1"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Returns True if the file is open (that is, if it is associated with an external file); otherwise, returns False.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"28.1/4_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0130-1"]}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Flush(File : in File","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"28.2/4_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The Flush procedure synchronizes the external file with the internal file (by flushing any internal buffers) without closing the file. For a direct file, the current index is unchanged; for a stream file (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.12#Subclause_A.12.1",children:"A.12.1"}),"), the current position is unchanged.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"28.3/4_A.8.2"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Status","_","Error is propagated if the file is not open. The exception Mode","_","Error is propagated if the mode of the file is In","_","File.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"28.4/5_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),"\n",(0,t.jsxs)("p",{children:["The nested package Wide","_","File","_","Names provides operations equivalent to the operations of the same name of the outer package except that Wide","_","String is used instead of String for the name and form of the external file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"28.a/5_A.8.2"}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"The expectation is that if one opens a file with this subpackage and then requests the name with Name from this subpackage, the result will include the same Wide","_","Characters that were used to open the file (rather than some encoded form). Since file names are completely implementation-defined, we cannot say this normatively. We have no expectations when retrieving the name of a file opened with this package using the String Name. Similar considerations apply to the nested package Wide","_","Wide","_","File","_","Names (see below). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"28.5/5_A.8.2"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),"\n",(0,t.jsxs)("p",{children:["The nested package Wide","_","Wide","_","File","_","Names provides operations equivalent to the operations of the same name of the outer package except that Wide","_","Wide","_","String is used instead of String for the name and form of the external file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(n.h4,{id:"implementation-permissions",children:"Implementation Permissions"}),"\n",(0,t.jsx)(o.A,{children:"29_A.8.2"}),"\n",(0,t.jsxs)("p",{children:["An implementation may propagate Name","_","Error or Use","_","Error if an attempt is made to use an I/O feature that cannot be supported by the implementation due to limitations in the external environment. Any such restriction should be documented. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"wording-changes-from-ada-95-1",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"29.a/2_A.8.2"}),(0,t.jsx)(d.A,{items:["AI95-00085-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["Clarified that Reset affects and depends on the external file.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"29.b/2_A.8.2"}),(0,t.jsx)(d.A,{items:["AI95-00248-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["Removed the requirement for Name to return a full path; this is now accomplished by Directories.Full","_","Name(Name(File)) (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.16",children:"A.16"}),"). This is not documented as an inconsistency, because there is no requirement for implementations to change \u2014 the Ada 95 behavior is still allowed, it just is no longer required.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"29.c/2_A.8.2"}),(0,t.jsx)(d.A,{items:["AI95-00283-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["Added text to specify the default mode for a stream file. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"wording-changes-from-ada-2012",children:"Wording Changes from Ada 2012"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"29.d/4_A.8.2"}),(0,t.jsx)(d.A,{items:["AI12-0130-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["Procedure Flush is now defined here, so it can be used for all of the I/O packages.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"29.e/5_A.8.2"}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["The nested Wide","_","File","_","Names and Wide","_","Wide","_","File","_","Names packages are now described here. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_A.8.3"}),"\n",(0,t.jsx)(n.h2,{id:"a83--sequential-input-output-operations",children:"A.8.3  Sequential Input-Output Operations"}),"\n",(0,t.jsx)(n.h4,{id:"static-semantics-3",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1_A.8.3"}),"\n",(0,t.jsxs)("p",{children:["The operations available for sequential input and output are described in this subclause. The exception Status","_","Error is propagated if any of these operations is attempted for a file that is not open. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2_A.8.3"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Read(File : in File","_","Type; Item : out Element","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"3_A.8.3"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode In","_","File. Reads an element from the given file, and returns the value of this element in the Item parameter. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"3.a_A.8.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"We considered basing Sequential","_","IO.Read on Element","_","Type'Read from an implicit stream associated with the sequential file. However, Element","_","Type'Read is a type-related attribute, whereas Sequential","_","IO should take advantage of the particular constraints of the actual subtype corresponding to Element","_","Type to minimize the size of the external file. Furthermore, forcing the implementation of Sequential","_","IO to be based on Element","_","Type'Read would create an upward incompatibility since existing data files written by an Ada 83 program using Sequential","_","IO might not be readable by the identical program built with an Ada 95 implementation of Sequential","_","IO.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"3.b_A.8.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["An Ada 95 implementation might still use an implementation-defined attribute analogous to 'Read to implement the procedure Read, but that attribute will likely have to be subtype-specific rather than type-related, and it need not be user-specifiable. Such an attribute will presumably be needed to implement the generic package Storage","_","IO (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.9",children:"A.9"}),"). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"4_A.8.3"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode is not In","_","File. The exception End","_","Error is propagated if no more elements can be read from the given file. The exception Data","_","Error can be propagated if the element read cannot be interpreted as a value of the subtype Element","_","Type (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"A.13"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"Exceptions in Input-Output"}),"\u201d). ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"4.a_A.8.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"Data","_","Error need not be propagated if the check is too complex. See ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"A.13"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"Exceptions in Input-Output"}),"\u201d. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"5_A.8.3"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Write(File : in File","_","Type; Item : in Element","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"6_A.8.3"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode Out","_","File or Append","_","File. Writes the value of Item to the given file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"7_A.8.3"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode is not Out","_","File or Append","_","File. The exception Use","_","Error is propagated if the capacity of the external file is exceeded.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"8_A.8.3"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function End","_","Of","_","File(File : in File","_","Type) return Boolean;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"9/3_A.8.3"}),"\n",(0,t.jsx)(d.A,{items:["AI05-0264-1"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode In","_","File. Returns True if no more elements can be read from the given file; otherwise, returns False.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"10_A.8.3"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode is not In","_","File. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)("a",{id:"Subclause_A.8.4"}),"\n",(0,t.jsx)(n.h2,{id:"a84--the-generic-package-direct_io",children:"A.8.4  The Generic Package Direct_IO"}),"\n",(0,t.jsx)(n.h4,{id:"static-semantics-4",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1_A.8.4"}),"\n",(0,t.jsxs)("p",{children:["The generic library package Direct","_","IO has the following declaration: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2/5_A.8.4"}),"\n",(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),"\n",(0,t.jsxs)(l.A,{language:"ada",children:[(0,t.jsxs)(n.p,{children:["with Ada.IO","_","Exceptions;","\n","generic","\n","   type Element","_","Type is private;","\n","package Ada.Direct","_","IO","\n","   with Global =",">"," in out synchronized is","\n","\n",(0,t.jsx)(o.A,{children:"3_A.8.4"}),"\ntype File","_","Type is limited private;","\n","\n",(0,t.jsx)(o.A,{children:"4_A.8.4"}),"\ntype File","_","Mode is (In","_","File, Inout","_","File, Out","_","File);","\n","   type Count     is range 0 .. implementation-defined;","\n","   subtype Positive","_","Count is Count range 1 .. Count'Last;","\n","\n",(0,t.jsx)(o.A,{children:"5_A.8.4"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"6_A.8.4"}),"\nprocedure Create(File : in out File","_","Type;","\n","                    Mode : in File","_","Mode := Inout","_","File;","\n",'                    Name : in String := "";',"\n",'                    Form : in String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"7_A.8.4"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                    Mode : in File","_","Mode;","\n","                    Name : in String;","\n",'                    Form : in String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"8_A.8.4"}),"\nprocedure Close (File : in out File","_","Type);","\n","   procedure Delete(File : in out File","_","Type);","\n","   procedure Reset (File : in out File","_","Type; Mode : in File","_","Mode);","\n","   procedure Reset (File : in out File","_","Type);","\n","\n",(0,t.jsx)(o.A,{children:"9_A.8.4"}),"\nfunction Mode   (File : in File","_","Type) return File","_","Mode;","\n","   function Name   (File : in File","_","Type) return String;","\n","   function Form   (File : in File","_","Type) return String;","\n","\n",(0,t.jsx)(o.A,{children:"10_A.8.4"}),"\nfunction Is","_","Open(File : in File","_","Type) return Boolean;","\n","\n",(0,t.jsx)(o.A,{children:"10.1/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0130-1","AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Flush (File : in File","_","Type)","\n","      with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"11_A.8.4"}),"\n-- Input and output operations","\n","\n",(0,t.jsx)(o.A,{children:"12/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Read (File : in File","_","Type; Item : out Element","_","Type;","\n","                                        From : in Positive","_","Count)","\n","      with Global =",">"," overriding in out File;","\n","   procedure Read (File : in File","_","Type; Item : out Element","_","Type)","\n","      with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"13/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Write(File : in File","_","Type; Item : in  Element","_","Type;","\n","                                        To   : in Positive","_","Count)","\n","      with Global =",">"," overriding in out File;","\n","   procedure Write(File : in File","_","Type; Item : in Element","_","Type)","\n","      with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"14/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0302-1"]}),(0,t.jsxs)(n.p,{children:["procedure Set","_","Index(File : in File","_","Type; To : in Positive","_","Count)","\n","      with Global =",">"," overriding in out File;","\n","\n",(0,t.jsx)(o.A,{children:"15_A.8.4"}),"\nfunction Index(File : in File","_","Type) return Positive","_","Count;","\n","   function Size (File : in File","_","Type) return Count;","\n","\n",(0,t.jsx)(o.A,{children:"16_A.8.4"}),"\nfunction End","_","Of","_","File(File : in File","_","Type) return Boolean;","\n","\n",(0,t.jsx)(o.A,{children:"17_A.8.4"}),"\n-- Exceptions","\n","\n",(0,t.jsx)(o.A,{children:"18_A.8.4"}),"\nStatus","_","Error : exception renames IO","_","Exceptions.Status","_","Error;","\n","   Mode","_","Error   : exception renames IO","_","Exceptions.Mode","_","Error;","\n","   Name","_","Error   : exception renames IO","_","Exceptions.Name","_","Error;","\n","   Use","_","Error    : exception renames IO","_","Exceptions.Use","_","Error;","\n","   Device","_","Error : exception renames IO","_","Exceptions.Device","_","Error;","\n","   End","_","Error    : exception renames IO","_","Exceptions.End","_","Error;","\n","   Data","_","Error   : exception renames IO","_","Exceptions.Data","_","Error;","\n","\n",(0,t.jsx)(o.A,{children:"18.1/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsxs)(n.p,{children:["package Wide","_","File","_","Names is","\n","\n",(0,t.jsx)(o.A,{children:"18.2/5_A.8.4"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"18.3/5_A.8.4"}),"\nprocedure Create(File : in out File","_","Type;","\n","                       Mode : in File","_","Mode := Inout","_","File;","\n","                       Name : in Wide","_",'String := "";',"\n","                       Form : in Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"18.4/5_A.8.4"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                       Mode : in File","_","Mode;","\n","                       Name : in Wide","_","String;","\n","                       Form : in Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"18.5/5_A.8.4"}),"\nfunction Name   (File : in File","_","Type) return Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"18.6/5_A.8.4"}),"\nfunction Form   (File : in File","_","Type) return Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"18.7/5_A.8.4"}),"\nend Wide","_","File","_","Names;","\n","\n",(0,t.jsx)(o.A,{children:"18.8/5_A.8.4"})]}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsxs)(n.p,{children:["package Wide","_","Wide","_","File","_","Names is","\n","\n",(0,t.jsx)(o.A,{children:"18.9/5_A.8.4"}),"\n-- File management","\n","\n",(0,t.jsx)(o.A,{children:"18.10/5_A.8.4"}),"\nprocedure Create(File : in out File","_","Type;","\n","                       Mode : in File","_","Mode := Inout","_","File;","\n","                       Name : in Wide","_","Wide","_",'String := "";',"\n","                       Form : in Wide","_","Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"18.11/5_A.8.4"}),"\nprocedure Open  (File : in out File","_","Type;","\n","                       Mode : in File","_","Mode;","\n","                       Name : in Wide","_","Wide","_","String;","\n","                       Form : in Wide","_","Wide","_",'String := "");',"\n","\n",(0,t.jsx)(o.A,{children:"18.12/5_A.8.4"}),"\nfunction Name   (File : in File","_","Type) return Wide","_","Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"18.13/5_A.8.4"}),"\nfunction Form   (File : in File","_","Type) return Wide","_","Wide","_","String;","\n","\n",(0,t.jsx)(o.A,{children:"18.14/5_A.8.4"}),"\nend Wide","_","Wide","_","File","_","Names;","\n","\n",(0,t.jsx)(o.A,{children:"19_A.8.4"}),"\nprivate","\n","   ... -- not specified by the language","\n","end Ada.Direct","_","IO;","\n"]})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"19.a_A.8.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{}),"The Element","_","Type formal of Direct","_","IO does not have an ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-3/AA-3.7#S0060",children:"unknown_discriminant_part"})})," (unlike Sequential","_","IO) so that the implementation can make use of the ability to declare uninitialized variables of the type. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:"20/2_A.8.4"}),"\n",(0,t.jsx)(d.A,{items:["AI95-00360-01"]}),"\n",(0,t.jsxs)("p",{children:["The type File","_","Type needs finalization (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-7/AA-7.6",children:"7.6"}),") in every instantiation of Direct","_","IO.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"20.a.1/2_A.8.4"}),(0,t.jsx)(d.A,{items:["AI95-00115-01","AI95-00344-01"]}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),"{",(0,t.jsx)("em",{children:"8652/0097"}),"}",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"incompatibilities-with-ada-95-1",children:"Incompatibilities With Ada 95"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"20.a/2_A.8.4"}),(0,t.jsx)(d.A,{items:["AI95-00360-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"correction",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{children:"Amendment "})," File","_","Type in an instance of Direct","_","IO is defined to need finalization. If the restriction No","_","Nested","_","Finalization (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.7",children:"D.7"}),") applies to the partition, and File","_","Type does not have a controlled part, it will not be allowed in local objects in Ada 2005 whereas it would be allowed in original Ada 95. Such code is not portable, as another Ada compiler may have a controlled part in File","_","Type, and thus would be illegal. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(n.h4,{id:"incompatibilities-with-ada-2012-1",children:"Incompatibilities With Ada 2012"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"20.b/5_A.8.4"}),(0,t.jsx)(d.A,{items:["AI05-0005-1","AI12-0130-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{children:"Corrigendum:"})," The Flush procedure is newly added to Ada.Direct","_","IO. Therefore, a use clause conflict is possible; see the introduction of ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/",children:"Annex A"})," for more on this topic.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"20.c/5_A.8.4"}),(0,t.jsx)(d.A,{items:["AI12-0021-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["The Wide","_","File","_","Names and Wide","_","Wide","_","File","_","Names nested packages are newly added to Ada.Direct","_","IO. Therefore, a use clause conflict is possible; see the introduction of ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/",children:"Annex A"})," for more on this topic. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_A.8.5"}),"\n",(0,t.jsx)(n.h2,{id:"a85--direct-input-output-operations",children:"A.8.5  Direct Input-Output Operations"}),"\n",(0,t.jsx)(n.h4,{id:"static-semantics-5",children:"Static Semantics"}),"\n",(0,t.jsx)(o.A,{children:"1_A.8.5"}),"\n",(0,t.jsxs)("p",{children:["The operations available for direct input and output are described in this subclause. The exception Status","_","Error is propagated if any of these operations is attempted for a file that is not open. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"2_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Read(File : in File","_","Type; Item : out Element","_","Type;","\n","                                    From : in  Positive","_","Count);","\n","procedure Read(File : in File","_","Type; Item : out Element","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"3_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode In","_","File or Inout","_","File. In the case of the first form, sets the current index of the given file to the index value given by the parameter From. Then (for both forms) returns, in the parameter Item, the value of the element whose position in the given file is specified by the current index of the file; finally, increases the current index by one.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"4_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode of the given file is Out","_","File. The exception End","_","Error is propagated if the index to be used exceeds the size of the external file. The exception Data","_","Error can be propagated if the element read cannot be interpreted as a value of the subtype Element","_","Type (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"A.13"}),").",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"5_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Write(File : in File","_","Type; Item : in Element","_","Type;","\n","                                     To   : in Positive","_","Count);","\n","procedure Write(File : in File","_","Type; Item : in Element","_","Type);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"6_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode Inout","_","File or Out","_","File. In the case of the first form, sets the index of the given file to the index value given by the parameter To. Then (for both forms) gives the value of the parameter Item to the element whose position in the given file is specified by the current index of the file; finally, increases the current index by one.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"7_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode of the given file is In","_","File. The exception Use","_","Error is propagated if the capacity of the external file is exceeded.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"8_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["procedure Set","_","Index(File : in File","_","Type; To : in Positive","_","Count);","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"9_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of any mode. Sets the current index of the given file to the given index value (which may exceed the current size of the file).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"10_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Index(File : in File","_","Type) return Positive","_","Count;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"11_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of any mode. Returns the current index of the given file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"12_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function Size(File : in File","_","Type) return Count;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"13_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of any mode. Returns the current size of the external file that is associated with the given file.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"14_A.8.5"}),"\n",(0,t.jsx)(l.A,{language:"ada",children:(0,t.jsxs)(n.p,{children:["function End","_","Of","_","File(File : in File","_","Type) return Boolean;","\n"]})}),"\n",(0,t.jsx)(o.A,{children:"15/3_A.8.5"}),"\n",(0,t.jsx)(d.A,{items:["AI05-0264-1"]}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["Operates on a file of mode In","_","File or Inout","_","File. Returns True if the current index exceeds the size of the external file; otherwise, returns False.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:"16_A.8.5"}),"\n",(0,t.jsxs)("p",{class:"Indented4",children:["The exception Mode","_","Error is propagated if the mode of the given file is Out","_","File.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(o.A,{children:"17_A.8.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(n.p,{children:["NOTE   Append","_","File mode is not supported for the generic package Direct","_","IO. ",(0,t.jsx)("br",{})]})})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}}}]);