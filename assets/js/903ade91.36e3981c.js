"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([["7824"],{38904:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>h,toc:()=>f,default:()=>m,metadata:()=>t,assets:()=>x,contentTitle:()=>p});var t=JSON.parse('{"id":"arm/AA-A/AA-A.7","title":"A.7. External Files and File Objects","description":"This Reference Manual output has not been verified,","source":"@site/docs/arm/AA-A/AA-A.7.mdx","sourceDirName":"arm/AA-A","slug":"/arm/AA-A/AA-A.7","permalink":"/docs/arm/AA-A/AA-A.7","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":127,"frontMatter":{"sidebar_position":127},"sidebar":"referenceManualSidebar","previous":{"title":"A.6. Input-Output","permalink":"/docs/arm/AA-A/AA-A.6"},"next":{"title":"A.8. Sequential and Direct Files","permalink":"/docs/arm/AA-A/AA-A.8"}}'),a=i(85893),s=i(50065),r=i(13393),o=i(82315),d=i(88514),l=i(1927),c=i(96470);let h={sidebar_position:127},p="A.7. External Files and File Objects",x={},f=[{value:"Static Semantics",id:"static-semantics",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95",level:4}];function u(e){let n={a:"a",admonition:"admonition",h1:"h1",h4:"h4",header:"header",p:"p",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"a7-external-files-and-file-objects",children:"A.7. External Files and File Objects"})}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,a.jsx)(n.a,{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20",children:"tracking issue"})]})}),"\n","\n",(0,a.jsx)(n.h4,{id:"static-semantics",children:"Static Semantics"}),"\n",(0,a.jsx)(l.Z,{children:"1"}),"\n",(0,a.jsxs)("p",{children:["Values input from the external environment of the program, or output to the external environment, are considered to occupy ",(0,a.jsx)("i",{children:"external files"}),". An external file can be anything external to the program that can produce a value to be read or receive a value to be written. An external file is identified by a string (the ",(0,a.jsx)("i",{children:"name"}),"). A second string (the ",(0,a.jsx)("i",{children:"form"}),") gives further system-dependent characteristics that may be associated with the file, such as the physical organization or access rights. The conventions governing the interpretation of such strings shall be documented.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"2/3"}),"\n",(0,a.jsx)(c.Z,{items:["AI05-0299-1"]}),"\n",(0,a.jsxs)("p",{children:["Input and output operations are expressed as operations on objects of some ",(0,a.jsx)("i",{children:"file type"}),", rather than directly in terms of the external files. In the remainder of this clause, the term ",(0,a.jsx)("i",{children:"file"})," is always used to refer to a file object; the term ",(0,a.jsx)("i",{children:"external file"})," is used otherwise.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"3"}),"\n",(0,a.jsxs)("p",{children:["Input-output for sequential files of values of a single element type is defined by means of the generic package Sequential","_","IO. In order to define sequential input-output for a given element type, an instantiation of this generic unit, with the given type as actual parameter, has to be declared. The resulting package contains the declaration of a file type (called File","_","Type) for files of such elements, as well as the operations applicable to these files, such as the Open, Read, and Write procedures.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"4/2"}),"\n",(0,a.jsx)(c.Z,{items:["AI95-00285-01"]}),"\n",(0,a.jsxs)("p",{children:["Input-output for direct access files is likewise defined by a generic package called Direct","_","IO. Input-output in human-readable form is defined by the (nongeneric) packages Text","_","IO for Character and String data, Wide","_","Text","_","IO for Wide","_","Character and Wide","_","String data, and Wide","_","Wide","_","Text","_","IO for Wide","_","Wide","_","Character and Wide","_","Wide","_","String data. Input-output for files containing streams of elements representing values of possibly different types is defined by means of the (nongeneric) package Streams.Stream","_","IO.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"5"}),"\n",(0,a.jsxs)("p",{children:["Before input or output operations can be performed on a file, the file first has to be associated with an external file. While such an association is in effect, the file is said to be ",(0,a.jsx)("i",{children:"open"}),", and otherwise the file is said to be ",(0,a.jsx)("i",{children:"closed"}),".",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"6"}),"\n",(0,a.jsxs)("p",{children:["The language does not define what happens to external files after the completion of the main program and all the library tasks (in particular, if corresponding files have not been closed). The effect of input-output for access types is unspecified.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"7"}),"\n",(0,a.jsxs)("p",{children:["An open file has a ",(0,a.jsx)("i",{children:"current mode"}),", which is a value of one of the following enumeration types: ",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"8"}),"\n",(0,a.jsx)(d.Z,{language:"ada",children:(0,a.jsxs)(n.p,{children:["type File","_","Mode is (In","_","File, Inout","_","File, Out","_","File);  --  for Direct","_","IO","\n"]})}),"\n",(0,a.jsx)(l.Z,{children:"9"}),"\n",(0,a.jsxs)("p",{class:"Indented4",children:["These values correspond respectively to the cases where only reading, both reading and writing, or only writing are to be performed. ",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"10/2"}),"\n",(0,a.jsx)(c.Z,{items:["AI95-00285-01"]}),"\n",(0,a.jsx)(d.Z,{language:"ada",children:(0,a.jsxs)(n.p,{children:["type File","_","Mode is (In","_","File, Out","_","File, Append","_","File);","\n","--  for Sequential","_","IO, Text","_","IO, Wide","_","Text","_","IO, Wide","_","Wide","_","Text","_","IO, and Stream","_","IO","\n"]})}),"\n",(0,a.jsx)(l.Z,{children:"11"}),"\n",(0,a.jsxs)("p",{class:"Indented4",children:["These values correspond respectively to the cases where only reading, only writing, or only appending are to be performed.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"12"}),"\n",(0,a.jsxs)("p",{class:"Indented4",children:["The mode of a file can be changed. ",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"13/5"}),"\n",(0,a.jsx)(c.Z,{items:["AI95-00285-01","AI12-0449-1"]}),"\n",(0,a.jsxs)("p",{children:["Several file management operations are common to Sequential","_","IO, Direct","_","IO, Text","_","IO, Wide","_","Text","_","IO, and Wide","_","Wide","_","Text","_","IO. These operations are described in ",(0,a.jsx)("a",{href:"/docs/arm/AA-A/AA-A.8#Subclause_A.8.2",children:"A.8.2"})," for sequential and direct files. Any additional effects concerning text input-output are described in ",(0,a.jsx)("a",{href:"/docs/arm/AA-A/AA-A.10#Subclause_A.10.2",children:"A.10.2"}),".",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(l.Z,{children:"14/5"}),"\n",(0,a.jsx)(c.Z,{items:["AI05-0299-1","AI12-0449-1"]}),"\n",(0,a.jsxs)("p",{children:["The exceptions that can be propagated by the execution of an input-output subprogram are defined in the package IO","_","Exceptions; the situations in which they can be propagated are described following the description of the subprogram (and in ",(0,a.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"A.13"}),"). The exceptions Storage","_","Error and Program","_","Error may be propagated. (Program","_","Error can only be propagated due to errors made by the caller of the subprogram.) Finally, exceptions can be propagated in certain implementation-defined situations. ",(0,a.jsx)("br",{})]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{children:"14.a/2"}),(0,a.jsxs)(r.Z,{type:"aarm",aarm:"note",children:[(0,a.jsx)("i",{children:"This paragraph was deleted."}),(0,a.jsx)("br",{})]})]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{children:"14.b/2"}),(0,a.jsx)(r.Z,{type:"aarm",aarm:"discussion",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)("b",{}),"The last sentence here is referring to the documentation requirements in ",(0,a.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"A.13"}),", \u201C",(0,a.jsx)("a",{href:"/docs/arm/AA-A/AA-A.13",children:"Exceptions in Input-Output"}),"\u201D, and the documentation summary item is provided there. ",(0,a.jsx)("br",{})]})})]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{children:"15/2"}),(0,a.jsx)(c.Z,{items:["AI95-00285-01"]}),(0,a.jsx)(r.Z,{type:"aarm",aarm:"note",children:(0,a.jsxs)(n.p,{children:["NOTE 1   Each instantiation of the generic packages Sequential","_","IO and Direct","_","IO declares a different type File","_","Type. In the case of Text","_","IO, Wide","_","Text","_","IO, Wide","_","Wide","_","Text","_","IO, and Streams.Stream","_","IO, the corresponding type File","_","Type is unique.",(0,a.jsx)("br",{})]})})]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{children:"16/5"}),(0,a.jsx)(c.Z,{items:["AI12-0440-1"]}),(0,a.jsx)(r.Z,{type:"aarm",aarm:"note",children:(0,a.jsxs)(n.p,{children:["NOTE 2   A bidirectional device can often be modeled as two sequential files associated with the device, one of mode In","_","File, and one of mode Out","_","File. An implementation can restrict the number of files that can be associated with a given external file. ",(0,a.jsx)("br",{})]})})]}),"\n",(0,a.jsx)(o.Z,{children:(0,a.jsx)(n.h4,{id:"wording-changes-from-ada-95",children:"Wording Changes from Ada 95"})}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{children:"16.a/2"}),(0,a.jsx)(c.Z,{items:["AI95-00285-01"]}),(0,a.jsx)(r.Z,{type:"aarm",aarm:"note",children:(0,a.jsxs)(n.p,{children:["Included package Wide","_","Wide","_","Text","_","IO in this description. ",(0,a.jsx)("br",{})]})})]})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);