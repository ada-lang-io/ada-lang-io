"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[4262],{36690:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"style-guide/s10/07","title":"10.7 Pragmas","description":"Pragma Inline","source":"@site/docs/style-guide/s10/07.mdx","sourceDirName":"style-guide/s10","slug":"/style-guide/s10/07","permalink":"/docs/style-guide/s10/07","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"10.7 Pragmas"},"sidebar":"styleGuideSidebar","previous":{"title":"10.6 Types","permalink":"/docs/style-guide/s10/06"},"next":{"title":"10.8 Summary","permalink":"/docs/style-guide/s10/08"}}');var l=i(74848),r=i(28453);const s={title:"10.7 Pragmas"},t=void 0,d={},o=[{value:"Pragma Inline",id:"pragma-inline",level:3},{value:"guideline",id:"guideline",level:4},{value:"example",id:"example",level:4},{value:"rationale",id:"rationale",level:4},{value:"exceptions",id:"exceptions",level:4},{value:"Pragma Restrictions",id:"pragma-restrictions",level:3},{value:"guideline",id:"guideline-1",level:4},{value:"rationale",id:"rationale-1",level:4},{value:"Pragma Preelaborate",id:"pragma-preelaborate",level:3},{value:"guideline",id:"guideline-2",level:4},{value:"rationale",id:"rationale-2",level:4},{value:"Pragma Pure",id:"pragma-pure",level:3},{value:"guideline",id:"guideline-3",level:4},{value:"rationale",id:"rationale-3",level:4},{value:"Pragma Discard_Names",id:"pragma-discard_names",level:3},{value:"guideline",id:"guideline-4",level:4},{value:"rationale",id:"rationale-4",level:4},{value:"Pragma Suppress",id:"pragma-suppress",level:3},{value:"guideline",id:"guideline-5",level:4},{value:"rationale",id:"rationale-5",level:4},{value:"Pragma Reviewable",id:"pragma-reviewable",level:3},{value:"guideline",id:"guideline-6",level:4},{value:"rationale",id:"rationale-6",level:4}];function c(e){const n={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h3,{id:"pragma-inline",children:"Pragma Inline"}),"\n",(0,l.jsx)(n.h4,{id:"guideline",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"When measured performance indicates, use pragma Inline when calling\noverhead is a significant portion of the routine's execution time."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example",children:"example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ada",children:"procedure Assign (Variable : in out Integer;\n                  Value    : in     Integer);\npragma Inline (Assign);\n...\nprocedure Assign (Variable : in out Integer;\n                  Value    : in     Integer) is\nbegin\n   Variable := Value;\nend Assign;\n"})}),"\n",(0,l.jsx)(n.h4,{id:"rationale",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"If calling overhead is a significant portion of a subprogram's execution\ntime, then using pragma Inline may reduce execution time."}),"\n",(0,l.jsx)(n.p,{children:"Procedure and function invocations include overhead that is unnecessary\nwhen the code involved is very small. These small routines are usually\nwritten to maintain the implementation hiding characteristics of a\npackage. They may also simply pass their parameters unchanged to another\nroutine. When one of these routines appears in some code that needs to\nrun faster, either the implementation-hiding principle needs to be\nviolated or a pragma Inline can be introduced."}),"\n",(0,l.jsx)(n.p,{children:"The use of pragma Inline does have its disadvantages. It can create\ncompilation dependencies on the body; that is, when the specification\nuses a pragma Inline, both the specification and corresponding body may\nneed to be compiled before the specification can be used. As updates are\nmade to the code, a routine may become more complex (larger) and the\ncontinued use of a pragma Inline may no longer be justified."}),"\n",(0,l.jsx)(n.h4,{id:"exceptions",children:"exceptions"}),"\n",(0,l.jsx)(n.p,{children:"Although it is rare, inlining code may increase code size, which can\nlead to slower performance caused by additional paging. A pragma Inline\nmay actually thwart a compiler's attempt to use some other optimization\ntechnique, such as register optimization."}),"\n",(0,l.jsx)(n.p,{children:"When a compiler is already doing a good job of selecting routines to be\ninlined, the pragma may accomplish little, if any, improvement in\nexecution speed."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-restrictions",children:"Pragma Restrictions"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-1",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Restrictions to express the user's intent to abide by\ncertain restrictions."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-1",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"This may facilitate the construction of simpler run-time environments\n(Ada Reference Manual 1995, \xa7\xa713.12, D.7, and H.4)."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-preelaborate",children:"Pragma Preelaborate"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-2",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Preelaborate where allowed."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-2",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"This may reduce memory write operations after load time (Ada Reference\nManual 1995, \xa7\xa710.2.1 and C.4)."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-pure",children:"Pragma Pure"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-3",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Pure where allowed."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-3",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"This may permit the compiler to omit calls on library-level subprograms\nof the library unit if the results are not needed after the call (Ada\nReference Manual 1995, \xa710.2.1)."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-discard_names",children:"Pragma Discard_Names"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-4",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Discard_Names when the names are not needed by the\napplication and data space is at a premium."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-4",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"This may reduce the memory needed to store names of Ada entities, where\nno operation uses those names (Ada Reference Manual 1995, \xa7C.5)."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-suppress",children:"Pragma Suppress"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-5",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Suppress where necessary to achieve performance\nrequirements."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-5",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"See Guideline 5.9.5."}),"\n",(0,l.jsx)(n.h3,{id:"pragma-reviewable",children:"Pragma Reviewable"}),"\n",(0,l.jsx)(n.h4,{id:"guideline-6",children:"guideline"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use pragma Reviewable to aid in the analysis of the generated code."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"rationale-6",children:"rationale"}),"\n",(0,l.jsx)(n.p,{children:"See the Ada Reference Manual (1995, Annex H)."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);