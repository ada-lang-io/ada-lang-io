"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[5449],{2378:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>x,contentTitle:()=>p,default:()=>A,frontMatter:()=>h,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"arm/AA-D/AA-D.2","title":"D.2 Priority Scheduling","description":"This Reference Manual output has not been verified,","source":"@site/docs/arm/AA-D/AA-D.2.mdx","sourceDirName":"arm/AA-D","slug":"/arm/AA-D/AA-D.2","permalink":"/docs/arm/AA-D/AA-D.2","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":156,"frontMatter":{"sidebar_position":156},"sidebar":"referenceManualSidebar","previous":{"title":"D.1 Task Priorities","permalink":"/docs/arm/AA-D/AA-D.1"},"next":{"title":"D.3 Priority Ceiling Locking","permalink":"/docs/arm/AA-D/AA-D.3"}}');var t=s(4848),a=s(8453),r=s(3204),o=s(4220),d=s(8069),c=s(8011),l=s(6465);const h={sidebar_position:156},p="D.2 Priority Scheduling",x={},m=[{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95",level:4},{value:"D.2.1  The Task Dispatching Model",id:"d21--the-task-dispatching-model",level:2},{value:"Static Semantics",id:"static-semantics",level:4},{value:"Legality Rules",id:"legality-rules",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95-1",level:4},{value:"Incompatibilities With Ada 2005",id:"incompatibilities-with-ada-2005",level:4},{value:"Inconsistencies With Ada 2012",id:"inconsistencies-with-ada-2012",level:4},{value:"Extensions to Ada 2012",id:"extensions-to-ada-2012",level:4},{value:"Wording Changes from Ada 2012",id:"wording-changes-from-ada-2012",level:4},{value:"D.2.2  Task Dispatching Pragmas",id:"d22--task-dispatching-pragmas",level:2},{value:"Syntax",id:"syntax",level:4},{value:"Name Resolution Rules",id:"name-resolution-rules",level:4},{value:"Legality Rules",id:"legality-rules-1",level:4},{value:"Static Semantics",id:"static-semantics-1",level:4},{value:"Post-Compilation Rules",id:"post-compilation-rules",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics-1",level:4},{value:"Implementation Requirements",id:"implementation-requirements",level:4},{value:"Documentation Requirements",id:"documentation-requirements",level:4},{value:"Implementation Permissions",id:"implementation-permissions-1",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95-2",level:4},{value:"D.2.3  Preemptive Dispatching",id:"d23--preemptive-dispatching",level:2},{value:"Static Semantics",id:"static-semantics-2",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics-2",level:4},{value:"Implementation Requirements",id:"implementation-requirements-1",level:4},{value:"Documentation Requirements",id:"documentation-requirements-1",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95-3",level:4},{value:"D.2.4  Non-Preemptive Dispatching",id:"d24--non-preemptive-dispatching",level:2},{value:"Static Semantics",id:"static-semantics-3",level:4},{value:"Legality Rules",id:"legality-rules-2",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics-3",level:4},{value:"Implementation Requirements",id:"implementation-requirements-2",level:4},{value:"Implementation Permissions",id:"implementation-permissions-2",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95-1",level:4},{value:"Extensions to Ada 2005",id:"extensions-to-ada-2005",level:4},{value:"D.2.5  Round Robin Dispatching",id:"d25--round-robin-dispatching",level:2},{value:"Static Semantics",id:"static-semantics-4",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics-4",level:4},{value:"Implementation Requirements",id:"implementation-requirements-3",level:4},{value:"Documentation Requirements",id:"documentation-requirements-2",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95-2",level:4},{value:"D.2.6  Earliest Deadline First Dispatching",id:"d26--earliest-deadline-first-dispatching",level:2},{value:"Language Design Principles",id:"language-design-principles",level:4},{value:"Static Semantics",id:"static-semantics-5",level:4},{value:"Legality Rules",id:"legality-rules-3",level:4},{value:"Post-Compilation Rules",id:"post-compilation-rules-1",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics-5",level:4},{value:"Erroneous Execution",id:"erroneous-execution",level:4},{value:"Documentation Requirements",id:"documentation-requirements-3",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95-3",level:4},{value:"Extensions to Ada 2005",id:"extensions-to-ada-2005-1",level:4},{value:"Wording Changes from Ada 2005",id:"wording-changes-from-ada-2005",level:4},{value:"Incompatibilities With Ada 2012",id:"incompatibilities-with-ada-2012",level:4}];function j(e){const i={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"d2-priority-scheduling",children:"D.2 Priority Scheduling"})}),"\n",(0,t.jsx)(i.admonition,{type:"danger",children:(0,t.jsxs)(i.p,{children:["This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,t.jsx)(i.a,{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20",children:"tracking issue"})]})}),"\n","\n",(0,t.jsx)(c.A,{children:"1/3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause describes the rules that determine which task is selected for execution when more than one task is ready (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-9/",children:"9"}),").] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-95",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"1.a/3"}),(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0299-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["This introduction is simplified in order to reflect the rearrangement and expansion of this subclause. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.1"}),"\n",(0,t.jsx)(i.h2,{id:"d21--the-task-dispatching-model",children:"D.2.1  The Task Dispatching Model"}),"\n",(0,t.jsx)(c.A,{children:"1/2_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["[The task dispatching model specifies task scheduling, based on conceptual priority-ordered ready queues.] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"1.1/2_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The following language-defined library package exists: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"1.2/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0166-1","AI12-0241-1","AI12-0302-1"]}),"\n",(0,t.jsxs)(d.A,{language:"ada",children:[(0,t.jsxs)(i.p,{children:["package Ada.Dispatching","\n","  with Preelaborate, Nonblocking, Global =",">"," in out synchronized is","\n","\n",(0,t.jsx)(c.A,{children:"1.3/5_D.2.1"})]}),(0,t.jsx)(l.A,{items:["AI05-0166-1","AI12-0241-1"]}),(0,t.jsxs)(i.p,{children:["procedure Yield","\n","   with Nonblocking =",">"," False;","\n","\n",(0,t.jsx)(c.A,{children:"1.4/3_D.2.1"})]}),(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),(0,t.jsxs)(i.p,{children:["Dispatching","_","Policy","_","Error : exception;","\n","end Ada.Dispatching;","\n"]})]}),"\n",(0,t.jsx)(c.A,{children:"1.5/2_D.2.1"}),"\n",(0,t.jsxs)("p",{children:["Dispatching serves as the parent of other language-defined library units concerned with task dispatching.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"1.6/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0279-1"]}),"\n",(0,t.jsxs)("p",{children:["For a noninstance subprogram (including a generic formal subprogram), a generic subprogram, or an entry, the following language-defined aspect may be specified with an ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-13/AA-13.1#S0346",children:"aspect_specification"})})," (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-13/AA-13.1#Subclause_13.1.1",children:"13.1.1"}),"):",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"1.7/5_D.2.1"}),"\n",(0,t.jsxs)("dt",{children:[(0,t.jsx)("br",{}),"Yield"]}),"\n",(0,t.jsx)("dl",{children:(0,t.jsxs)("dd",{children:["The type of aspect Yield is Boolean.",(0,t.jsx)("br",{})]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"1.a/5_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Aspect Description for "}),(0,t.jsx)("strong",{children:"Yield: "}),"Ensures that a callable entity includes a task dispatching point.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"1.8/5_D.2.1"}),"\n",(0,t.jsxs)("dl",{children:[(0,t.jsxs)("dd",{children:["If directly specified, the ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-13/AA-13.1#S0348",children:"aspect_definition"})})," shall be a static expression. If not specified (including by inheritance), the aspect is False.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"1.9/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0279-1","AI12-0294-1"]}),(0,t.jsxs)("dd",{children:["If a Yield aspect is specified True for a primitive subprogram ",(0,t.jsx)("em",{children:"S"})," of a type ",(0,t.jsx)("em",{children:"T"}),", then the aspect is inherited by the corresponding primitive subprogram of each descendant of ",(0,t.jsx)("em",{children:"T"}),". ",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(i.h4,{id:"legality-rules",children:"Legality Rules"}),"\n",(0,t.jsx)(c.A,{children:"1.10/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0279-1","AI12-0294-1"]}),"\n",(0,t.jsxs)("p",{children:["If the Yield aspect is specified for a dispatching subprogram that inherits the aspect, the specified value shall be confirming.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"1.11/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0279-1","AI12-0294-1"]}),"\n",(0,t.jsxs)("p",{children:["If the Nonblocking aspect (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.5",children:"9.5"}),") of the associated callable entity is statically True, the Yield aspect shall not be specified as True. For a callable entity that is declared within a generic body, this rule is checked assuming that any nonstatic Nonblocking attributes in the expression of the Nonblocking aspect of the entity are statically True.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"1.b/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0294-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The second sentence here is an assume-the-worst rule. The only Nonblocking attributes that are nonstatic are those that depend, directly or indirectly, on the nonblocking aspect of a generic formal parameter. We have to assume these might in fact have the value True if given an appropriate actual entity. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"1.12/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0294-1"]}),"\n",(0,t.jsxs)("p",{children:["In addition to the places where Legality Rules normally apply (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-12/AA-12.3",children:"12.3"}),"), these rules also apply in the private part of an instance of a generic unit. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"2/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI12-0454-1"]}),"\n",(0,t.jsxs)("p",{children:["A task can become a ",(0,t.jsx)("em",{children:"running task"})," only if it is ready (see Clause ",(0,t.jsx)("a",{href:"/docs/arm/AA-9/",children:"9"}),") and the execution resources required by that task are available. Processors are allocated to tasks based on each task's active priority.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"3_D.2.1"}),"\n",(0,t.jsxs)("p",{children:["It is implementation defined whether, on a multiprocessor, a task that is waiting for access to a protected object keeps its processor busy. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"3.a_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-defined",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Whether, on a multiprocessor, a task that is waiting for access to a protected object keeps its processor busy.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"4/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI12-0119-1"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Task dispatching"})," is the process by which a logical thread of control associated with a ready task is selected for execution on a processor. This selection is done during the execution of such a logical thread of control, at certain points called ",(0,t.jsx)("em",{children:"task dispatching points"}),". Such a logical thread of control reaches a task dispatching point whenever it becomes blocked, and when its associated task terminates. [Other task dispatching points are defined throughout this Annex for specific policies.] Below we talk in terms of tasks, but in the context of a parallel construct, a single task can be represented by multiple logical threads of control, each of which can appear separately on a ready queue. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"4.a_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"On multiprocessor systems, more than one task can be chosen, at the same time, for execution on more than one processor, as explained below. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"5/2_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Task dispatching policies"})," are specified in terms of conceptual ",(0,t.jsx)("em",{children:"ready queues"})," and task states. A ready queue is an ordered list of ready tasks. The first position in a queue is called the ",(0,t.jsx)("em",{children:"head of the queue"}),", and the last position is called the ",(0,t.jsx)("em",{children:"tail of the queue"}),". A task is ",(0,t.jsx)("em",{children:"ready"})," if it is in a ready queue, or if it is running. Each processor has one ready queue for each priority value. At any instant, each ready queue of a processor contains exactly the set of tasks of that priority that are ready for execution on that processor, but are not running on any processor; that is, those tasks that are ready, are not running on any processor, and can be executed using that processor and other available resources. A task can be on the ready queues of more than one processor. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"5.a_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The core language defines a ready task as one that is not blocked. Here we refine this definition and talk about ready queues. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"6/2_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["Each processor also has one ",(0,t.jsx)("em",{children:"running task"}),", which is the task currently being executed by that processor. Whenever a task running on a processor reaches a task dispatching point it goes back to one or more ready queues; a task (possibly the same task) is then selected to run on that processor. The task selected is the one at the head of the highest priority nonempty ready queue; this task is then removed from all ready queues to which it belongs. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"6.a_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"There is always at least one task to run, if we count the idle task. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"7/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0166-1","AI12-0241-1"]}),"\n",(0,t.jsxs)("p",{children:["A call of Yield and a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.6#S0266",children:"delay_statement"})})," are task dispatching points for all language-defined policies.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"7.a/2_D.2.1"}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(c.A,{children:"8/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI12-0279-1"]}),"\n",(0,t.jsxs)("p",{children:["If the Yield aspect has the value True, then a call to procedure Yield is included within the body of the associated callable entity, and invoked immediately prior to returning from the body if and only if no other task dispatching points were encountered during the execution of the body. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"8.a/2_D.2.1"}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-permissions",children:"Implementation Permissions"}),"\n",(0,t.jsx)(c.A,{children:"9/2_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation is allowed to define additional resources as execution resources, and to define the corresponding allocation policies for them. Such resources may have an implementation-defined effect on task dispatching. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"9.a/2_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-defined",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The effect of implementation-defined execution resources on task dispatching.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"10_D.2.1"}),"\n",(0,t.jsxs)("p",{children:["An implementation may place implementation-defined restrictions on tasks whose active priority is in the Interrupt","_","Priority range. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"10.a/3_D.2.1"}),(0,t.jsx)(l.A,{items:["AI05-0229-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"For example, on some operating systems, it might be necessary to disallow them altogether. This permission applies to tasks whose priority is set to interrupt level for any reason: via an aspect, via a call to Dynamic","_","Priorities.Set","_","Priority, or via priority inheritance. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"10.1/5_D.2.1"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI12-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["Unless otherwise specified for a task dispatching policy, an implementation may add additional points at which task dispatching may occur, in an implementation-defined manner.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"10.b/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0299-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"This permission is intended to allow the implementation of Ada tasks in terms of target system threads, which may have additional conditions that cause task dispatching. For instance, for Linux threads, page faults are task dispatching points. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"10.c/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0299-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The Non","_","Preemptive","_","FIFO","_","Within","_","Priorities task dispatching policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.4",children:"D.2.4"}),") does not allow additional task dispatching points. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"11_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 1   Clause ",(0,t.jsx)("a",{href:"/docs/arm/AA-9/",children:"9"})," specifies under which circumstances a task becomes ready. The ready state is affected by the rules for task activation and termination, delay statements, and entry calls. When a task is not ready, it is said to be blocked.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"12/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0442-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 2   An example of a possible implementation-defined execution resource is a page of physical memory, which must be loaded with a particular page of virtual memory before a task can continue execution.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"13_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 3   The ready queues are purely conceptual; there is no requirement that such lists physically exist in an implementation.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"14_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 4   While a task is running, it is not on any ready queue. Any time the task that is running on a processor is added to a ready queue, a new running task is selected for that processor.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 5   In a multiprocessor system, a task can be on the ready queues of more than one processor. At the extreme, if several processors share the same set of ready tasks, the contents of their ready queues is identical, and so they can be viewed as sharing one ready queue, and can be implemented that way. [Thus, the dispatching model covers multiprocessors where dispatching is implemented using a single ready queue, as well as those with separate dispatching domains.]",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"16_D.2.1"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 6   The priority of a task is determined by rules specified in this subclause, and under ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.1",children:"D.1"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.1",children:"Task Priorities"}),"\u201d, ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"Priority Ceiling Locking"}),"\u201d, and ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.5",children:"D.5"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.5",children:"Dynamic Priorities"}),"\u201d.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17/2_D.2.1"}),(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 7   The setting of a task's base priority as a result of a call to Set","_","Priority does not always take effect immediately when Set","_","Priority is called. The effect of setting the task's base priority is deferred while the affected task performs a protected action.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-95-1",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.a/3_D.2.1"}),(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["This description is simplified to describe only the parts of the dispatching model common to all policies. In particular, rules about preemption are moved elsewhere. This makes it easier to add other policies (which might not involve preemption). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"incompatibilities-with-ada-2005",children:"Incompatibilities With Ada 2005"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.b/3_D.2.1"}),(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Procedure Yield is added to Dispatching. If Dispatching is referenced in a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-8/AA-8.4#S0235",children:"use_clause"})}),", and an entity ",(0,t.jsx)("em",{children:"E"})," with a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-3/AA-3.1#S0022",children:"defining_identifier"})})," of Yield is defined in a package that is also referenced in a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-8/AA-8.4#S0235",children:"use_clause"})}),", the entity ",(0,t.jsx)("em",{children:"E"})," may no longer be use-visible, resulting in errors. This should be rare and is easily fixed if it does occur.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.c/4_D.2.1"}),(0,t.jsx)(l.A,{items:["AI05-0166-1","AI12-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Package Dispatching was a Pure package, but now is Preelaborated with the addition of Yield. This is incompatible as Dispatching can no longer be depended upon from a Pure package. This should happen rarely in practice as the only contents was the exception Dispatching","_","Policy","_","Error and none of the child packages that could raise that exception are pure. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"inconsistencies-with-ada-2012",children:"Inconsistencies With Ada 2012"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.d/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0299-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"correction",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{})," Substantially reduced the Implementation Permission that used to allow \u201caltering\u201d task dispatching points to only allow adding task dispatching points. If an implementation was using this permission to remove task dispatching points, and a program depended on that behavior to work, it could fail when used with Ada 2022. We are not aware of any such implementations, and such behavior was never portable to other implementations, so we do not expect this to matter in practice. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-2012",children:"Extensions to Ada 2012"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.e/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0279-1","AI12-0294-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Aspect Yield is new. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-2012",children:"Wording Changes from Ada 2012"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.f/5_D.2.1"}),(0,t.jsx)(l.A,{items:["AI12-0119-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Redid the description of task dispatching to include the separate threads of control that can be started by a parallel construct. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.2"}),"\n",(0,t.jsx)(i.h2,{id:"d22--task-dispatching-pragmas",children:"D.2.2  Task Dispatching Pragmas"}),"\n",(0,t.jsx)(c.A,{children:"0.1/3_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause allows a single task dispatching policy to be defined for all priorities, or the range of priorities to be split into subranges that are assigned individual dispatching policies.] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(c.A,{children:"1_D.2.2"}),"\n",(0,t.jsxs)("p",{class:"Indented2",children:["The form of a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Task","_","Dispatching","_","Policy is as follows: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2_D.2.2"}),"\n",(0,t.jsxs)("p",{class:"Indented2",children:["  ",(0,t.jsx)("strong",{children:"pragma"})," Task","_","Dispatching","_","Policy(",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})}),");",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2.1/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{class:"Indented2",children:["The form of a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Priority","_","Specific","_","Dispatching is as follows: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2.2/2_D.2.2"}),"\n",(0,t.jsxs)("p",{class:"Indented2",children:["  ",(0,t.jsx)("strong",{children:"pragma"})," Priority","_","Specific","_","Dispatching (",(0,t.jsx)("br",{}),"     ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})}),", ",(0,t.jsxs)("em",{children:["first","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})}),", ",(0,t.jsxs)("em",{children:["last","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})}),");",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"name-resolution-rules",children:"Name Resolution Rules"}),"\n",(0,t.jsx)(c.A,{children:"2.3/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The expected type for ",(0,t.jsxs)("em",{children:["first","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," and ",(0,t.jsxs)("em",{children:["last","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," is Integer. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"legality-rules-1",children:"Legality Rules"}),"\n",(0,t.jsx)(c.A,{children:"3/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," used in a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Task","_","Dispatching","_","Policy shall be the name of a task dispatching policy. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"3.a/2_D.2.2"}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(c.A,{children:"3.1/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," used in a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Priority","_","Specific","_","Dispatching shall be the name of a task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"3.2/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["Both ",(0,t.jsxs)("em",{children:["first","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," and ",(0,t.jsxs)("em",{children:["last","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," shall be static expressions in the range of System.Any","_","Priority; ",(0,t.jsxs)("em",{children:["last","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," shall have a value greater than or equal to ",(0,t.jsxs)("em",{children:["first","_","priority","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})}),".",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics-1",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"3.3/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"Pragma"})})," Task","_","Dispatching","_","Policy specifies the single task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"3.4/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"Pragma"})})," Priority","_","Specific","_","Dispatching specifies the task dispatching policy for the specified range of priorities. Tasks with base priorities within the range of priorities specified in a Priority","_","Specific","_","Dispatching pragma have their active priorities determined according to the specified dispatching policy. Tasks with active priorities within the range of priorities specified in a Priority","_","Specific","_","Dispatching pragma are dispatched according to the specified dispatching policy. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"3.b/2_D.2.2"}),(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Each ready queue is managed by exactly one policy. Anything else would be chaos. The ready queue is determined by the active priority. However, how the active priority is calculated is determined by the policy; in order to break out of this circle, we have to say that the active priority is calculated by the method determined by the policy of the base priority. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"3.5/3_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0262-1"]}),"\n",(0,t.jsxs)("p",{children:["If a partition contains one or more Priority","_","Specific","_","Dispatching pragmas, the dispatching policy for priorities not covered by any Priority","_","Specific","_","Dispatching pragmas is FIFO","_","Within","_","Priorities.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"post-compilation-rules",children:"Post-Compilation Rules"}),"\n",(0,t.jsx)(c.A,{children:"4/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["A Task","_","Dispatching","_","Policy pragma is a configuration pragma. A Priority","_","Specific","_","Dispatching pragma is a configuration pragma. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"4.1/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The priority ranges specified in more than one Priority","_","Specific","_","Dispatching pragma within the same partition shall not be overlapping.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"4.2/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["If a partition contains one or more Priority","_","Specific","_","Dispatching pragmas it shall not contain a Task","_","Dispatching","_","Policy pragma.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"5/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00333-01"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics-1",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"6/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["[A ",(0,t.jsx)("em",{children:"task dispatching policy"})," specifies the details of task dispatching that are not covered by the basic task dispatching model. These rules govern when tasks are inserted into and deleted from the ready queues.] A single task dispatching policy is specified by a Task","_","Dispatching","_","Policy pragma. Pragma Priority","_","Specific","_","Dispatching assigns distinct dispatching policies to subranges of System.Any","_","Priority.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"6.1/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["If neither ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," applies to any of the program units comprising a partition, the task dispatching policy for that partition is unspecified.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"6.2/3_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0262-1"]}),"\n",(0,t.jsxs)("p",{children:["If a partition contains one or more Priority","_","Specific","_","Dispatching pragmas, a task dispatching point occurs for the currently running task of a processor whenever there is a nonempty ready queue for that processor with a higher priority than the priority of the running task.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"6.a/3_D.2.2"}),(0,t.jsx)(l.A,{items:["AI05-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"discussion",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"If we have priority specific dispatching then we want preemption across the entire range of priorities. That prevents higher priority tasks from being blocked by lower priority tasks that have a different policy. On the other hand, if we have a single policy for the entire partition, we want the characteristics of that policy to apply for preemption; specifically, we might not require any preemption. Note that policy Non","_","Preemptive","_","FIFO","_","Within","_","Priorities is not allowed in a priority specific dispatching pragma. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"6.3/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["A task that has its base priority changed may move from one dispatching policy to another. It is immediately subject to the new dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"6.b/2_D.2.2"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Once subject to the new dispatching policy, it may be immediately preempted or dispatched, according the rules of the new policy. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Paragraphs 7 through 13 were moved to D.2.3."})," ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-requirements",children:"Implementation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"13.1/2_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00333-01","AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall allow, for a single partition, both the locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") to be specified as Ceiling","_","Locking and also one or more Priority","_","Specific","_","Dispatching pragmas to be given. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"documentation-requirements",children:"Documentation Requirements"}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Paragraphs 14 through 16 were moved to D.2.3."})," ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"16.a/2_D.2.2"}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-permissions-1",children:"Implementation Permissions"}),"\n",(0,t.jsx)(c.A,{children:"17/5_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00256-01","AI12-0444-1"]}),"\n",(0,t.jsxs)("p",{children:["Implementations are allowed to define other task dispatching policies, but are not required to support specifying more than one task dispatching policy per partition.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"18/5_D.2.2"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI12-0444-1"]}),"\n",(0,t.jsxs)("p",{children:["An implementation is not required to support ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Priority","_","Specific","_","Dispatching if it is infeasible to support it in the target environment.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"18.a/2_D.2.2"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-defined",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Implementation defined task dispatching policies.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"Paragraphs 19 through 21 were deleted."}),(0,t.jsx)("br",{})]})}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-95",children:"Extensions to Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"21.a/2_D.2.2"}),(0,t.jsx)(l.A,{items:["AI95-00333-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"correction",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Amendment "})," It is no longer required to specify Ceiling","_","Locking with the language-defined task dispatching policies; we only require that implementations ",(0,t.jsx)("em",{children:"allow"})," them to be used together.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"21.b/3_D.2.2"}),(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Pragma"})," Priority","_","Specific","_","Dispatching is new; it allows the specification of different policies for different priorities. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-95-2",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"21.c/2_D.2.2"}),(0,t.jsx)(l.A,{items:["AI95-00256-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Clarified that an implementation need support only one task dispatching policy (of any kind, language-defined or otherwise) per partition.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"21.d/3_D.2.2"}),(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0005-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["This description is simplified to describe only the rules for the Task","_","Dispatching","_","Policy pragma that are common to all policies. In particular, rules about preemption are moved elsewhere. This makes it easier to add other policies (which might not involve preemption). ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.3"}),"\n",(0,t.jsx)(i.h2,{id:"d23--preemptive-dispatching",children:"D.2.3  Preemptive Dispatching"}),"\n",(0,t.jsx)(c.A,{children:"1/3_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01","AI05-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause defines a preemptive task dispatching policy.] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics-2",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"2/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," FIFO","_","Within","_","Priorities is a task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics-2",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"3/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["When FIFO","_","Within","_","Priorities is in effect, modifications to the ready queues occur only as follows:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"4/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["When a blocked task becomes ready, it is added at the tail of the ready queue for its active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"5/2_D.2.3"}),(0,t.jsxs)("li",{children:["When the active priority of a ready task that is not running changes, or the setting of its base priority takes effect, the task is removed from the ready queue for its old active priority and is added at the tail of the ready queue for its new active priority, except in the case where the active priority is lowered due to the loss of inherited priority, in which case the task is added at the head of the ready queue for its new active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"6/2_D.2.3"}),(0,t.jsxs)("li",{children:["When the setting of the base priority of a running task takes effect, the task is added to the tail of the ready queue for its active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"7/2_D.2.3"}),(0,t.jsxs)("li",{children:["When a task executes a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.6#S0266",children:"delay_statement"})})," that does not result in blocking, it is added to the tail of the ready queue for its active priority. ",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"7.a/2_D.2.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"If the delay does result in blocking, the task moves to the \u201cdelay queue\u201d, not to the ready queue. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"8/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["Each of the events specified above is a task dispatching point (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.1",children:"D.2.1"}),").",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:["A task dispatching point occurs for the currently running task of a processor whenever there is a nonempty ready queue for that processor with a higher priority than the priority of the running task. The currently running task is said to be ",(0,t.jsx)("em",{children:"preempted"})," and it is added at the head of the ready queue for its active priority.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-requirements-1",children:"Implementation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"10/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00333-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall allow, for a single partition, both the task dispatching policy to be specified as FIFO","_","Within","_","Priorities and also the locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") to be specified as Ceiling","_","Locking. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"10.a/2_D.2.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"This is the preferred combination of the FIFO","_","Within","_","Priorities policy with a locking policy, and we want that combination to be portable. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"documentation-requirements-1",children:"Documentation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"11/2_D.2.3"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Priority inversion"})," is the duration for which a task remains at the head of the highest priority nonempty ready queue while the processor executes a lower priority task. The implementation shall document:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"12/2_D.2.3"}),"\n",(0,t.jsx)("ul",{children:(0,t.jsxs)("li",{children:["The maximum priority inversion a user task can experience due to activity of the implementation (on behalf of lower priority tasks), and ",(0,t.jsx)("br",{})]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"12.a/2_D.2.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Documentation Requirement: "}),"The maximum priority inversion a user task can experience from the implementation.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"13/2_D.2.3"}),"\n",(0,t.jsx)("ul",{children:(0,t.jsxs)("li",{children:["whether execution of a task can be preempted by the implementation processing of delay expirations for lower priority tasks, and if so, for how long. ",(0,t.jsx)("br",{})]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"13.a/2_D.2.3"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Documentation Requirement: "}),"The amount of time that a task can be preempted for processing on behalf of lower-priority tasks.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"14/2_D.2.3"}),(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 1   If the active priority of a running task is lowered due to loss of inherited priority (as it is on completion of a protected operation) and there is a ready task of the same active priority that is not running, the running task continues to run (provided that there is no higher priority task).",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15/2_D.2.3"}),(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 2   Setting the base priority of a ready task causes the task to move to the tail of the queue for its active priority, regardless of whether the active priority of the task actually changes.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-95-3",children:"Wording Changes from Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15.a/2_D.2.3"}),(0,t.jsx)(l.A,{items:["AI95-00321-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["This subclause is new; it mainly consists of text that was found in ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.1",children:"D.2.1"})," and ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.2",children:"D.2.2"})," in Ada 95. This was separated out so the definition of additional policies was easier.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15.b/2_D.2.3"}),(0,t.jsx)(l.A,{items:["AI95-00333-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["We require that implementations allow this policy and Ceiling","_","Locking together.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15.c/2_D.2.3"}),(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["We explicitly defined FIFO","_","Within","_","Priorities to be a task dispatching policy. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.4"}),"\n",(0,t.jsx)(i.h2,{id:"d24--non-preemptive-dispatching",children:"D.2.4  Non-Preemptive Dispatching"}),"\n",(0,t.jsx)(c.A,{children:"1/3_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00298-01","AI05-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause defines a non-preemptive task dispatching policy.] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics-3",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"2/2_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00298-01","AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," Non","_","Preemptive","_","FIFO","_","Within","_","Priorities is a task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2.1/3_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),"\n",(0,t.jsxs)("p",{children:["The following language-defined library package exists: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2.2/5_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0241-1","AI12-0302-1"]}),"\n",(0,t.jsx)(d.A,{language:"ada",children:(0,t.jsxs)(i.p,{children:["package Ada.Dispatching.Non","_","Preemptive","\n","  with Preelaborate, Nonblocking, Global =",">"," in out synchronized is","\n","  procedure Yield","_","To","_","Higher;","\n","  procedure Yield","_","To","_","Same","_","Or","_","Higher renames Yield;","\n","end Ada.Dispatching.Non","_","Preemptive;","\n"]})}),"\n",(0,t.jsx)(c.A,{children:"2.3/3_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0166-1","AI05-0264-1"]}),"\n",(0,t.jsxs)("p",{children:["A call of Yield","_","To","_","Higher is a task dispatching point for this policy. If the task at the head of the highest priority ready queue has a higher active priority than the calling task, then the calling task is preempted.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"2.a/3_D.2.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"For language-defined policies other than Non","_","Preemptive","_","FIFO","_","Within","_","Priorities, a higher priority task should never be on a ready queue while a lower priority task is executed. Thus, for such policies, Yield","_","To","_","Higher does nothing.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"2.b/3_D.2.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Yield","_","To","_","Higher is ",(0,t.jsx)("em",{children:"not"})," a potentially blocking operation; it can be used during a protected operation. That is allowed, as under the predefined Ceiling","_","Locking policy any task with a higher priority than the protected operation cannot call the operation (that would violate the locking policy). An implementation-defined locking policy may need to define the semantics of Yield","_","To","_","Higher differently. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"legality-rules-2",children:"Legality Rules"}),"\n",(0,t.jsx)(c.A,{children:"3/2_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["Non","_","Preemptive","_","FIFO","_","Within","_","Priorities shall not be specified as the ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," of ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Priority","_","Specific","_","Dispatching (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.2",children:"D.2.2"}),").",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"3.a/2_D.2.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The non-preemptive nature of this policy could cause the policies of higher priority tasks to malfunction, missing deadlines and having unlimited priority inversion. That would render the use of such policies impotent and misleading. As such, this policy only makes sense for a complete system. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics-3",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"4/2_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00298-01"]}),"\n",(0,t.jsxs)("p",{children:["When Non","_","Preemptive","_","FIFO","_","Within","_","Priorities is in effect, modifications to the ready queues occur only as follows:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"5/2_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00298-01"]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["When a blocked task becomes ready, it is added at the tail of the ready queue for its active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"6/2_D.2.4"}),(0,t.jsxs)("li",{children:["When the active priority of a ready task that is not running changes, or the setting of its base priority takes effect, the task is removed from the ready queue for its old active priority and is added at the tail of the ready queue for its new active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"7/2_D.2.4"}),(0,t.jsxs)("li",{children:["When the setting of the base priority of a running task takes effect, the task is added to the tail of the ready queue for its active priority.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"8/2_D.2.4"}),(0,t.jsxs)("li",{children:["When a task executes a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.6#S0266",children:"delay_statement"})})," that does not result in blocking, it is added to the tail of the ready queue for its active priority. ",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"8.a/2_D.2.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"If the delay does result in blocking, the task moves to the \u201cdelay queue\u201d, not to the ready queue. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"9/3_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),"\n",(0,t.jsxs)("p",{children:["For this policy, blocking or termination of a task, a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.6#S0266",children:"delay_statement"})}),", a call to Yield","_","To","_","Higher, and a call to Yield","_","To","_","Same","_","Or","_","Higher or Yield are the only task dispatching points (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.1",children:"D.2.1"}),"). ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"9.a/3_D.2.4"}),(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"A ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.6#S0266",children:"delay_statement"})})," is always a task dispatching point even if it is not blocking. Similarly, a call to Yield","_","To","_","Higher is never blocking, but it is a task dispatching point In each of these cases, they can cause the current task to stop running (it is still ready). Otherwise, the running task continues to run until it is blocked.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"9.b/5_D.2.4"}),(0,t.jsx)(l.A,{items:["AI12-0299-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["This rule supersedes the Implementation Permission of ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.1",children:"D.2.1"}),"; an implementation that adds additional task dispatching points to this policy is incorrect. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-requirements-2",children:"Implementation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"10/2_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00333-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall allow, for a single partition, both the task dispatching policy to be specified as Non","_","Preemptive","_","FIFO","_","Within","_","Priorities and also the locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") to be specified as Ceiling","_","Locking. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"10.a/2_D.2.4"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"This is the preferred combination of the Non","_","Preemptive","_","FIFO","_","Within","_","Priorities policy with a locking policy, and we want that combination to be portable. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-permissions-2",children:"Implementation Permissions"}),"\n",(0,t.jsx)(c.A,{children:"11/3_D.2.4"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00298-01","AI05-0229-1","AI05-0269-1"]}),"\n",(0,t.jsxs)("p",{children:["Since implementations are allowed to round all ceiling priorities in subrange System.Priority to System.Priority'Last (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),"), an implementation may allow a task of a partition using the Non","_","Premptive","_","FIFO","_","Within","_","Priorities policy to execute within a protected object without raising its active priority provided the associated protected unit does not contain any subprograms with aspects Interrupt","_","Handler or Attach","_","Handler specified, nor does the unit have aspect Interrupt","_","Priority specified. When the locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") is Ceiling","_","Locking, an implementation taking advantage of this permission shall ensure that a call to Yield","_","to","_","Higher that occurs within a protected action uses the ceiling priority of the protected object (rather than the active priority of the task) when determining whether to preempt the task. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"11.a.1/3_D.2.4"}),(0,t.jsx)(l.A,{items:["AI05-0269-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"We explicitly require that the ceiling priority be used in calls to Yield","_","to","_","Higher in order to prevent a risk of priority inversion and consequent loss of mutual exclusion when Yield","_","to","_","Higher is used in a protected object. This requirement might lessen the value of the permission (as the current Ceiling","_","Priority will have to be maintained in the TCB), but loss of mutual exclusion cannot be tolerated. The primary benefit of the permission (eliminating the need for preemption at the end of a protected action) is still available. As noted above, an implementation-defined locking policy will need to specify the semantics of Yield","_","to","_","Higher, including this case. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-95-1",children:"Extensions to Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"11.a/2_D.2.4"}),(0,t.jsx)(l.A,{items:["AI95-00298-01","AI95-00355-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Policy Non","_","Preemptive","_","FIFO","_","Within","_","Priorities is new. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-2005",children:"Extensions to Ada 2005"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"11.b/3_D.2.4"}),(0,t.jsx)(l.A,{items:["AI05-0166-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Package Dispatching.Non","_","Preemptive is new. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.5"}),"\n",(0,t.jsx)(i.h2,{id:"d25--round-robin-dispatching",children:"D.2.5  Round Robin Dispatching"}),"\n",(0,t.jsx)(c.A,{children:"1/3_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0299-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause defines the task dispatching policy Round","_","Robin","_","Within","_","Priorities and the package Round","_","Robin.] ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics-4",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"2/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("em",{children:"policy"}),"_",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," Round","_","Robin","_","Within","_","Priorities is a task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"3/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The following language-defined library package exists: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"4/5_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0241-1","AI12-0302-1"]}),"\n",(0,t.jsx)(d.A,{language:"ada",children:(0,t.jsxs)(i.p,{children:["with System;","\n","with Ada.Real","_","Time;","\n","package Ada.Dispatching.Round","_","Robin","\n","  with Nonblocking, Global =",">"," in out synchronized is","\n","  Default","_","Quantum : constant Ada.Real","_","Time.Time","_","Span :=","\n","             implementation-defined;","\n","  procedure Set","_","Quantum (Pri     : in System.Priority;","\n","                         Quantum : in Ada.Real","_","Time.Time","_","Span);","\n","  procedure Set","_","Quantum (Low, High : in System.Priority;","\n","                         Quantum   : in Ada.Real","_","Time.Time","_","Span);","\n","  function Actual","_","Quantum (Pri : System.Priority)","\n","             return Ada.Real","_","Time.Time","_","Span;","\n","  function Is","_","Round","_","Robin (Pri : System.Priority) return Boolean;","\n","end Ada.Dispatching.Round","_","Robin;","\n"]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"4.a.1/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-defined",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The value of Default","_","Quantum in Dispatching.Round","_","Robin.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"5/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["When task dispatching policy Round","_","Robin","_","Within","_","Priorities is the single policy in effect for a partition, each task with priority in the range of System.Interrupt","_","Priority is dispatched according to policy FIFO","_","Within","_","Priorities.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics-4",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"6/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The procedures Set","_","Quantum set the required Quantum value for a single priority level Pri or a range of priority levels Low .. High. If no quantum is set for a Round Robin priority level, Default","_","Quantum is used.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"7/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["The function Actual","_","Quantum returns the actual quantum used by the implementation for the priority level Pri.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"8/3_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01","AI05-0264-1"]}),"\n",(0,t.jsxs)("p",{children:["The function Is","_","Round","_","Robin returns True if priority Pri is covered by task dispatching policy Round","_","Robin","_","Within","_","Priorities; otherwise, it returns False.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["A call of Actual","_","Quantum or Set","_","Quantum raises exception Dispatching.Dispatching","_","Policy","_","Error if a predefined policy other than Round","_","Robin","_","Within","_","Priorities applies to the specified priority or any of the priorities in the specified range.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"10/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["For Round","_","Robin","_","Within","_","Priorities, the dispatching rules for FIFO","_","Within","_","Priorities apply with the following additional rules:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"11/2_D.2.5"}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["When a task is added or moved to the tail of the ready queue for its base priority, it has an execution time budget equal to the quantum for that priority level. This will also occur when a blocked task becomes executable again.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"12/2_D.2.5"}),(0,t.jsxs)("li",{children:["When a task is preempted (by a higher priority task) and is added to the head of the ready queue for its priority level, it retains its remaining budget.",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"13/2_D.2.5"}),(0,t.jsxs)("li",{children:["While a task is executing, its budget is decreased by the amount of execution time it uses. The accuracy of this accounting is the same as that for execution time clocks (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.14",children:"D.14"}),"). ",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"13.a/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Note that this happens even when the task is executing at a higher, inherited priority, and even if that higher priority is dispatched by a different policy than round robin. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"14/2_D.2.5"}),"\n",(0,t.jsx)("ul",{children:(0,t.jsxs)("li",{children:["When a task has exhausted its budget and is without an inherited priority (and is not executing within a protected operation), it is moved to the tail of the ready queue for its priority level. This is a task dispatching point.",(0,t.jsx)("br",{})]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"14.a/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"ramification",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"In this case, it will be given a budget as described in the first bullet.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"14.b/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["The rules for FIFO","_","Within","_","Priority (to which these bullets are added) say that a task that has its base priority set to a Round Robin priority is moved to the tail of the ready queue for its new priority level, and then will be given a budget as described in the first bullet. That happens whether or not the task's original base priority was a Round Robin priority. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-requirements-3",children:"Implementation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"15/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00333-01","AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall allow, for a single partition, both the task dispatching policy to be specified as Round","_","Robin","_","Within","_","Priorities and also the locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") to be specified as Ceiling","_","Locking. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"15.a/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"This is the preferred combination of the Round","_","Robin","_","Within","_","Priorities policy with a locking policy, and we want that combination to be portable. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"documentation-requirements-2",children:"Documentation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"16/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall document the quantum values supported. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"16.a.1/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Documentation Requirement: "}),"The quantum values supported for round robin dispatching.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"17/2_D.2.5"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),"\n",(0,t.jsxs)("p",{children:["An implementation shall document the accuracy with which it detects the exhaustion of the budget of a task. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"17.a.1/2_D.2.5"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Documentation Requirement: "}),"The accuracy of the detection of the exhaustion of the budget of a task for round robin dispatching.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"18/5_D.2.5"}),(0,t.jsx)(l.A,{items:["AI95-00355-01","AI12-0442-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 1   Due to implementation constraints, the quantum value returned by Actual","_","Quantum can differ from that set with Set","_","Quantum.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"19/2_D.2.5"}),(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE 2   A task that executes continuously with an inherited priority will not be subject to round robin dispatching.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-95-2",children:"Extensions to Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"19.a/2_D.2.5"}),(0,t.jsx)(l.A,{items:["AI95-00355-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Policy Round","_","Robin","_","Within","_","Priorities and package Dispatching.Round","_","Robin are new. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)("a",{id:"Subclause_D.2.6"}),"\n",(0,t.jsx)(i.h2,{id:"d26--earliest-deadline-first-dispatching",children:"D.2.6  Earliest Deadline First Dispatching"}),"\n",(0,t.jsx)(c.A,{children:"1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0439-1"]}),"\n",(0,t.jsxs)("p",{children:["The deadline of a task is an indication of the urgency of the task; it represents a point on an ideal physical time line. The deadline can affect how resources are allocated to the task.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"2/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI05-0229-1","AI05-0299-1","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["[This subclause presents Dispatching.EDF, a package for representing the deadline of a task and a dispatching policy that defines Earliest Deadline First (EDF) dispatching. The Relative","_","Deadline aspect is provided to assign an initial deadline to a task. A configuration pragma Generate","_","Deadlines is provided to specify that a task's deadline is recomputed whenever it is made ready.]",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"2.a/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI05-0229-1","AI12-0230-1"]}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(i.h4,{id:"language-design-principles",children:"Language Design Principles"}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"2.b/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI95-00357-01","AI05-0299-1","AI12-0230-1"]}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsxs)("em",{children:["Paragraphs 3 through 6 were moved to ",(0,t.jsx)("a",{href:"/docs/arm/AA-J/",children:"Annex J"}),", \u201c",(0,t.jsx)("a",{href:"/docs/arm/AA-J/",children:"Obsolescent Features"}),"\u201d."]})," ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"static-semantics-5",children:"Static Semantics"}),"\n",(0,t.jsx)(c.A,{children:"7/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The ",(0,t.jsxs)("em",{children:["policy","_"]}),(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.3#S0002",children:"identifier"})})," EDF","_","Within","_","Priorities is a task dispatching policy.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"8/2_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),"\n",(0,t.jsxs)("p",{children:["The following language-defined library package exists: ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1","AI12-0241-1","AI12-0302-1"]}),"\n",(0,t.jsx)(d.A,{language:"ada",children:(0,t.jsxs)(i.p,{children:["with Ada.Real","_","Time;","\n","with Ada.Task","_","Identification;","\n","package Ada.Dispatching.EDF","\n","  with Nonblocking, Global =",">"," in out synchronized is","\n","  subtype Deadline is Ada.Real","_","Time.Time;","\n","  subtype Relative","_","Deadline is Ada.Real","_","Time.Time","_","Span;","\n","  Default","_","Deadline : constant Deadline :=","\n","              Ada.Real","_","Time.Time","_","Last;","\n","  Default","_","Relative","_","Deadline : constant Relative","_","Deadline :=","\n","              Ada.Real","_","Time.Time","_","Span","_","Last;","\n","  procedure Set","_","Deadline","\n","     (D : in Deadline;","\n","      T : in Ada.Task","_","Identification.Task","_","Id :=","\n","      Ada.Task","_","Identification.Current","_","Task);","\n","  function Get","_","Deadline","\n","     (T : Ada.Task","_","Identification.Task","_","Id :=","\n","      Ada.Task","_","Identification.Current","_","Task) return Deadline;","\n","  procedure Set","_","Relative","_","Deadline","\n","     (D : in Relative","_","Deadline;","\n","      T : in Ada.Task","_","Identification.Task","_","Id :=","\n","      Ada.Task","_","Identification.Current","_","Task);","\n","  function Get","_","Relative","_","Deadline","\n","     (T : Ada.Task","_","Identification.Task","_","Id :=","\n","      Ada.Task","_","Identification.Current","_","Task)","\n","      return Relative","_","Deadline;","\n","  procedure Delay","_","Until","_","And","_","Set","_","Deadline","\n","     (Delay","_","Until","_","Time : in Ada.Real","_","Time.Time;","\n","      Deadline","_","Offset : in Ada.Real","_","Time.Time","_","Span)","\n","     with Nonblocking =",">"," False;","\n","  function Get","_","Last","_","Release","_","Time","\n","     (T : Ada.Task","_","Identification.Task","_","Id :=","\n","      Ada.Task","_","Identification.Current","_","Task)","\n","      return Ada.Real","_","Time.Time;","\n","end Ada.Dispatching.EDF;","\n"]})}),"\n",(0,t.jsx)(c.A,{children:"9.1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0229-1","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["For a subprogram, a task type (including the anonymous type of a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.1#S0245",children:"single_task_declaration"})}),"), or a protected type (including the anonymous type of a ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.4#S0250",children:"single_protected_declaration"})}),"), the following language-defined representation aspect may be specified:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9.2/3_D.2.6"}),"\n",(0,t.jsxs)("dt",{children:[(0,t.jsx)("br",{}),"Relative","_","Deadline"]}),"\n",(0,t.jsx)("dl",{children:(0,t.jsxs)("dd",{children:["The aspect Relative","_","Deadline is an ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})}),", which shall be of type Real","_","Time.Time","_","Span.",(0,t.jsx)("br",{})]})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"9.a/5_D.2.6"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Aspect Description for "}),(0,t.jsxs)("strong",{children:["Relative","_","Deadline: "]}),"Task or protected type parameter used in Earliest Deadline First Dispatching.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"9.3/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The form of ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Generate","_","Deadlines is as follows:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9.4/5_D.2.6"}),"\n",(0,t.jsxs)("p",{children:["  ",(0,t.jsx)("strong",{children:"pragma"})," Generate","_","Deadlines;",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"9.5/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The Generate","_","Deadlines ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," is a configuration pragma.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"legality-rules-3",children:"Legality Rules"}),"\n",(0,t.jsx)(c.A,{children:"9.6/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI05-0229-1","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The Relative","_","Deadline aspect shall not be specified on a task or protected interface type. If the Relative","_","Deadline aspect is specified for a subprogram, the ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-13/AA-13.1#S0348",children:"aspect_definition"})})," shall be a static expression.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"post-compilation-rules-1",children:"Post-Compilation Rules"}),"\n",(0,t.jsx)(c.A,{children:"10/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["If the EDF","_","Within","_","Priorities policy is specified for a partition, then the Ceiling","_","Locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") shall also be specified for the partition.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"11/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["If the EDF","_","Within","_","Priorities policy appears in a Priority","_","Specific","_","Dispatching pragma (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.2#Subclause_D.2.2",children:"D.2.2"}),") in a partition, then the Ceiling","_","Locking policy (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),") shall also be specified for the partition.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"11.a/5_D.2.6"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"reason",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"Unlike the other language-defined dispatching policies, the semantic description of EDF","_","Within","_","Priorities assumes Ceiling","_","Locking (and a ceiling priority) in order to make the mapping between deadlines and priorities work. Thus, we require both policies to be specified if EDF is used in the partition. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(i.h4,{id:"dynamic-semantics-5",children:"Dynamic Semantics"}),"\n",(0,t.jsx)(c.A,{children:"12/3_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI05-0229-1"]}),"\n",(0,t.jsxs)("p",{children:["The Relative","_","Deadline aspect has no effect if it is specified for a subprogram other than the main subprogram.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"12.1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["If pragma Generate","_","Deadlines is in effect, the deadline of a task is recomputed each time it becomes ready. The new deadline is the value of Real","_","Time.Clock at the time the task is added to a ready queue plus the value returned by Get","_","Relative","_","Deadline.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"13/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI05-0229-1","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The initial absolute deadline for a task with a specified Relative","_","Deadline is the result of adding the value returned by a call of Real","_","Time.Clock to the value of the ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-4/AA-4.4#S0132",children:"expression"})})," specified as the Relative","_","Deadline aspect, where this entire computation, including the call of Real","_","Time.Clock, is performed between task creation and the start of its activation. If the aspect Relative","_","Deadline is not specified, then the initial absolute deadline of a task is the value of Default","_","Deadline (Ada.Real","_","Time.Time","_","Last). The environment task is also given an initial deadline by this rule, using the value of the Relative","_","Deadline aspect of the main subprogram (if any).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"13.a/2_D.2.6"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"proof",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"The environment task is a normal task by ",(0,t.jsx)("a",{href:"/docs/arm/AA-10/AA-10.2",children:"10.2"}),", so of course this rule applies to it. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(c.A,{children:"13.1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The effect of specifying a Relative","_","Deadline aspect for a protected type or ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.4#S0250",children:"single_protected_declaration"})})," is discussed in ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),".",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"14/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["A task has both an ",(0,t.jsx)("em",{children:"active"})," and a ",(0,t.jsx)("em",{children:"base"})," absolute deadline. These are the same except when the task is inheriting a relative deadline during activation or a rendezvous (see below) or within a protected action (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-D/AA-D.3",children:"D.3"}),"). The procedure Set","_","Deadline changes the (base) absolute deadline of the task to D. The function Get","_","Deadline returns the (base) absolute deadline of the task.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"14.1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The procedure Set","_","Relative","_","Deadline changes the relative deadline of the task to D. The function Get","_","Relative","_","Deadline returns the relative deadline of the task.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"14.2/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The function Get","_","Last","_","Release","_","Time returns the time, as provided by Real","_","Time.Clock, when the task was last made ready (that is, was added to a ready queue).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"15/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["The procedure Delay","_","Until","_","And","_","Set","_","Deadline delays the calling task until time Delay","_","Until","_","Time. When the task becomes ready again it will have deadline Delay","_","Until","_","Time + Deadline","_","Offset.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"16/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["On a system with a single processor, the setting of the deadline of a task to the new value occurs immediately at the first point that is outside the execution of a protected action. If the task is currently on a ready queue it is removed and re-entered onto the ready queue determined by the rules defined below.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"17/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["When EDF","_","Within","_","Priorities is specified for a priority, the ready queue for that priority is ordered by deadline. The task at the head of a queue is the one with the earliest deadline.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"18/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["A task dispatching point occurs for the currently running task ",(0,t.jsx)("em",{children:"T"})," to which policy EDF","_","Within","_","Priorities applies:",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"19/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["when a change to the base (absolute) deadline of ",(0,t.jsx)("em",{children:"T"})," occurs;",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"20/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"21/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),(0,t.jsxs)("li",{children:["there is a nonempty ready queue for that processor with a higher priority than the active priority of the running task;",(0,t.jsx)("br",{})]}),(0,t.jsx)(c.A,{children:"21.1/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),(0,t.jsxs)("li",{children:["there is a ready task with the same priority as ",(0,t.jsx)("em",{children:"T"})," but with an earlier absolute deadline.",(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsx)(c.A,{children:"22/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["In these cases, the currently running task is said to be preempted and is returned to the ready queue for its active priority, at a position determined by its active (absolute) deadline.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Paragraphs 23 through 27 were deleted."})," ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"28/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["When the setting of the base priority of a ready task takes effect and the new priority is specified as EDF","_","Within","_","Priorities, the task is added to the ready queue, at a position determined by its active deadline.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"29/2_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),"\n",(0,t.jsxs)("p",{children:["For all the operations defined in Dispatching.EDF, Tasking","_","Error is raised if the task identified by T has terminated. Program","_","Error is raised if the value of T is Null","_","Task","_","Id.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"29.1/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["If two tasks with priority designated as EDF","_","Within","_","Priorities rendezvous then the deadline for the execution of the accept statement is the earlier of the deadlines of the two tasks.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(c.A,{children:"29.2/5_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI12-0230-1"]}),"\n",(0,t.jsxs)("p",{children:["During activation, a task being activated inherits the deadline that its activator (see ",(0,t.jsx)("a",{href:"/docs/arm/AA-9/AA-9.2",children:"9.2"}),") had at the time the activation was initiated.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)("p",{children:[(0,t.jsx)("em",{children:"Paragraph 30 was deleted."})," ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"erroneous-execution",children:"Erroneous Execution"}),"\n",(0,t.jsx)(c.A,{children:"31/2_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),"\n",(0,t.jsxs)("p",{children:["If a value of Task","_","Id is passed as a parameter to any of the subprograms of this package and the corresponding task object no longer exists, the execution of the program is erroneous.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(i.h4,{id:"documentation-requirements-3",children:"Documentation Requirements"}),"\n",(0,t.jsx)(c.A,{children:"32/2_D.2.6"}),"\n",(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),"\n",(0,t.jsxs)("p",{children:["On a multiprocessor, the implementation shall document any conditions that cause the completion of the setting of the deadline of a task to be delayed later than what is specified for a single processor. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"32.a.1/2_D.2.6"}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{children:"Documentation Requirement: "}),"Any conditions that cause the completion of the setting of the deadline of a task to be delayed for a multiprocessor.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"33/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI95-00357-01","AI05-0264-1","AI12-0230-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["NOTE   If two distinct priorities are specified to have policy EDF","_","Within","_","Priorities, then tasks from the higher priority always run before tasks of the lower priority, regardless of deadlines.",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI95-00357-01","AI12-0230-1"]}),(0,t.jsxs)(r.A,{type:"aarm",aarm:"note",children:[(0,t.jsx)("em",{children:"This paragraph was deleted."}),(0,t.jsx)("br",{})]})]}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34.a/2_D.2.6"}),(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"implementation-note",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{}),"An implementation may support additional dispatching policies by replacing absolute deadline with an alternative measure of urgency. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-95-3",children:"Extensions to Ada 95"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34.b/2_D.2.6"}),(0,t.jsx)(l.A,{items:["AI95-00357-01"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Policy EDF","_","Across","_","Priorities and package Dispatching.EDF are new. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"extensions-to-ada-2005-1",children:"Extensions to Ada 2005"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34.c/3_D.2.6"}),(0,t.jsx)(l.A,{items:["AI05-0229-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["Aspect Relative","_","Deadline is new; ",(0,t.jsx)("code",{children:(0,t.jsx)("a",{href:"/docs/arm/AA-2/AA-2.8#S0019",children:"pragma"})})," Relative","_","Deadline is now obsolescent. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"wording-changes-from-ada-2005",children:"Wording Changes from Ada 2005"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34.d/3_D.2.6"}),(0,t.jsx)(l.A,{items:["AI05-0055-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"correction",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)("strong",{})," Corrected definition of active priority to avoid deadline inversion in an unusual case. ",(0,t.jsx)("br",{})]})})]}),"\n",(0,t.jsx)(o.A,{children:(0,t.jsx)(i.h4,{id:"incompatibilities-with-ada-2012",children:"Incompatibilities With Ada 2012"})}),"\n",(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{children:"34.e/5_D.2.6"}),(0,t.jsx)(l.A,{items:["AI12-0005-1","AI12-0230-1"]}),(0,t.jsx)(r.A,{type:"aarm",aarm:"note",children:(0,t.jsxs)(i.p,{children:["The policy EDF","_","Across","_","Priorities was replaced by EDF","_","Within","_","Priorities. A program using EDF","_","Across","_","Priorities could fail to compile. However, we are not aware of any implementations of EDF","_","Across","_","Priorities, so it seems unlikely that any such programs exist outside of books and papers. ",(0,t.jsx)("br",{})]})})]})]})}function A(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}}}]);