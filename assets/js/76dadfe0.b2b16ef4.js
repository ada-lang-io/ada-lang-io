"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([["4641"],{52671(e,t,n){n.r(t),n.d(t,{metadata:()=>r,default:()=>A,frontMatter:()=>h,contentTitle:()=>l,toc:()=>x,assets:()=>u});var r=JSON.parse('{"id":"arm/AA-A/AA-A.13","title":"A.13. Exceptions in Input-Output","description":"This Reference Manual output has not been verified,","source":"@site/docs/arm/AA-A/AA-A.13.mdx","sourceDirName":"arm/AA-A","slug":"/arm/AA-A/AA-A.13","permalink":"/docs/arm/AA-A/AA-A.13","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":133,"frontMatter":{"sidebar_position":133},"sidebar":"referenceManualSidebar","previous":{"title":"A.12. Stream Input-Output","permalink":"/docs/arm/AA-A/AA-A.12"},"next":{"title":"A.14. File Sharing","permalink":"/docs/arm/AA-A/AA-A.14"}}'),i=n(74848),a=n(28453),s=n(98113),o=n(60271),d=n(9011),p=n(48554),c=n(94029);let h={sidebar_position:133},l="A.13. Exceptions in Input-Output",u={},x=[{value:"Static Semantics",id:"static-semantics",level:4},{value:"Documentation Requirements",id:"documentation-requirements",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Erroneous Execution",id:"erroneous-execution",level:4}];function m(e){let t={a:"a",admonition:"admonition",h1:"h1",h4:"h4",header:"header",p:"p",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"a13-exceptions-in-input-output",children:"A.13. Exceptions in Input-Output"})}),"\n",(0,i.jsx)(t.admonition,{type:"danger",children:(0,i.jsxs)(t.p,{children:["This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,i.jsx)(t.a,{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20",children:"tracking issue"})]})}),"\n","\n",(0,i.jsx)(p.A,{children:"1/5"}),"\n",(0,i.jsx)(c.A,{items:["AI12-0445-1"]}),"\n",(0,i.jsxs)("p",{children:["The package IO","_","Exceptions defines the exceptions used by the predefined input-output packages. ",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(t.h4,{id:"static-semantics",children:"Static Semantics"}),"\n",(0,i.jsx)(p.A,{children:"2"}),"\n",(0,i.jsxs)("p",{children:["The library package IO","_","Exceptions has the following declaration: ",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"3/5"}),"\n",(0,i.jsx)(c.A,{items:["AI12-0414-1"]}),"\n",(0,i.jsx)(d.A,{language:"ada",children:(0,i.jsxs)(t.p,{children:["package Ada.IO","_","Exceptions","\n","   with Pure is","\n","\n",(0,i.jsx)(p.A,{children:"4"}),"\nStatus","_","Error : exception;","\n","   Mode","_","Error   : exception;","\n","   Name","_","Error   : exception;","\n","   Use","_","Error    : exception;","\n","   Device","_","Error : exception;","\n","   End","_","Error    : exception;","\n","   Data","_","Error   : exception;","\n","   Layout","_","Error : exception;","\n","\n",(0,i.jsx)(p.A,{children:"5"}),"\nend Ada.IO","_","Exceptions;","\n"]})}),"\n",(0,i.jsx)(p.A,{children:"6"}),"\n",(0,i.jsxs)("p",{children:["If more than one error condition exists, the corresponding exception that appears earliest in the following list is the one that is propagated.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"7"}),"\n",(0,i.jsxs)("p",{children:["The exception Status","_","Error is propagated by an attempt to operate upon a file that is not open, and by an attempt to open a file that is already open.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"8"}),"\n",(0,i.jsxs)("p",{children:["The exception Mode","_","Error is propagated by an attempt to read from, or test for the end of, a file whose current mode is Out","_","File or Append","_","File, and also by an attempt to write to a file whose current mode is In","_","File. In the case of Text","_","IO, the exception Mode","_","Error is also propagated by specifying a file whose current mode is Out","_","File or Append","_","File in a call of Set","_","Input, Skip","_","Line, End","_","Of","_","Line, Skip","_","Page, or End","_","Of","_","Page; and by specifying a file whose current mode is In","_","File in a call of Set","_","Output, Set","_","Line","_","Length, Set","_","Page","_","Length, Line","_","Length, Page","_","Length, New","_","Line, or New","_","Page.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"9"}),"\n",(0,i.jsxs)("p",{children:["The exception Name","_","Error is propagated by a call of Create or Open if the string given for the parameter Name does not allow the identification of an external file. For example, this exception is propagated if the string is improper, or, alternatively, if either none or more than one external file corresponds to the string.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"10"}),"\n",(0,i.jsxs)("p",{children:["The exception Use","_","Error is propagated if an operation is attempted that is not possible for reasons that depend on characteristics of the external file. For example, this exception is propagated by the procedure Create, among other circumstances, if the given mode is Out","_","File but the form specifies an input only device, if the parameter Form specifies invalid access rights, or if an external file with the given name already exists and overwriting is not allowed.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"11"}),"\n",(0,i.jsxs)("p",{children:["The exception Device","_","Error is propagated if an input-output operation cannot be completed because of a malfunction of the underlying system.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"12"}),"\n",(0,i.jsxs)("p",{children:["The exception End","_","Error is propagated by an attempt to skip (read past) the end of a file.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"13"}),"\n",(0,i.jsxs)("p",{children:["The exception Data","_","Error can be propagated by the procedure Read (or by the Read attribute) if the element read cannot be interpreted as a value of the required subtype. This exception is also propagated by a procedure Get (defined in the package Text","_","IO) if the input character sequence fails to satisfy the required syntax, or if the value input does not belong to the range of the required subtype.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"14"}),"\n",(0,i.jsxs)("p",{children:["The exception Layout","_","Error is propagated (in text input-output) by Col, Line, or Page if the value returned exceeds Count'Last. The exception Layout","_","Error is also propagated on output by an attempt to set column or line numbers in excess of specified maximum line or page lengths, respectively (excluding the unbounded cases). It is also propagated by an attempt to Put too many characters to a string.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(p.A,{children:"14.1/3"}),"\n",(0,i.jsx)(c.A,{items:["AI05-0262-1"]}),"\n",(0,i.jsxs)("p",{children:["These exceptions are also propagated by various other language-defined packages and operations, see the definition of those entities for other reasons that these exceptions are propagated.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(p.A,{children:"14.a/3"}),(0,i.jsx)(c.A,{items:["AI05-0299-1"]}),(0,i.jsx)(s.A,{type:"aarm",aarm:"reason",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)("b",{}),"This subclause is based in Ada 95. Later versions of Ada (starting with Technical Corrigendum 1) have added a number of additional places and reasons that cause these exceptions. In particular, TC1 says that stream attributes need to raise End","_","Error in some circumstances; Amendment 1 adds Ada.Directories and a number of new places and reasons that Name","_","Error and Use","_","Error are raised. There are more. We don't want to try to update this text (or even this note!) for every possible reason and place that might raise one of these exceptions, so we add this blanket statement. ",(0,i.jsx)("br",{})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"documentation-requirements",children:"Documentation Requirements"}),"\n",(0,i.jsx)(p.A,{children:"15"}),"\n",(0,i.jsxs)("p",{children:["The implementation shall document the conditions under which Name","_","Error, Use","_","Error and Device","_","Error are propagated. ",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(p.A,{children:"15.a/2"}),(0,i.jsx)(s.A,{type:"aarm",aarm:"note",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)("b",{children:"Documentation Requirement: "}),"The conditions under which Io","_","Exceptions.Name","_","Error, Io","_","Exceptions.Use","_","Error, and Io","_","Exceptions.Device","_","Error are propagated.",(0,i.jsx)("br",{})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"implementation-permissions",children:"Implementation Permissions"}),"\n",(0,i.jsx)(p.A,{children:"16/5"}),"\n",(0,i.jsx)(c.A,{items:["AI12-0444-1"]}),"\n",(0,i.jsxs)("p",{children:["When the associated check is complex, it is optional to propagate Data","_","Error as part of a procedure Read (or the Read attribute) when the value read cannot be interpreted as a value of the required subtype. ",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(p.A,{children:"16.a"}),(0,i.jsx)(s.A,{type:"aarm",aarm:"ramification",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)("b",{}),"An example where the implementation may choose not to perform the check is an enumeration type with a representation clause with \u201Choles\u201D in the range of internal codes.",(0,i.jsx)("br",{})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"erroneous-execution",children:"Erroneous Execution"}),"\n",(0,i.jsx)(p.A,{children:"17"}),"\n",(0,i.jsxs)("p",{children:["[If the element read by the procedure Read (or by the Read attribute) cannot be interpreted as a value of the required subtype, but this is not detected and Data","_","Error is not propagated, then the resulting value can be abnormal, and subsequent references to the value can lead to erroneous execution, as explained in ",(0,i.jsx)("a",{href:"/docs/arm/AA-13/AA-13.9#Subclause_13.9.1",children:"13.9.1"}),". ]",(0,i.jsx)("br",{})]})]})}function A(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}}}]);